(()=>{"use strict";const e=e=>{const t=document.createElement("li");return t.setAttribute("class",e),t},t=e=>{const t=document.createElement("span");return t.classList.add(e),t},n=(e,t)=>{const n=document.createElement("img");return n.classList.add(t),n.setAttribute("src",e),n.setAttribute("draggable","false"),n},s=e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},c=()=>document.createElement("form"),o=e=>{const t=document.createElement("div");return t.setAttribute("class",e),t},r=()=>null!=document.querySelector("#user-input"),a=()=>{const e=document.querySelector("#user-input"),n=e.parentElement.parentElement,s=t("project-name"),c=document.querySelector("#user-input").value;if(c.match(/^[\s]/))return alert("Project name cannot start with a space");s.textContent=c,e.parentElement.remove(),n.insertBefore(s,n.childNodes[0])},d=()=>{r()||((()=>{const o=document.querySelector(".project-list"),r=e("project-item"),a=c(),d=s("Project name...");a.append(d);const i=t("icons"),l=n("images/edit-icon.svg","edit-icon"),u=n("images/delete-icon.svg","delete-icon");l.classList.add("edit-project"),u.classList.add("delete-project"),i.append(l,u),r.append(a,i),o.insertBefore(r,o.lastElementChild)})(),document.querySelector("#user-input").parentElement.addEventListener("submit",(function(s){s.preventDefault(),a(),r()||(()=>{const s=document.querySelector(".project-list"),c=s.childElementCount-2,r=s.children[c].textContent,a=document.querySelector("#writing-area"),d=o("project"),i=o("skip-line"),l=o("project-heading"),u=document.createElement("h2");u.setAttribute("class","notepad-text"),u.textContent=r;const m=document.createElement("h3");m.setAttribute("class","notepad-text"),m.textContent="Due Date";const p=document.createElement("ul");p.classList.add("notepad-text","todos");const g=e("task"),E=t("add-task"),v=n("images/add-icon.svg","add-icon");E.append(v,"Add Task"),g.append(E),p.append(g),l.append(u,m),d.append(l,p),a.append(d,i)})()})))};(()=>{const e=document.getElementById("bars-icon-mobile");screen.width<=1024&&e.classList.contains("hidden")&&e.classList.toggle("hidden");const t=document.getElementById("sidebar"),n=()=>{t.classList.toggle("toggle-sidebar"),screen.width<=1024&&e.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",n)}))})(),document.addEventListener("click",(e=>{e.target.closest(".delete-project")&&e.target.closest(".project-item").remove()})),document.querySelector("[data-add-project]").addEventListener("click",d),document.addEventListener("click",(e=>{e.target.classList.contains("edit-project")&&(e=>{if(r())return;const t=c(),n=s("Project name..."),o=e.target.parentElement.previousElementSibling;n.value=o.textContent,o.remove(),t.append(n);const d=e.target.closest(".project-item");d.insertBefore(t,d.childNodes[0]),t.addEventListener("submit",(function(e){e.preventDefault(),a()}))})(e)})),document.addEventListener("click",(e=>{e.target.classList.contains("task-item")&&e.target.parentElement.classList.toggle("completed")})),document.addEventListener("click",(e=>{e.target.classList.contains("add-task")&&(console.log("add task"),(()=>{const e=t("task-item");e.textContent="user input";const s=t("icons"),c=n("images/edit-icon.svg","edit-icon"),o=n("images/delete-icon.svg","delete-icon");s.append(c,o),e.append(s)})())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxDQUFZakMsTUFNcEJ0QyxTQUFTcUMsaUJBQWlCLFNBQVVDLElBQzVCQSxFQUFFNEIsT0FBTzlELFVBQVV1RCxTQUFTLGNBQ1JyQixFQUFFNEIsT0FBT2xELGNDcEN6QlosVUFBVXdELE9BQU8sZ0JEeUM3QjVELFNBQVNxQyxpQkFBaUIsU0FBVUMsSUFDNUJBLEVBQUU0QixPQUFPOUQsVUFBVXVELFNBQVMsY0FDNUJhLFFBQVFDLElBQUksWUN2Q0gsTUFNakIsTUFBTUMsRUFBVyxFQUFpQyxhQUNsREEsRUFBU3BELFlBQWMsYUFFdkIsTUFBTVUsRUFBVyxFQUFpQyxTQUU1Q0MsRUFBVyxFQUFrQyx1QkFBd0IsYUFDckVDLEVBQWEsRUFBa0MseUJBQTBCLGVBRS9FRixFQUFTRCxPQUFPRSxFQUFVQyxHQUMxQndDLEVBQVMzQyxPQUFPQyxJRHlCUjJDLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY3JlYXRlRE9NRWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdGFza3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRE9NIEVsZW1lbnRzIEZhY3RvcnkgRnVuY3Rpb25cbmNvbnN0IGNyZWF0ZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUxpc3RFbGVtZW50ID0gKGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlU3BhbkVsZW1lbnQgPSAoaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVJbWFnZUVsZW1lbnQgPSAoc3JjLCBodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKGh0bWxDbGFzcyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICdmYWxzZScpO1xuICAgICAgICByZXR1cm4gaW1nO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjcmVhdGVGb3JtID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIHJldHVybiBpbnB1dEZvcm07XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlSW5wdXRGaWVsZCA9IChwbGFjZWhvbGRlclRleHQpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgcGxhY2Vob2xkZXJUZXh0KTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCAndXNlci1pbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiB1c2VySW5wdXQ7XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlRGl2ID0gKGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH1cblxuICAgIHJldHVybiB7Y3JlYXRlTGlzdEVsZW1lbnQsIGNyZWF0ZVNwYW5FbGVtZW50LCBjcmVhdGVJbWFnZUVsZW1lbnQsIGNyZWF0ZUlucHV0RmllbGQsIGNyZWF0ZUZvcm0sIGNyZWF0ZURpdn1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWxlbWVudHMoKTsiLCJpbXBvcnQgY3JlYXRlRWxlbWVudHMgZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcblxuY29uc3QgYWRkUHJvamVjdFRvU2lkZWJhciA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcblxuICAgIGNvbnN0IHByb2plY3RMaXN0RWxlbWVudCA9ICBjcmVhdGVFbGVtZW50cy5jcmVhdGVMaXN0RWxlbWVudCgncHJvamVjdC1pdGVtJyk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdElucHV0Rm9ybSA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZUlucHV0ID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlSW5wdXRGaWVsZCgnUHJvamVjdCBuYW1lLi4uJyk7XG4gICAgcHJvamVjdElucHV0Rm9ybS5hcHBlbmQocHJvamVjdE5hbWVJbnB1dCk7XG5cbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gKG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdCA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZVNwYW5FbGVtZW50KCdwcm9qZWN0LW5hbWUnKTtcbiAgICAgICAgbmV3UHJvamVjdC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIHJldHVybiBuZXdQcm9qZWN0O1xuICAgIH1cblxuICAgIGNvbnN0IGljb25TcGFuID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlU3BhbkVsZW1lbnQoJ2ljb25zJyk7XG4gICAgY29uc3QgZWRpdEljb24gPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9lZGl0LWljb24uc3ZnJywgJ2VkaXQtaWNvbicpO1xuICAgIGNvbnN0IGRlbGV0ZUljb24gPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9kZWxldGUtaWNvbi5zdmcnLCAnZGVsZXRlLWljb24nKTtcbiAgICBcbiAgICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkKCdlZGl0LXByb2plY3QnKTtcbiAgICBkZWxldGVJY29uLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZS1wcm9qZWN0Jyk7XG4gICAgXG4gICAgaWNvblNwYW4uYXBwZW5kKGVkaXRJY29uLCBkZWxldGVJY29uKTtcbiAgICBwcm9qZWN0TGlzdEVsZW1lbnQuYXBwZW5kKHByb2plY3RJbnB1dEZvcm0sIGljb25TcGFuKTtcbiAgICBwcm9qZWN0c0NvbnRhaW5lci5pbnNlcnRCZWZvcmUocHJvamVjdExpc3RFbGVtZW50LCBwcm9qZWN0c0NvbnRhaW5lci5sYXN0RWxlbWVudENoaWxkKTtcblxuICAgIHJldHVybiB7bmV3UHJvamVjdCwgcHJvamVjdE5hbWVJbnB1dCwgcHJvamVjdElucHV0Rm9ybSwgaWNvblNwYW4sIHByb2plY3RMaXN0RWxlbWVudH1cbn1cblxuY29uc3QgYXdhaXRpbmdJbnB1dCA9ICgpID0+IHtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIGlmICh1c2VySW5wdXQgIT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmNvbnN0IGdldFVzZXJJbnB1dCA9ICgpID0+IHtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gdXNlcklucHV0LnZhbHVlO1xuXG4gICAgcmV0dXJuIHByb2plY3ROYW1lO1xufVxuXG5jb25zdCBoYW5kbGVVc2VySW5wdXQgPSAoKSA9PiB7IFxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0JylcbiAgICBjb25zdCBpbnB1dEZvcm0gPSB1c2VySW5wdXQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGlucHV0Rm9ybS5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RTcGFuID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlU3BhbkVsZW1lbnQoJ3Byb2plY3QtbmFtZScpO1xuXG4gICAgXG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBnZXRVc2VySW5wdXQoKTtcbiAgICBpZiAocHJvamVjdE5hbWUubWF0Y2goL15bXFxzXS8pKSByZXR1cm4gYWxlcnQoJ1Byb2plY3QgbmFtZSBjYW5ub3Qgc3RhcnQgd2l0aCBhIHNwYWNlJyk7XG5cbiAgICBwcm9qZWN0U3Bhbi50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgIHVzZXJJbnB1dC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHByb2plY3RJdGVtLmluc2VydEJlZm9yZShwcm9qZWN0U3BhbiwgcHJvamVjdEl0ZW0uY2hpbGROb2Rlc1swXSk7IFxufVxuXG5jb25zdCBhZGRQcm9qZWN0VG9Ob3RlcGFkID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0TnVtYmVyID0gcHJvamVjdExpc3QuY2hpbGRFbGVtZW50Q291bnQgLSAyO1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdExpc3QuY2hpbGRyZW5bY3VycmVudFByb2plY3ROdW1iZXJdLnRleHRDb250ZW50O1xuXG4gICAgY29uc3Qgbm90ZXBhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3cml0aW5nLWFyZWEnKTtcbiAgICBjb25zdCBwcm9qZWN0RGl2ID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlRGl2KCdwcm9qZWN0Jyk7XG4gICAgY29uc3Qgc2tpcExpbmUgPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVEaXYoJ3NraXAtbGluZScpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3RIZWFkaW5nID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlRGl2KCdwcm9qZWN0LWhlYWRpbmcnKTtcbiAgICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgaDIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlcGFkLXRleHQnKTtcbiAgICBoMi50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgIGNvbnN0IGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBoMy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ25vdGVwYWQtdGV4dCcpO1xuICAgIGgzLnRleHRDb250ZW50ID0gJ0R1ZSBEYXRlJztcbiAgICBcbiAgICBcbiAgICAvLyBUT0RPOiBhZGQgQWRkIFRhc2sgYnV0dG9uXG4gICAgY29uc3QgdGFza3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRhc2tzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ25vdGVwYWQtdGV4dCcsICd0b2RvcycpO1xuXG5cbiAgICBjb25zdCBhZGRUYXNrTGlzdEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVMaXN0RWxlbWVudCgndGFzaycpO1xuICAgIGNvbnN0IGFkZFRhc2tTcGFuID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlU3BhbkVsZW1lbnQoJ2FkZC10YXNrJyk7XG4gICAgY29uc3QgYWRkSWNvbiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2FkZC1pY29uLnN2ZycsICdhZGQtaWNvbicpO1xuICAgIGFkZFRhc2tTcGFuLmFwcGVuZChhZGRJY29uLCAnQWRkIFRhc2snKTtcbiAgICAvL2FkZFRhc2tTcGFuLmlubmVyVGV4dCA9ICdBZGQgVGFzayc7XG5cbiAgICBhZGRUYXNrTGlzdEVsZW1lbnQuYXBwZW5kKGFkZFRhc2tTcGFuKTtcbiAgICB0YXNrc0NvbnRhaW5lci5hcHBlbmQoYWRkVGFza0xpc3RFbGVtZW50KTtcbiAgICBwcm9qZWN0SGVhZGluZy5hcHBlbmQoaDIsIGgzKTtcbiAgICBwcm9qZWN0RGl2LmFwcGVuZChwcm9qZWN0SGVhZGluZywgdGFza3NDb250YWluZXIpO1xuICAgIG5vdGVwYWQuYXBwZW5kKHByb2plY3REaXYsIHNraXBMaW5lKTtcbn1cbi8vIFRPRE86IGNyZWF0ZSBmdW5jdGlvbiB0byB1cGRhdGUgcHJvamVjdCBuYW1lIG9uIG5vdGVwYWQgd2hlbiB1c2VyIGVkaXRzIGl0XG5cbmNvbnN0IGFkZFByb2plY3QgPSAoKSA9PiB7XG4gICAgaWYgKGF3YWl0aW5nSW5wdXQoKSkgcmV0dXJuO1xuICAgIGFkZFByb2plY3RUb1NpZGViYXIoKTtcblxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0JylcbiAgICBjb25zdCBpbnB1dEZvcm0gPSB1c2VySW5wdXQucGFyZW50RWxlbWVudDtcblxuICAgIGlucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGhhbmRsZVVzZXJJbnB1dCgpO1xuICAgICAgICBpZiAoIWF3YWl0aW5nSW5wdXQoKSkgYWRkUHJvamVjdFRvTm90ZXBhZCgpO1xuICAgIH0pO1xufVxuXG5jb25zdCBkZWxldGVQcm9qZWN0ID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5kZWxldGUtcHJvamVjdCcpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1pdGVtJykucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiBcbmNvbnN0IGVkaXRQcm9qZWN0ID0gKGUpID0+IHtcbiAgICBpZiAoYXdhaXRpbmdJbnB1dCgpKSByZXR1cm47XG4gICAgY29uc3QgaW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlRm9ybSgpO1xuICAgIGNvbnN0IGlucHV0RmllbGQgPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgIGlucHV0RmllbGQudmFsdWUgPSBwcm9qZWN0TmFtZS50ZXh0Q29udGVudDtcbiAgICBwcm9qZWN0TmFtZS5yZW1vdmUoKTtcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuXG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1pdGVtJyk7XG4gICAgcHJvamVjdEl0ZW0uaW5zZXJ0QmVmb3JlKGlucHV0Rm9ybSwgcHJvamVjdEl0ZW0uY2hpbGROb2Rlc1swXSk7XG5cbiAgICBpbnB1dEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBoYW5kbGVVc2VySW5wdXQoKTtcbiAgICAgICAgLy9pZiAoIWF3YWl0aW5nSW5wdXQoKSkgZWRpdFByb2plY3RPbk5vdGVwYWQoKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgXG4gICAgYWRkUHJvamVjdCxcbiAgICBkZWxldGVQcm9qZWN0LFxuICAgIGVkaXRQcm9qZWN0LFxuICAgIGNyZWF0ZUVsZW1lbnRzXG59IiwiaW1wb3J0IHthZGRQcm9qZWN0LCBkZWxldGVQcm9qZWN0LCBlZGl0UHJvamVjdH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB7dG9nZ2xlVGFzaywgYWRkVGFza1RvRE9NfSBmcm9tIFwiLi90YXNrc1wiO1xuXG4vLyBTaWRlYmFyIE1vZHVsZVxuY29uc3Qgc2lkZWJhckNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgbW9iaWxlVG9nZ2xlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhcnMtaWNvbi1tb2JpbGUnKTtcbiAgICBpZiAoc2NyZWVuLndpZHRoIDw9IDEwMjQgJiYgbW9iaWxlVG9nZ2xlQnRuLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgbW9iaWxlVG9nZ2xlQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIGNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhcicpO1xuICAgIFxuICAgIGNvbnN0IHRvZ2dsZVNpZGViYXIgPSAoKSA9PiB7XG4gICAgICAgIHNpZGViYXIuY2xhc3NMaXN0LnRvZ2dsZSgndG9nZ2xlLXNpZGViYXInKTtcbiAgICAgICAgaWYgKHNjcmVlbi53aWR0aCA8PSAxMDI0KSBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHRvZ2dsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYXJzLWljb24nKTtcbiAgICB0b2dnbGVCdG4uZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaWRlYmFyKTtcbiAgICB9KTsgICAgICAgIFxufSkoKTtcblxuY29uc3QgcHJvamVjdENvbnRyb2xsZXIgPSAoKCkgPT4ge1xuICAgIGRlbGV0ZVByb2plY3QoKTtcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXByb2plY3RdJyk7XG4gICAgYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFByb2plY3QpO1xuICAgIFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWRpdC1wcm9qZWN0JykpIHtcbiAgICAgICAgICAgIGVkaXRQcm9qZWN0KGUpO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5jb25zdCB0YXNrQ29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLWl0ZW0nKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgdG9nZ2xlVGFzayh0YXNrRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWRkLXRhc2snKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2FkZCB0YXNrJyk7XG4gICAgICAgICAgICBhZGRUYXNrVG9ET00oKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KSgpOyIsImltcG9ydCBjcmVhdGVFbGVtZW50cyBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuXG5jb25zdCB0b2dnbGVUYXNrID0gKHRhc2tFbGVtZW50KSA9PiB7XG4gICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnY29tcGxldGVkJyk7XG59XG5cbi8vIFRPRE86IEJlZm9yZSBjb250aW51aW5nIHdpdGggdGhpcyBzdHVmZiwgZ2V0IHRoZSBwcm9qZWN0IGRpdiBzdHVmZiBvbiBub3RlcGFkIHdoZW4gdXNlciBhZGRzIG5ldyBwcm9qZWN0XG5jb25zdCBhZGRUYXNrVG9ET00gPSAoKSA9PiB7XG4gICAgLy8gY3JlYXRlIHNwYW4gd2l0aCBjbGFzcyAndGFzay1pdGVtJ1xuICAgIC8vIHNwYW4gc2hvdWxkIGdldCB1c2VyIGlucHV0IGFuZCBzYXZlIGl0IGFzIHNwYW4udGV4dENvbnRlbnRcbiAgICAvLyBjcmVhdGUgc3BhbiB3aXRoIGNsYXNzICdpY29ucydcbiAgICAvLyBhZGQgZWRpdCBhbmQgZGVsZXRlIGljb25zXG5cbiAgICBjb25zdCB0YXNrU3BhbiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLWl0ZW0nKTtcbiAgICB0YXNrU3Bhbi50ZXh0Q29udGVudCA9ICd1c2VyIGlucHV0JzsgLy8gVE9ETzogR2V0IHVzZXIgaW5wdXRcblxuICAgIGNvbnN0IGljb25TcGFuID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlU3BhbkVsZW1lbnQoJ2ljb25zJyk7XG4gICAgLy8gVE9ETzogQ2FuJ3QgYWRkIHNlY29uZCBjbGFzcyB3aXRoIHRoaXMgbWV0aG9kIHNvIGZpZ3VyZSBvdXQgYW5vdGhlciB3YXkgdG8gYWRkIGEgc2Vjb25kIGNsYXNzIHRvIGljb25zXG4gICAgY29uc3QgZWRpdEljb24gPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9lZGl0LWljb24uc3ZnJywgJ2VkaXQtaWNvbicpO1xuICAgIGNvbnN0IGRlbGV0ZUljb24gPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9kZWxldGUtaWNvbi5zdmcnLCAnZGVsZXRlLWljb24nKTtcblxuICAgIGljb25TcGFuLmFwcGVuZChlZGl0SWNvbiwgZGVsZXRlSWNvbik7XG4gICAgdGFza1NwYW4uYXBwZW5kKGljb25TcGFuKTtcblxuICAgIHJldHVybiB0YXNrU3Bhbjtcbn1cblxuY29uc3QgYWRkRHVlRGF0ZVRvRE9NID0gKCkgPT4ge1xuICAgIC8vIGNyZWF0ZSBzcGFuIHdpdGggY2xhc3MgJ2R1ZS1kYXRlJ1xuICAgIC8vIGNyZWF0ZSBwcmlvcml0eSBpY29uIHdpdGggY2xhc3MgJ3ByaW9yaXR5LWljb24gcHJpb3JpdHktbG93J1xuICAgIC8vIGNyZWF0ZSBzcGFuIHdpdGggY2xhc3MgJ2RhdGUnIGFuZCBzZXQgdGV4dENvbnRlbnQgdG8gZGVmYXVsdCBkYXRlIChjdXJyZW50IGRhdGUpXG4gICAgLy8gY3JlYXRlIGNhbGVuZGFyIGljb24gd2l0aCBjbGFzcyAnY2FsZW5kYXItaWNvbidcbiAgICBjb25zdCBjcmVhdGVEdWVEYXRlID0gY3JlYXRlRWxlbWVudHMoKTtcblxuICAgIC8vY29uc3QgZHVlRGF0ZVNwYW4gPSBjcmVhdGVEdWVEYXRlLlxufVxuXG5jb25zdCBhZGRUYXNrID0gKCkgPT4ge1xuICAgIC8vIGNyZWF0ZSBsaSB3aXRoIGNsYXNzICd0YXNrJyBhbmQgYXBwZW5kIGV2ZXJ5dGhpbmcgdG8gaXRcblxufVxuXG5leHBvcnQge1xuICAgIHRvZ2dsZVRhc2ssXG4gICAgYWRkVGFza1RvRE9NLFxufSJdLCJuYW1lcyI6WyJodG1sQ2xhc3MiLCJsaSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInNwYW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJzcmMiLCJpbWciLCJwbGFjZWhvbGRlclRleHQiLCJ1c2VySW5wdXQiLCJyZXF1aXJlZCIsImRpdiIsImF3YWl0aW5nSW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwiaGFuZGxlVXNlcklucHV0IiwicHJvamVjdEl0ZW0iLCJwYXJlbnRFbGVtZW50IiwicHJvamVjdFNwYW4iLCJwcm9qZWN0TmFtZSIsInZhbHVlIiwibWF0Y2giLCJhbGVydCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGROb2RlcyIsImFkZFByb2plY3QiLCJwcm9qZWN0c0NvbnRhaW5lciIsInByb2plY3RMaXN0RWxlbWVudCIsInByb2plY3RJbnB1dEZvcm0iLCJwcm9qZWN0TmFtZUlucHV0IiwiYXBwZW5kIiwiaWNvblNwYW4iLCJlZGl0SWNvbiIsImRlbGV0ZUljb24iLCJsYXN0RWxlbWVudENoaWxkIiwiYWRkUHJvamVjdFRvU2lkZWJhciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJwcm9qZWN0TGlzdCIsImN1cnJlbnRQcm9qZWN0TnVtYmVyIiwiY2hpbGRFbGVtZW50Q291bnQiLCJjaGlsZHJlbiIsIm5vdGVwYWQiLCJwcm9qZWN0RGl2Iiwic2tpcExpbmUiLCJwcm9qZWN0SGVhZGluZyIsImgyIiwiaDMiLCJ0YXNrc0NvbnRhaW5lciIsImFkZFRhc2tMaXN0RWxlbWVudCIsImFkZFRhc2tTcGFuIiwiYWRkSWNvbiIsImFkZFByb2plY3RUb05vdGVwYWQiLCJtb2JpbGVUb2dnbGVCdG4iLCJnZXRFbGVtZW50QnlJZCIsInNjcmVlbiIsIndpZHRoIiwiY29udGFpbnMiLCJ0b2dnbGUiLCJzaWRlYmFyIiwidG9nZ2xlU2lkZWJhciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYnV0dG9uIiwidGFyZ2V0IiwiY2xvc2VzdCIsImlucHV0Rm9ybSIsImlucHV0RmllbGQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZWRpdFByb2plY3QiLCJjb25zb2xlIiwibG9nIiwidGFza1NwYW4iLCJhZGRUYXNrVG9ET00iXSwic291cmNlUm9vdCI6IiJ9