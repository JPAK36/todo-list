(()=>{"use strict";const t=(()=>{const e=()=>JSON.parse(localStorage.getItem("projects")||"[]"),t=t=>{const a=e(),n=a.find((e=>e.id==t.id));n?(n.projectName=t.projectName,n.tasks=t.tasks):(t.id=Math.floor(1e6*Math.random()),a.push(t)),localStorage.setItem("projects",JSON.stringify(a))};return{getProjects:e,getTasks:t=>e().find((e=>e.id==t)).tasks,saveProject:t,deleteProject:t=>{const a=e().filter((e=>e.id!=t));localStorage.setItem("projects",JSON.stringify(a))},deleteTask:(a,n)=>{const s=e().find((e=>e.id==a)),o=s.tasks.filter((e=>e.taskId!=n));s.tasks=o,t(s)},findTaskToUpdate:(t,a)=>e().find((e=>e.id==t)).tasks.find((e=>e.taskId==a)),updateTask:(t,a)=>{const n=e(),s=n.find((e=>e.id==t)),o=s.tasks,r=o.findIndex((e=>e.taskId==a.taskId));o[r]=a,s.tasks=o,localStorage.setItem("projects",JSON.stringify(n))}}})(),a=(()=>{const e=()=>{const e=t.getProjects();a(e)},a=e=>{c(e)},n=e=>{d(e)};return{onProjectSelect:e=>{const a=t.getProjects().find((t=>t.id==e)),s=document.querySelector(`[data-project-id='${a.id}']`);n(s)},onProjectAdd:a=>{const s={projectName:a,tasks:[]};t.saveProject(s),e();const o=document.querySelector(`[data-project-id='${s.id}']`);n(o)},onProjectNameEdit:(a,n,s=t.getTasks(a))=>{t.saveProject({id:a,projectName:n,tasks:s}),e()},onTaskAdd:(e,a)=>{const n={item:e,taskId:Math.floor(1e6*Math.random()),priority:"low",dueDate:null,isComplete:!1},s=t.getProjects().find((e=>e.id==a));return s.tasks.push(n),t.saveProject(s),n},onTaskNameEdit:(e,a,n)=>{const s=t.findTaskToUpdate(e,a);t.updateTask(e,{item:n,taskId:s.taskId,priority:s.priority,dueDate:s.dueDate,isComplete:s.isComplete})},onTaskPriorityEdit:(e,a,n)=>{const s=t.findTaskToUpdate(e,a);t.updateTask(e,{item:s.item,taskId:s.taskId,priority:n,dueDate:s.dueDate,isComplete:s.isComplete})},onTaskDueDateEdit:(e,a,n)=>{const s=t.findTaskToUpdate(e,a);t.updateTask(e,{item:s.item,taskId:s.taskId,priority:s.priority,dueDate:n,isComplete:s.isComplete})},onTaskCompleteEdit:(e,a,n)=>{const s=t.findTaskToUpdate(e,a);t.updateTask(e,{item:s.item,taskId:s.taskId,priority:s.priority,dueDate:s.dueDate,isComplete:n})}}})(),n=()=>({createListElement:e=>{const t=document.createElement("li");return t.setAttribute("class",e),t},createSpanElement:e=>{const t=document.createElement("span");return t.classList.add(e),t},createImageElement:(e,t)=>{const a=document.createElement("img");return a.classList.add(t),a.setAttribute("src",e),a.setAttribute("draggable","false"),a},createInputField:e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},createForm:()=>document.createElement("form"),createDiv:e=>{const t=document.createElement("div");return t.setAttribute("class",e),t}}),s=()=>{const e=n(),t=e.createSpanElement("icons"),a=e.createImageElement("images/edit-icon.svg","edit-icon"),s=e.createImageElement("images/delete-icon.svg","delete-icon");return a.classList.add("edit-project"),s.classList.add("delete-project"),t.append(a,s),t},o=e=>{const a=n(),s=t.getProjects().find((t=>t.id==e)).projectName,o=document.querySelector("#writing-area"),r=a.createDiv("project");r.setAttribute("data-project-id",e);const c=a.createDiv("skip-line"),d=a.createDiv("project-heading"),i=document.createElement("h2");i.setAttribute("class","notepad-text"),i.textContent=s;const l=document.createElement("h3");l.setAttribute("class","notepad-text"),l.textContent="Due Date";const p=document.createElement("ul");p.classList.add("notepad-text","todos");const m=a.createListElement("task"),u=a.createSpanElement("add-task"),E=a.createImageElement("images/add-icon.svg","add-icon");u.append(E,"Add Task"),m.append(u),p.append(m,c),d.append(i,l),r.append(d,p),o.append(r)},r=(e,t)=>{const a=n(),o=a.createListElement("project-item");o.setAttribute("data-project-id",e);const r=a.createSpanElement("project-name");r.textContent=t;const c=s();return o.append(r,c),o},c=e=>{const t=document.querySelector(".project-list"),n=document.querySelector("[data-add-project]");[].slice.call(t.children).forEach((e=>{e.classList.contains("project-item")&&e.remove()}));for(const a of e){const e=r(a.id,a.projectName);t.insertBefore(e,n)}t.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",(()=>{a.onProjectSelect(e.dataset.projectId)}))}))},d=e=>{const t=document.querySelector(".active");t&&t.classList.remove("active"),e.classList.add("active"),e.children.item(0)},i=()=>null!=document.querySelector("#user-input"),l=()=>{const e=document.querySelector("#user-input"),t=e.parentElement.parentElement,a=n().createSpanElement("project-name"),s=e.value.trim();s&&(a.textContent=s,e.parentElement.remove(),t.insertBefore(a,t.childNodes[0]))},p=()=>{if(i())return;(()=>{const e=n(),t=document.querySelector(".project-list"),a=e.createListElement("project-item"),o=e.createForm(),r=e.createInputField("Project name...");o.append(r);const c=s();a.append(o,c),t.insertBefore(a,t.lastElementChild),setTimeout((()=>{r.focus()}),0)})();const e=document.querySelector("#user-input"),t=e.parentElement,r=t.parentElement;e.addEventListener("blur",(function(){if(""==e.value.trim())return void r.remove();l();const t=r.firstElementChild.textContent;a.onProjectAdd(t);const n=document.querySelector(".project-list"),s=n.children[n.childElementCount-2].getAttribute("data-project-id");i()||o(s)})),t.addEventListener("submit",(function(e){e.preventDefault(),l();const t=r.firstElementChild.textContent;a.onProjectAdd(t);const n=document.querySelector(".project-list"),s=n.children[n.childElementCount-2].getAttribute("data-project-id");i()||o(s)}))},m=()=>{const t=document.querySelector("#user-input"),a=t.parentElement,n=a.parentElement.parentElement;t.addEventListener("blur",(function(){const e=n.closest("[data-project-id]").dataset.projectId,a=t.value;E(),a&&u(a,e,n)})),a.addEventListener("submit",(function(){e.preventDefault();const a=n.closest("[data-project-id]").dataset.projectId,s=t.value;E(),s&&u(s,a,n)}))},u=(e,t,n)=>{if(n.dataset.taskId)return a.onTaskNameEdit(t,n.dataset.taskId,e);const s=a.onTaskAdd(e,t);n.setAttribute("data-task-id",s.taskId)},E=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,a=t.parentElement,s=a.parentElement,o=e.value.trim(),r=n().createSpanElement("task-text");r.append(o),""!=o||s.dataset.taskId?""==o&&s.dataset.taskId||(t.remove(),a.prepend(r)):s.remove()};window.onload=()=>{const e=t.getProjects();c(e),e.forEach((e=>{o(e.id);const t=e.tasks,r=document.querySelector(".notepad").querySelector(`[data-project-id="${e.id}"]`),c=r.querySelector("ul"),d=r.querySelector(".add-task");t.forEach((e=>{const t=(e=>{const t=n(),o=t.createListElement("task");o.setAttribute("data-task-id",e.taskId);const r=t.createSpanElement("task-item"),c=t.createSpanElement("task-text");c.textContent=e.item;const d=s();r.append(c,d);const i=(()=>{const e=n().createSpanElement("due-date"),t=n().createImageElement("images/priority-icon.svg","priority-icon");t.classList.add("priority-low");const s=document.createElement("label");s.classList.add("date-label");const o=document.createElement("input");o.setAttribute("type","date"),o.required=!0;const r=n().createImageElement("images/calendar-icon.svg","calendar-icon");return s.append(o,r),e.append(t,s),o.addEventListener("change",(()=>{const e=o.closest(".project").dataset.projectId,t=o.closest("[data-task-id]").dataset.taskId,n=o.value;return a.onTaskDueDateEdit(e,t,n)})),e})();return i.querySelector(".priority-icon").classList.add(`priority-${e.priority}`),i.querySelector("input").value=e.dueDate,e.isComplete&&o.classList.add("completed"),o.append(r,i),o})(e);c.insertBefore(t,d.parentElement)}))}))},(()=>{const e=document.getElementById("bars-icon-mobile");window.innerWidth<=1024&&e.classList.contains("hidden")&&e.classList.toggle("hidden");const t=document.getElementById("sidebar"),a=()=>{t.classList.toggle("toggle-sidebar"),window.innerWidth<=1024&&e.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",a)}))})(),document.addEventListener("click",(e=>{if(e.target.closest(".delete-project")){const a=e.target.closest(".project-item");a.remove();const n=a.dataset.projectId;t.deleteProject(n)}})),document.querySelector("[data-add-project]").addEventListener("click",p),document.addEventListener("click",(e=>{e.target.classList.contains("edit-project")&&(e=>{if(i())return;const t=n().createForm(),s=n().createInputField("Project name..."),o=e.target.parentElement.previousElementSibling;s.value=o.textContent,o.remove(),t.append(s);const r=e.target.closest(".project-item");r.insertBefore(t,r.childNodes[0]);const c=document.querySelector("#user-input");c.focus();const d=r.dataset.projectId;c.addEventListener("blur",(function(){""!=c.value&&l();const e=r.firstElementChild.textContent;p(d,e),a.onProjectNameEdit(d,e)})),t.addEventListener("submit",(function(e){e.preventDefault(),l();const t=r.firstElementChild.textContent;p(d,t),a.onProjectNameEdit(d,t)}));const p=(e,t)=>{const a=document.querySelector(".notepad").querySelector(`[data-project-id="${e}"]`);a&&(a.childNodes[0].childNodes[0].textContent=t)}})(e)})),document.addEventListener("click",(e=>{e.target.classList.contains("task-text")&&(e=>{e.classList.toggle("completed");let t=!1;e.classList.contains("completed")&&(t=!0);const n=e.closest(".project").dataset.projectId,s=e.dataset.taskId;a.onTaskCompleteEdit(n,s,t)})(e.target.closest(".task")),e.target.classList.contains("add-task")&&((e=>{if(document.getElementById("user-input"))return;const s=n().createListElement("task"),o=n().createSpanElement("task-item"),r=n().createForm(),c=n().createInputField("Enter Task...");r.append(c),o.append(r);const d=n().createSpanElement("icons"),i=n().createImageElement("images/edit-icon.svg","edit-icon"),l=n().createImageElement("images/delete-icon.svg","delete-icon");i.addEventListener("click",(()=>{if(s.classList.contains("completed"))return;const e=document.querySelector(".task-text"),t=e.textContent;e.remove();const a=n().createForm(),r=n().createInputField("Enter Task...");r.value=t,a.append(r),o.insertBefore(a,d),s.prepend(o),r.focus(),m()})),l.addEventListener("click",(e=>{const a=e.target.closest("[data-project-id]").dataset.projectId,n=e.target.closest("[data-task-id]").dataset.taskId;s.remove(),t.deleteTask(a,n)})),d.append(i,l),o.append(d);const p=(()=>{const e=n().createSpanElement("due-date"),t=n().createImageElement("images/priority-icon.svg","priority-icon");t.classList.add("priority-low");const s=document.createElement("label");s.classList.add("date-label");const o=document.createElement("input");o.setAttribute("type","date"),o.required=!0;const r=n().createImageElement("images/calendar-icon.svg","calendar-icon");return s.append(o,r),e.append(t,s),o.addEventListener("change",(()=>{const e=o.closest([".project"]).dataset.projectId,t=o.closest("[data-task-id").dataset.taskId,n=o.value;return a.onTaskDueDateEdit(e,t,n)})),e})();s.append(o,p);const u=e.closest(".todos"),E=u.childElementCount-2;u.insertBefore(s,u.children[E]),setTimeout((()=>{c.focus()}),0)})(e.target),m()),e.target.classList.contains("priority-icon")&&(e=>{if(e.parentElement.parentElement.classList.contains("completed"))return;const t=e.closest(".project").dataset.projectId,n=e.closest("[data-task-id]").dataset.taskId,s=e.classList;s.contains("priority-low")?(s.remove("priority-low"),s.add("priority-medium"),a.onTaskPriorityEdit(t,n,"medium")):s.contains("priority-medium")?(s.remove("priority-medium"),s.add("priority-high"),a.onTaskPriorityEdit(t,n,"high")):s.contains("priority-high")&&(s.remove("priority-high"),s.add("priority-low"),a.onTaskPriorityEdit(t,n,"low"))})(e.target)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZG8tbGlzdC8uL3NyYy9oYW5kbGVycy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY3JlYXRlRE9NRWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90YXNrcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdXBkYXRlU3RvcmFnZSA9ICgpID0+IHtcbiAgICBcbiAgICBjb25zdCBnZXRQcm9qZWN0cyA9ICgpID0+IHtcbiAgICAgICAgLy8gY3JlYXRlcyBhbiBhcnJheSBvZiBvYmplY3RzIFxuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykgfHwgJ1tdJyk7XG4gICAgICAgIHJldHVybiBwcm9qZWN0cztcbiAgICB9XG5cbiAgICBjb25zdCBnZXRUYXNrcyA9IChwcm9qZWN0SWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCBjdXJyZW50UHJvamVjdCA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IHByb2plY3RJZCk7XG4gICAgICAgIGNvbnN0IHRhc2tzID0gY3VycmVudFByb2plY3QudGFza3M7XG4gICAgICAgIHJldHVybiB0YXNrcztcbiAgICB9XG5cbiAgICBjb25zdCBzYXZlUHJvamVjdCA9IChwcm9qZWN0VG9TYXZlKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTtcblxuICAgICAgICAvLyBmaW5kIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBvYmplY3QgdGhhdCBtYXRjaGVzIHRoZSBpZFxuICAgICAgICBjb25zdCBleGlzdGluZyA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IHByb2plY3RUb1NhdmUuaWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBleGlzdGluZy5wcm9qZWN0TmFtZSA9IHByb2plY3RUb1NhdmUucHJvamVjdE5hbWU7XG4gICAgICAgICAgICBleGlzdGluZy50YXNrcyA9IHByb2plY3RUb1NhdmUudGFza3M7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9qZWN0VG9TYXZlLmlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCk7XG4gICAgICAgICAgICAvLyBBZGQgcHJvamVjdE5hbWVcbiAgICAgICAgICAgIC8vIEFkZCBUYXNrcyBhcnJheSBjb250YWluaW5nIGFub3RoZXIgYXJyYXkgd2hpY2ggaW5jbHVkZXMgdGFzaywgcHJpb3JpdHksIGR1ZURhdGUsIGFuZCB0cnVlL2ZhbHNlIGZvciBjb21wbGV0ZWQgb3Igbm90XG4gICAgICAgICAgICBwcm9qZWN0cy5wdXNoKHByb2plY3RUb1NhdmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVUYXNrID0gKHByb2plY3RJZCwgdXBkYXRlZFRhc2spID0+IHtcbiAgICAgICAgLy8gdGFza3MgZm9yIGN1cnJlbnQgcHJvamVjdFxuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RUb1VwZGF0ZSA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IHByb2plY3RJZCk7XG4gICAgICAgIGNvbnN0IHRhc2tzQXJyYXkgPSBwcm9qZWN0VG9VcGRhdGUudGFza3M7XG4gICAgICAgIFxuICAgICAgICAvLyBmaW5kIHRhc2sgaW5kZXggYW5kIHJlcGxhY2UgdGhlIHRhc2sgYXQgdGhhdCBpbmRleCB0byB1cGRhdGVcbiAgICAgICAgY29uc3QgaW5kZXhPZlVwZGF0ZWRUYXNrID0gdGFza3NBcnJheS5maW5kSW5kZXgoKHRhc2tPYmopID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrT2JqLnRhc2tJZCA9PSB1cGRhdGVkVGFzay50YXNrSWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRhc2tzQXJyYXlbaW5kZXhPZlVwZGF0ZWRUYXNrXSA9IHVwZGF0ZWRUYXNrO1xuICAgICAgICAvLyBTYXZlIHVwZGF0ZWQgdGFza3MgYXJyYXkgdG8gdGhlIHByb2plY3Qgb2JqZWN0XG4gICAgICAgIHByb2plY3RUb1VwZGF0ZS50YXNrcyA9IHRhc2tzQXJyYXk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG4gICAgfVxuXG4gICAgY29uc3QgZmluZFRhc2tUb1VwZGF0ZSA9IChwcm9qZWN0SWQsIGV4aXN0aW5nVGFza0lkKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTsgICAgIFxuICAgICAgICBjb25zdCBwcm9qZWN0VG9VcGRhdGUgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCB0YXNrc0FycmF5ID0gcHJvamVjdFRvVXBkYXRlLnRhc2tzXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IHRhc2tzQXJyYXkuZmluZCh0YXNrID0+IHRhc2sudGFza0lkID09IGV4aXN0aW5nVGFza0lkKTtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nVGFzaztcbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVQcm9qZWN0ID0gKGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFByb2plY3RMaXN0ID0gcHJvamVjdHMuZmlsdGVyKHByb2plY3QgPT4gcHJvamVjdC5pZCAhPSBpZCk7XG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZFByb2plY3RMaXN0KSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlVGFzayA9IChpZCwgdGFza0lkKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdFdpdGhUYXNrID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gaWQpO1xuICAgICAgICBjb25zdCBhbGxUYXNrcyA9IHByb2plY3RXaXRoVGFzay50YXNrcztcbiAgICAgICAgLy8gRWFjaCB0YXNrIGlzIGFuIG9iamVjdFxuICAgICAgICBjb25zdCB1cGRhdGVkVGFza09iaiA9IGFsbFRhc2tzLmZpbHRlcih0YXNrT2JqID0+IHRhc2tPYmoudGFza0lkICE9IHRhc2tJZCk7XG4gICAgICAgIHByb2plY3RXaXRoVGFzay50YXNrcyA9IHVwZGF0ZWRUYXNrT2JqO1xuXG4gICAgICAgIHNhdmVQcm9qZWN0KHByb2plY3RXaXRoVGFzayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgZ2V0UHJvamVjdHMsIGdldFRhc2tzLCBzYXZlUHJvamVjdCwgZGVsZXRlUHJvamVjdCwgZGVsZXRlVGFzaywgZmluZFRhc2tUb1VwZGF0ZSwgdXBkYXRlVGFzayB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVwZGF0ZVN0b3JhZ2UoKTsiLCJpbXBvcnQgeyB1cGRhdGVQcm9qZWN0TGlzdCwgdXBkYXRlQWN0aXZlVGFiIH0gZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7Zm9ybWF0fSBmcm9tIFwiZGF0ZS1mbnNcIjtcblxuY29uc3QgaGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgXG4gICAgY29uc3QgX3JlZnJlc2hQcm9qZWN0TGlzdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7IC8vIFVwZGF0ZSBwcm9qZWN0cyBpbiBzdG9yYWdlICAgICAgICBcbiAgICAgICAgX3NldFByb2plY3RMaXN0KHByb2plY3RzKTsgLy8gVXBkYXRlIHByb2plY3RzIG9uIERPTVxuICAgIH1cblxuICAgIGNvbnN0IF9zZXRQcm9qZWN0TGlzdCA9IChwcm9qZWN0cykgPT4ge1xuICAgICAgICB1cGRhdGVQcm9qZWN0TGlzdChwcm9qZWN0cyk7XG4gICAgfVxuXG4gICAgY29uc3QgX3NldEFjdGl2ZVRhYiA9ICh0YWIpID0+IHtcbiAgICAgICAgdXBkYXRlQWN0aXZlVGFiKHRhYik7XG4gICAgfVxuXG4gICAgLy8gSGVyZSBiZSBoYW5kbGVyc1xuICAgIGNvbnN0IG9uUHJvamVjdFNlbGVjdCA9IChwcm9qZWN0SWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RPYmplY3QgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPScke3Byb2plY3RPYmplY3QuaWR9J11gKTtcbiAgICAgICAgX3NldEFjdGl2ZVRhYihzZWxlY3RlZFByb2plY3QpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uUHJvamVjdEFkZCA9IChwcm9qZWN0TmFtZSkgPT4ge1xuICAgICAgICAvLyBwYXNzIHVzZXIgaW5wdXQgaW50byBmdW5jdGlvblxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gIHtcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0TmFtZSxcbiAgICAgICAgICAgIHRhc2tzOiBbXVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2Uuc2F2ZVByb2plY3QobmV3UHJvamVjdCk7XG4gICAgICAgIC8vIGFkZCBpbnB1dCB0byBwYWdlXG4gICAgICAgIF9yZWZyZXNoUHJvamVjdExpc3QoKTtcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdERPTUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPScke25ld1Byb2plY3QuaWR9J11gKTtcbiAgICAgICAgX3NldEFjdGl2ZVRhYihuZXdQcm9qZWN0RE9NRWxlbWVudCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9uVGFza0FkZCA9ICh0YXNrLCBpZCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYXNrID0ge1xuICAgICAgICAgICAgaXRlbTogdGFzaywgXG4gICAgICAgICAgICB0YXNrSWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgICAgICAgICAgZHVlRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGlzQ29tcGxldGU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RUb1VwZGF0ZSA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IGlkKTtcbiAgICAgICAgcHJvamVjdFRvVXBkYXRlLnRhc2tzLnB1c2gobmV3VGFzayk7XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2Uuc2F2ZVByb2plY3QocHJvamVjdFRvVXBkYXRlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXdUYXNrO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBvblByb2plY3ROYW1lRWRpdCA9IChwcm9qZWN0SWQsIHByb2plY3ROYW1lLCB0YXNrcyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0VGFza3MocHJvamVjdElkKSkgPT4ge1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnNhdmVQcm9qZWN0KHtcbiAgICAgICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICAgICAgICBwcm9qZWN0TmFtZTogcHJvamVjdE5hbWUsXG4gICAgICAgICAgICB0YXNrczogdGFza3NcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3JlZnJlc2hQcm9qZWN0TGlzdCgpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uVGFza05hbWVFZGl0ID0gKHByb2plY3RJZCwgdGFza0lkLCBuZXdUYXNrTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogbmV3VGFza05hbWUsXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBleGlzdGluZ1Rhc2sucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgZHVlRGF0ZTogZXhpc3RpbmdUYXNrLmR1ZURhdGUsXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogZXhpc3RpbmdUYXNrLmlzQ29tcGxldGVcbiAgICAgICAgICAgIH0pOyAgXG4gICAgfVxuXG4gICAgY29uc3Qgb25UYXNrUHJpb3JpdHlFZGl0ID0gKHByb2plY3RJZCwgdGFza0lkLCBuZXdQcmlvcml0eSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogZXhpc3RpbmdUYXNrLml0ZW0sXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBuZXdQcmlvcml0eSxcbiAgICAgICAgICAgICAgICBkdWVEYXRlOiBleGlzdGluZ1Rhc2suZHVlRGF0ZSxcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBleGlzdGluZ1Rhc2suaXNDb21wbGV0ZVxuICAgICAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICBjb25zdCBvblRhc2tEdWVEYXRlRWRpdCA9IChwcm9qZWN0SWQsIHRhc2tJZCwgbmV3RHVlRGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogZXhpc3RpbmdUYXNrLml0ZW0sXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBleGlzdGluZ1Rhc2sucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgZHVlRGF0ZTogbmV3RHVlRGF0ZSxcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBleGlzdGluZ1Rhc2suaXNDb21wbGV0ZVxuICAgICAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICBjb25zdCBvblRhc2tDb21wbGV0ZUVkaXQgPSAocHJvamVjdElkLCB0YXNrSWQsIGlzQ29tcGxldGUpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gdXBkYXRlU3RvcmFnZS5maW5kVGFza1RvVXBkYXRlKHByb2plY3RJZCwgdGFza0lkKTtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS51cGRhdGVUYXNrKHByb2plY3RJZCwge1xuICAgICAgICAgICAgICAgIGl0ZW06IGV4aXN0aW5nVGFzay5pdGVtLFxuICAgICAgICAgICAgICAgIHRhc2tJZDogZXhpc3RpbmdUYXNrLnRhc2tJZCxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogZXhpc3RpbmdUYXNrLnByaW9yaXR5LFxuICAgICAgICAgICAgICAgIGR1ZURhdGU6IGV4aXN0aW5nVGFzay5kdWVEYXRlLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGlzQ29tcGxldGVcbiAgICAgICAgICAgIH0pOyAgXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb25Qcm9qZWN0U2VsZWN0LCBvblByb2plY3RBZGQsIG9uUHJvamVjdE5hbWVFZGl0LCBvblRhc2tBZGQsIG9uVGFza05hbWVFZGl0LCBvblRhc2tQcmlvcml0eUVkaXQsIG9uVGFza0R1ZURhdGVFZGl0LCBvblRhc2tDb21wbGV0ZUVkaXQgfVxuICAgIFxufVxuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVycygpOyIsImltcG9ydCBoYW5kbGVycyBmcm9tIFwiLi9oYW5kbGVyc1wiXG5pbXBvcnQgdXBkYXRlU3RvcmFnZSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cbi8vIERPTSBFbGVtZW50cyBGYWN0b3J5IEZ1bmN0aW9uXG5jb25zdCBjcmVhdGVFbGVtZW50cyA9ICgpID0+IHtcbiAgICBcbiAgICBjb25zdCBjcmVhdGVMaXN0RWxlbWVudCA9IChodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgaHRtbENsYXNzKTtcbiAgICAgICAgcmV0dXJuIGxpO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZVNwYW5FbGVtZW50ID0gKGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoaHRtbENsYXNzKTtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlSW1hZ2VFbGVtZW50ID0gKHNyYywgaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChodG1sQ2xhc3MpO1xuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpO1xuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAnZmFsc2UnKTtcbiAgICAgICAgcmV0dXJuIGltZztcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY3JlYXRlRm9ybSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXRGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICByZXR1cm4gaW5wdXRGb3JtO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZUlucHV0RmllbGQgPSAocGxhY2Vob2xkZXJUZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHBsYWNlaG9sZGVyVGV4dCk7XG4gICAgICAgIHVzZXJJbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3VzZXItaW5wdXQnKTtcbiAgICAgICAgdXNlcklucHV0LnJlcXVpcmVkID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdXNlcklucHV0O1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZURpdiA9IChodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgaHRtbENsYXNzKTtcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG5cbiAgICByZXR1cm4ge2NyZWF0ZUxpc3RFbGVtZW50LCBjcmVhdGVTcGFuRWxlbWVudCwgY3JlYXRlSW1hZ2VFbGVtZW50LCBjcmVhdGVJbnB1dEZpZWxkLCBjcmVhdGVGb3JtLCBjcmVhdGVEaXZ9XG59XG5cbmNvbnN0IGNyZWF0ZUljb25TcGFuID0gKCkgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgY29uc3QgaWNvblNwYW4gPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCdpY29ucycpO1xuICAgIGNvbnN0IGVkaXRJY29uID0gdmlldy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9lZGl0LWljb24uc3ZnJywgJ2VkaXQtaWNvbicpO1xuICAgIGNvbnN0IGRlbGV0ZUljb24gPSB2aWV3LmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2RlbGV0ZS1pY29uLnN2ZycsICdkZWxldGUtaWNvbicpO1xuICAgIFxuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ2VkaXQtcHJvamVjdCcpO1xuICAgIGRlbGV0ZUljb24uY2xhc3NMaXN0LmFkZCgnZGVsZXRlLXByb2plY3QnKTtcbiAgICBcbiAgICBpY29uU3Bhbi5hcHBlbmQoZWRpdEljb24sIGRlbGV0ZUljb24pO1xuICAgIFxuICAgIHJldHVybiBpY29uU3Bhbjtcbn1cblxuY29uc3QgYWRkUHJvamVjdFRvU2lkZWJhciA9ICgpID0+IHtcbiAgICBjb25zdCB2aWV3ID0gY3JlYXRlRWxlbWVudHMoKTtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcblxuICAgIGNvbnN0IHByb2plY3RMaXN0RWxlbWVudCA9ICB2aWV3LmNyZWF0ZUxpc3RFbGVtZW50KCdwcm9qZWN0LWl0ZW0nKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SW5wdXRGb3JtID0gdmlldy5jcmVhdGVGb3JtKCk7XG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IHZpZXcuY3JlYXRlSW5wdXRGaWVsZCgnUHJvamVjdCBuYW1lLi4uJyk7XG4gICAgcHJvamVjdElucHV0Rm9ybS5hcHBlbmQocHJvamVjdE5hbWVJbnB1dCk7XG5cbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZUljb25TcGFuKCk7XG4gICAgcHJvamVjdExpc3RFbGVtZW50LmFwcGVuZChwcm9qZWN0SW5wdXRGb3JtLCBpY29uU3Bhbik7XG4gICAgcHJvamVjdHNDb250YWluZXIuaW5zZXJ0QmVmb3JlKHByb2plY3RMaXN0RWxlbWVudCwgcHJvamVjdHNDb250YWluZXIubGFzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcHJvamVjdE5hbWVJbnB1dC5mb2N1cygpO1xuICAgIH0sIDApO1xufVxuXG5jb25zdCBhZGRQcm9qZWN0VG9Ob3RlcGFkID0gKHByb2plY3RJZCkgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuICAgIC8vY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG5cbiAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcbiAgICBjb25zdCBwcm9qZWN0VG9BZGQgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdFRvQWRkLnByb2plY3ROYW1lO1xuICAgIC8vY29uc3QgY3VycmVudFByb2plY3ROdW1iZXIgPSBwcm9qZWN0TGlzdC5jaGlsZEVsZW1lbnRDb3VudCAtIDI7XG4gICAgLy9jb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RMaXN0LmNoaWxkcmVuW2N1cnJlbnRQcm9qZWN0TnVtYmVyXS50ZXh0Q29udGVudDtcblxuICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JpdGluZy1hcmVhJyk7XG4gICAgY29uc3QgcHJvamVjdERpdiA9IHZpZXcuY3JlYXRlRGl2KCdwcm9qZWN0Jyk7XG4gICAgcHJvamVjdERpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIHByb2plY3RJZCk7XG4gICAgY29uc3Qgc2tpcExpbmUgPSB2aWV3LmNyZWF0ZURpdignc2tpcC1saW5lJyk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdEhlYWRpbmcgPSB2aWV3LmNyZWF0ZURpdigncHJvamVjdC1oZWFkaW5nJyk7XG4gICAgY29uc3QgaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIGgyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbm90ZXBhZC10ZXh0Jyk7XG4gICAgaDIudGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZTtcbiAgICBjb25zdCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgaDMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlcGFkLXRleHQnKTtcbiAgICBoMy50ZXh0Q29udGVudCA9ICdEdWUgRGF0ZSc7XG4gICAgICAgIFxuICAgIGNvbnN0IHRhc2tzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICB0YXNrc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdub3RlcGFkLXRleHQnLCAndG9kb3MnKTtcblxuICAgIGNvbnN0IGFkZFRhc2tMaXN0RWxlbWVudCA9IHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Rhc2snKTtcbiAgICBjb25zdCBhZGRUYXNrU3BhbiA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ2FkZC10YXNrJyk7XG4gICAgY29uc3QgYWRkSWNvbiA9IHZpZXcuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvYWRkLWljb24uc3ZnJywgJ2FkZC1pY29uJyk7XG4gICAgYWRkVGFza1NwYW4uYXBwZW5kKGFkZEljb24sICdBZGQgVGFzaycpO1xuXG4gICAgYWRkVGFza0xpc3RFbGVtZW50LmFwcGVuZChhZGRUYXNrU3Bhbik7XG4gICAgdGFza3NDb250YWluZXIuYXBwZW5kKGFkZFRhc2tMaXN0RWxlbWVudCwgc2tpcExpbmUpO1xuICAgIHByb2plY3RIZWFkaW5nLmFwcGVuZChoMiwgaDMpO1xuICAgIHByb2plY3REaXYuYXBwZW5kKHByb2plY3RIZWFkaW5nLCB0YXNrc0NvbnRhaW5lcik7XG4gICAgbm90ZXBhZC5hcHBlbmQocHJvamVjdERpdik7XG59XG5cbmNvbnN0IGFkZER1ZURhdGVUb0RPTSA9ICgpID0+IHtcbiAgICBjb25zdCBkdWVEYXRlU3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ2R1ZS1kYXRlJyk7XG5cbiAgICBjb25zdCBwcmlvcml0eUljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL3ByaW9yaXR5LWljb24uc3ZnJywgJ3ByaW9yaXR5LWljb24nKVxuICAgIHByaW9yaXR5SWNvbi5jbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1sb3cnKTtcbiAgICBcbiAgICBjb25zdCBkYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGRhdGVMYWJlbC5jbGFzc0xpc3QuYWRkKCdkYXRlLWxhYmVsJyk7XG4gICAgXG4gICAgY29uc3QgZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2RhdGUnKTtcbiAgICBkYXRlSW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuXG4gICAgY29uc3QgY2FsZW5kYXJJY29uID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9jYWxlbmRhci1pY29uLnN2ZycsICdjYWxlbmRhci1pY29uJyk7XG5cbiAgICBkYXRlTGFiZWwuYXBwZW5kKGRhdGVJbnB1dCwgY2FsZW5kYXJJY29uKTtcbiAgICBkdWVEYXRlU3Bhbi5hcHBlbmQocHJpb3JpdHlJY29uLCBkYXRlTGFiZWwpO1xuICAgIFxuICAgIC8vIHVwZGF0ZSBsb2NhbFN0b3JhZ2Ugb24gZHVlIGRhdGUgY2hhbmdlXG4gICAgZGF0ZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gZGF0ZUlucHV0LmNsb3Nlc3QoJy5wcm9qZWN0JykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGRhdGVJbnB1dC5jbG9zZXN0KCdbZGF0YS10YXNrLWlkXScpLmRhdGFzZXQudGFza0lkO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZGF0ZUlucHV0LnZhbHVlO1xuXG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tEdWVEYXRlRWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgbmV3RHVlRGF0ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZHVlRGF0ZVNwYW47XG59XG5cbi8vIGNyZWF0ZXMgSFRNTCBmb3IgcHJvamVjdCBpdGVtcyBpbiBzaWRlYmFyIGZyb20gbG9jYWxTdG9yYWdlIGl0ZW1cbmNvbnN0IF9jcmVhdGVQcm9qZWN0SXRlbUhUTUwgPSAoaWQsIG5hbWUpID0+IHtcbiAgICBjb25zdCB2aWV3ID0gY3JlYXRlRWxlbWVudHMoKTtcblxuICAgIGNvbnN0IHByb2plY3RJdGVtID0gdmlldy5jcmVhdGVMaXN0RWxlbWVudCgncHJvamVjdC1pdGVtJyk7XG4gICAgcHJvamVjdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnLCBpZCk7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCdwcm9qZWN0LW5hbWUnKTtcbiAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVJY29uU3BhbigpO1xuXG4gICAgcHJvamVjdEl0ZW0uYXBwZW5kKHByb2plY3ROYW1lLCBpY29uU3Bhbik7XG5cbiAgICByZXR1cm4gcHJvamVjdEl0ZW07XG59XG4vLyBVcGRhdGVzIHByb2plY3QgbGlzdCBpbiB0aGUgc2lkZWJhciBcbmNvbnN0IHVwZGF0ZVByb2plY3RMaXN0ID0gKHByb2plY3RzKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdHNMaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcHJvamVjdF0nKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbGwgZWxlbWVudHMgb2YgY2xhc3MgJy5wcm9qZWN0LWl0ZW0nXG4gICAgY29uc3QgcHJvamVjdHNBcnJheSA9IFtdLnNsaWNlLmNhbGwocHJvamVjdHNMaXN0Q29udGFpbmVyLmNoaWxkcmVuKTtcbiAgICBwcm9qZWN0c0FycmF5LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygncHJvamVjdC1pdGVtJykpIGl0ZW0ucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICBmb3IgKGNvbnN0IHByb2plY3Qgb2YgcHJvamVjdHMpIHtcbiAgICAgICAgY29uc3QgaHRtbCA9IF9jcmVhdGVQcm9qZWN0SXRlbUhUTUwocHJvamVjdC5pZCwgcHJvamVjdC5wcm9qZWN0TmFtZSk7XG4gICAgICAgIHByb2plY3RzTGlzdENvbnRhaW5lci5pbnNlcnRCZWZvcmUoaHRtbCwgYWRkUHJvamVjdEJ0bik7XG4gICAgfVxuXG4gICAgLy8gQWRkIGxpc3RlbmVycyBmb3IgZWRpdCwgZGVsZXRlID8/Pz9cbiAgICBwcm9qZWN0c0xpc3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QtaXRlbScpLmZvckVhY2gocHJvamVjdEl0ZW0gPT4ge1xuICAgICAgICBwcm9qZWN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdFNlbGVjdChwcm9qZWN0SXRlbS5kYXRhc2V0LnByb2plY3RJZCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5jb25zdCBsb2FkVGFzayA9ICAodGFza09iaikgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgY29uc3QgdGFzayA9IHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Rhc2snKTtcbiAgICB0YXNrLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrLWlkJywgdGFza09iai50YXNrSWQpO1xuXG4gICAgY29uc3QgdGFza0l0ZW0gPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLWl0ZW0nKTtcbiAgICBcbiAgICBjb25zdCB0YXNrTmFtZVNwYW4gPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLXRleHQnKTtcbiAgICB0YXNrTmFtZVNwYW4udGV4dENvbnRlbnQgPSB0YXNrT2JqLml0ZW07XG4gICAgXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVJY29uU3BhbigpO1xuICAgIHRhc2tJdGVtLmFwcGVuZCh0YXNrTmFtZVNwYW4sIGljb25TcGFuKTtcbiAgIFxuICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gYWRkRHVlRGF0ZVRvRE9NKCk7XG5cbiAgICBjb25zdCBwcmlvcml0eUljb24gPSBkdWVEYXRlU3Bhbi5xdWVyeVNlbGVjdG9yKCcucHJpb3JpdHktaWNvbicpO1xuICAgIHByaW9yaXR5SWNvbi5jbGFzc0xpc3QuYWRkKGBwcmlvcml0eS0ke3Rhc2tPYmoucHJpb3JpdHl9YCk7XG4gICAgXG4gICAgY29uc3QgZGF0ZUlucHV0ID0gZHVlRGF0ZVNwYW4ucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBkYXRlSW5wdXQudmFsdWUgPSB0YXNrT2JqLmR1ZURhdGU7XG4gICAgLypcbiAgICBjb25zdCBkdWVEYXRlU3BhbiA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ2R1ZS1kYXRlJyk7XG4gICAgY29uc3QgcHJpb3JpdHlJY29uID0gdmlldy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9wcmlvcml0eS1pY29uLnN2ZycsICdwcmlvcml0eS1pY29uJyk7XG4gICAgcHJpb3JpdHlJY29uLmNsYXNzTGlzdC5hZGQoYHByaW9yaXR5LSR7dGFza09iai5wcmlvcml0eX1gKTtcbiAgICBcbiAgICBcbiAgICBjb25zdCBkYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGRhdGVMYWJlbC5jbGFzc0xpc3QuYWRkKCdkYXRlLWxhYmVsJyk7XG4gIFxuICAgIGNvbnN0IGRhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJyk7XG4gICAgZGF0ZUlucHV0LnJlcXVpcmVkID0gdHJ1ZTtcbiAgICBkYXRlSW5wdXQudmFsdWUgPSB0YXNrT2JqLmR1ZURhdGU7XG4gICBcbiAgICBjb25zdCBjYWxlbmRhckljb24gPSB2aWV3LmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2NhbGVuZGFyLWljb24uc3ZnJywgJ2NhbGVuZGFyLWljb24nKTtcbiAgICBkYXRlTGFiZWwuYXBwZW5kKGRhdGVJbnB1dCwgY2FsZW5kYXJJY29uKTtcbiAgICBkdWVEYXRlU3Bhbi5hcHBlbmQocHJpb3JpdHlJY29uLCBkYXRlTGFiZWwpOyovXG4gIFxuICAgIGlmICh0YXNrT2JqLmlzQ29tcGxldGUpIHRhc2suY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkJyk7XG5cbiAgICB0YXNrLmFwcGVuZCh0YXNrSXRlbSwgZHVlRGF0ZVNwYW4pO1xuXG4gICAgcmV0dXJuIHRhc2s7XG59XG5cbmNvbnN0IHVwZGF0ZUFjdGl2ZVRhYiA9ICh0YWIpID0+IHtcbiAgICAvLyBmb3IgYWxsIG90aGVyIHByb2plY3RzLCBjaGFuZ2UgZGlzcGxheSB0byBub25lLCB0byBicmluZyBiYWNrIHNldCBkaXNwbGF5IHRvIGNvbnRlbnRzICBcbiAgICAgICAgLy8gaXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgLy8gcmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFueSBvdGhlciBzaWRlYmFyIGVsZW1lbnRcbiAgICBjb25zdCBjdXJyZW50QWN0aXZlVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpO1xuICAgIGlmIChjdXJyZW50QWN0aXZlVGFiKSBjdXJyZW50QWN0aXZlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZVNwYW4gPSB0YWIuY2hpbGRyZW4uaXRlbSgwKTsgLy8gVXBkYXRlIG5vdGVwYWQgaGVyZT9cbiAgICAvL2NvbnNvbGUubG9nKHByb2plY3ROYW1lU3Bhbik7XG59XG5cbmV4cG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGFkZFByb2plY3RUb05vdGVwYWQsIGNyZWF0ZUVsZW1lbnRzLCB1cGRhdGVQcm9qZWN0TGlzdCwgdXBkYXRlQWN0aXZlVGFiLCBsb2FkVGFzayB9OyIsImltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGFkZFByb2plY3RUb05vdGVwYWQsIGNyZWF0ZUVsZW1lbnRzIH0gZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcbmltcG9ydCBoYW5kbGVycyBmcm9tIFwiLi9oYW5kbGVyc1wiO1xuaW1wb3J0IHVwZGF0ZVN0b3JhZ2UgZnJvbSBcIi4vc3RvcmFnZVwiXG5cbmNvbnN0IGF3YWl0aW5nSW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKTtcbiAgICBpZiAodXNlcklucHV0ICE9IG51bGwpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBoYW5kbGVVc2VySW5wdXQgPSAoKSA9PiB7IFxuICAgIC8vIFRoaXMgaXMgRE9NIFN0dWZmXG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKVxuICAgIGNvbnN0IGlucHV0Rm9ybSA9IHVzZXJJbnB1dC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RJdGVtID0gaW5wdXRGb3JtLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgcHJvamVjdFNwYW4gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZVNwYW5FbGVtZW50KCdwcm9qZWN0LW5hbWUnKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHVzZXJJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgaWYgKCFwcm9qZWN0TmFtZSkgcmV0dXJuO1xuXG4gICAgcHJvamVjdFNwYW4udGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZTtcbiAgICB1c2VySW5wdXQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbiAgICBwcm9qZWN0SXRlbS5pbnNlcnRCZWZvcmUocHJvamVjdFNwYW4sIHByb2plY3RJdGVtLmNoaWxkTm9kZXNbMF0pOyBcbn1cblxuY29uc3QgYWRkUHJvamVjdCA9ICgpID0+IHtcbiAgICBpZiAoYXdhaXRpbmdJbnB1dCgpKSByZXR1cm47XG4gICAgYWRkUHJvamVjdFRvU2lkZWJhcigpO1xuICAgIFxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gdXNlcklucHV0LnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudDtcblxuICAgIHVzZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodXNlcklucHV0LnZhbHVlLnRyaW0oKSA9PSAnJykge1xuICAgICAgICAgICAgcHJvamVjdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlVXNlcklucHV0KCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBwcm9qZWN0SXRlbS5maXJzdEVsZW1lbnRDaGlsZC50ZXh0Q29udGVudDtcbiAgICAgICAgaGFuZGxlcnMub25Qcm9qZWN0QWRkKHByb2plY3ROYW1lKTsgXG5cbiAgICAgICAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG4gICAgICAgIC8vIFNlbGVjdCBsYXN0IHByb2plY3QgYWRkZWQgYW5kIGdldCBpZCBhdHRyaWJ1dGVcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdExpc3QuY2hpbGRyZW5bcHJvamVjdExpc3QuY2hpbGRFbGVtZW50Q291bnQgLSAyXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcpO1xuICAgICAgICBpZiAoIWF3YWl0aW5nSW5wdXQoKSkgYWRkUHJvamVjdFRvTm90ZXBhZChwcm9qZWN0SWQpO1xuICAgIH0pO1xuXG4gICAgaW5wdXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdEFkZChwcm9qZWN0TmFtZSk7IFxuICAgICAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdExpc3QuY2hpbGRyZW5bcHJvamVjdExpc3QuY2hpbGRFbGVtZW50Q291bnQgLSAyXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcpO1xuICAgICAgICBpZiAoIWF3YWl0aW5nSW5wdXQoKSkgYWRkUHJvamVjdFRvTm90ZXBhZChwcm9qZWN0SWQpO1xuICAgIH0pO1xufVxuY29uc3QgZGVsZXRlUHJvamVjdCA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZGVsZXRlLXByb2plY3QnKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdEl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1pdGVtJylcbiAgICAgICAgICAgIHByb2plY3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdEl0ZW0uZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgICAgICB1cGRhdGVTdG9yYWdlLmRlbGV0ZVByb2plY3QocHJvamVjdElkKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFRPRE86IFJlbW92ZSBwcm9qZWN0IGZyb20gbm90ZXBhZCBieSByZWxvYWRpbmcgbG9jYWxTdG9yYWdlIGl0ZW1zIGZvciBjdXJyZW50IHNlbGVjdGVkIHRhYiAoaS5lLiBUb2RheSkuIElmIGN1cnJlbnQgc2VsZWN0IHRhYiBpcyB0aGUgb25lIHRoYXQgaXMgZGVsZXRlZCBsb2FkIG5vdGVwYWQgd2l0aCBIb21lIHRhYiBcbn1cblxuLy8gVE9ETzogY3JlYXRlIGZ1bmN0aW9uIHRvIHVwZGF0ZSBwcm9qZWN0IG5hbWUgb24gbm90ZXBhZCB3aGVuIHVzZXIgZWRpdHMgaXRcbiBcbmNvbnN0IGVkaXRQcm9qZWN0ID0gKGUpID0+IHtcbiAgICBpZiAoYXdhaXRpbmdJbnB1dCgpKSByZXR1cm47XG4gICAgXG4gICAgLy8gVGhpcyBpcyBET00gU3R1ZmZcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgIGlucHV0RmllbGQudmFsdWUgPSBwcm9qZWN0TmFtZS50ZXh0Q29udGVudDtcbiAgICBwcm9qZWN0TmFtZS5yZW1vdmUoKTtcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3RJdGVtID0gZS50YXJnZXQuY2xvc2VzdCgnLnByb2plY3QtaXRlbScpO1xuICAgIHByb2plY3RJdGVtLmluc2VydEJlZm9yZShpbnB1dEZvcm0sIHByb2plY3RJdGVtLmNoaWxkTm9kZXNbMF0pO1xuICAgIFxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgdXNlcklucHV0LmZvY3VzKCk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdEl0ZW0uZGF0YXNldC5wcm9qZWN0SWQ7XG5cbiAgICB1c2VySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHVzZXJJbnB1dC52YWx1ZSAhPSAnJykgaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgIC8vaWYgKCFhd2FpdGluZ0lucHV0KCkpIGVkaXRQcm9qZWN0T25Ob3RlcGFkKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIHVwZGF0ZU5hbWVPbk5vdGVwYWQocHJvamVjdElkLCBwcm9qZWN0TmFtZSk7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdE5hbWVFZGl0KHByb2plY3RJZCwgcHJvamVjdE5hbWUpO1xuICAgIH0pO1xuXG4gICAgaW5wdXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgIC8vaWYgKCFhd2FpdGluZ0lucHV0KCkpIGVkaXRQcm9qZWN0T25Ob3RlcGFkKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIHVwZGF0ZU5hbWVPbk5vdGVwYWQocHJvamVjdElkLCBwcm9qZWN0TmFtZSk7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdE5hbWVFZGl0KHByb2plY3RJZCwgcHJvamVjdE5hbWUpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdXBkYXRlTmFtZU9uTm90ZXBhZCA9IChwcm9qZWN0SWQsIHByb2plY3ROYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZXBhZCcpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VGFza3NDb250YWluZXIgPSBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke3Byb2plY3RJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb2plY3RUYXNrc0NvbnRhaW5lcikge1xuICAgICAgICAgICAgcHJvamVjdFRhc2tzQ29udGFpbmVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBcbiAgICBhZGRQcm9qZWN0LFxuICAgIGRlbGV0ZVByb2plY3QsXG4gICAgZWRpdFByb2plY3Rcbn0iLCJpbXBvcnQge2NyZWF0ZUVsZW1lbnRzfSBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuaW1wb3J0IHtmb3JtYXR9IGZyb20gXCJkYXRlLWZuc1wiO1xuaW1wb3J0IGhhbmRsZXJzIGZyb20gXCIuL2hhbmRsZXJzXCI7XG5pbXBvcnQgdXBkYXRlU3RvcmFnZSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cbmNvbnN0IHRvZ2dsZVRhc2sgPSAodGFza0VsZW1lbnQpID0+IHtcbiAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdjb21wbGV0ZWQnKTtcbiAgICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgaWYgKHRhc2tFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY29tcGxldGVkJykpIHtcbiAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHByb2plY3RJZCA9IHRhc2tFbGVtZW50LmNsb3Nlc3QoJy5wcm9qZWN0JykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgY29uc3QgdGFza0lkID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSWQ7XG5cbiAgICByZXR1cm4gaGFuZGxlcnMub25UYXNrQ29tcGxldGVFZGl0KHByb2plY3RJZCwgdGFza0lkLCBpc0NvbXBsZXRlKTtcbn1cblxuY29uc3QgYWRkVGFza1RvRE9NID0gKGFkZFRhc2tCdG4pID0+IHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXItaW5wdXQnKSkgcmV0dXJuO1xuICAgIGNvbnN0IHRhc2tMaXN0RWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlTGlzdEVsZW1lbnQoJ3Rhc2snKTtcbiAgICBjb25zdCB0YXNrU3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ3Rhc2staXRlbScpO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlRm9ybSgpO1xuICAgIGNvbnN0IGlucHV0RmllbGQgPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUlucHV0RmllbGQoJ0VudGVyIFRhc2suLi4nKTtcbiAgICBcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuICAgIHRhc2tTcGFuLmFwcGVuZChpbnB1dEZvcm0pO1xuXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZVNwYW5FbGVtZW50KCdpY29ucycpO1xuICAgIGNvbnN0IGVkaXRJY29uID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9lZGl0LWljb24uc3ZnJywgJ2VkaXQtaWNvbicpO1xuICAgIGNvbnN0IGRlbGV0ZUljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2RlbGV0ZS1pY29uLnN2ZycsICdkZWxldGUtaWNvbicpO1xuXG4gICAgZWRpdEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmICh0YXNrTGlzdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb21wbGV0ZWQnKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0YXNrVGV4dFNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay10ZXh0Jyk7XG4gICAgICAgIGNvbnN0IHRhc2tOYW1lID0gdGFza1RleHRTcGFuLnRleHRDb250ZW50O1xuICAgICAgICB0YXNrVGV4dFNwYW4ucmVtb3ZlKCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbnB1dEZvcm0gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUZvcm0oKTtcbiAgICAgICAgY29uc3QgaW5wdXRGaWVsZCA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW5wdXRGaWVsZCgnRW50ZXIgVGFzay4uLicpO1xuXG4gICAgICAgIGlucHV0RmllbGQudmFsdWUgPSB0YXNrTmFtZTtcbiAgICAgICAgXG4gICAgICAgIGlucHV0Rm9ybS5hcHBlbmQoaW5wdXRGaWVsZCk7XG4gICAgICAgIHRhc2tTcGFuLmluc2VydEJlZm9yZShpbnB1dEZvcm0sIGljb25TcGFuKTtcbiAgICAgICAgdGFza0xpc3RFbGVtZW50LnByZXBlbmQodGFza1NwYW4pO1xuICAgICAgICBpbnB1dEZpZWxkLmZvY3VzKCk7XG4gICAgICAgIGFkZFRhc2soKTtcbiAgICB9KTtcblxuICAgIGRlbGV0ZUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9qZWN0LWlkXScpLmRhdGFzZXQucHJvamVjdElkO1xuICAgICAgICBjb25zdCB0YXNrSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS10YXNrLWlkXScpLmRhdGFzZXQudGFza0lkO1xuXG4gICAgICAgIHRhc2tMaXN0RWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS5kZWxldGVUYXNrKHByb2plY3RJZCwgdGFza0lkKTtcbiAgICB9KTtcblxuICAgIGljb25TcGFuLmFwcGVuZChlZGl0SWNvbiwgZGVsZXRlSWNvbik7XG4gICAgdGFza1NwYW4uYXBwZW5kKGljb25TcGFuKTtcbiAgICBjb25zdCBkdWVEYXRlID0gYWRkRHVlRGF0ZVRvRE9NKCk7XG4gICAgdGFza0xpc3RFbGVtZW50LmFwcGVuZCh0YXNrU3BhbiwgZHVlRGF0ZSk7XG4gICAgXG4gICAgY29uc3QgY29udGFpbmVyID0gYWRkVGFza0J0bi5jbG9zZXN0KCcudG9kb3MnKTtcbiAgICBjb25zdCBudW1iZXJPZlRhc2tzID0gY29udGFpbmVyLmNoaWxkRWxlbWVudENvdW50IC0gMjtcblxuICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGFza0xpc3RFbGVtZW50LCBjb250YWluZXIuY2hpbGRyZW5bbnVtYmVyT2ZUYXNrc10pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlucHV0RmllbGQuZm9jdXMoKTtcbiAgICB9LCAwKTtcblxuICAgIHJldHVybiB0YXNrU3Bhbjtcbn1cblxuY29uc3QgYWRkRHVlRGF0ZVRvRE9NID0gKCkgPT4ge1xuICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgnZHVlLWRhdGUnKTtcblxuICAgIGNvbnN0IHByaW9yaXR5SWNvbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvcHJpb3JpdHktaWNvbi5zdmcnLCAncHJpb3JpdHktaWNvbicpXG4gICAgcHJpb3JpdHlJY29uLmNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LWxvdycpO1xuICAgIFxuICAgIGNvbnN0IGRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgZGF0ZUxhYmVsLmNsYXNzTGlzdC5hZGQoJ2RhdGUtbGFiZWwnKTtcbiAgICBcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZGF0ZScpO1xuICAgIGRhdGVJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICBjb25zdCBjYWxlbmRhckljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2NhbGVuZGFyLWljb24uc3ZnJywgJ2NhbGVuZGFyLWljb24nKTtcblxuICAgIGRhdGVMYWJlbC5hcHBlbmQoZGF0ZUlucHV0LCBjYWxlbmRhckljb24pO1xuICAgIGR1ZURhdGVTcGFuLmFwcGVuZChwcmlvcml0eUljb24sIGRhdGVMYWJlbCk7XG4gICAgXG4gICAgLy8gdXBkYXRlIGxvY2FsU3RvcmFnZSBvbiBkdWUgZGF0ZSBjaGFuZ2VcbiAgICBkYXRlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBkYXRlSW5wdXQuY2xvc2VzdChbJy5wcm9qZWN0J10pLmRhdGFzZXQucHJvamVjdElkO1xuICAgICAgICBjb25zdCB0YXNrSWQgPSBkYXRlSW5wdXQuY2xvc2VzdCgnW2RhdGEtdGFzay1pZCcpLmRhdGFzZXQudGFza0lkO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZGF0ZUlucHV0LnZhbHVlO1xuXG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tEdWVEYXRlRWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgbmV3RHVlRGF0ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZHVlRGF0ZVNwYW47XG59XG5cbmNvbnN0IGFkZFRhc2sgPSAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gaW5wdXRGaWVsZC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIFxuICAgIGlucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gdGFza0NvbnRhaW5lci5jbG9zZXN0KCdbZGF0YS1wcm9qZWN0LWlkXScpLmRhdGFzZXQucHJvamVjdElkO1xuICAgICAgICBjb25zdCB0YXNrID0gaW5wdXRGaWVsZC52YWx1ZTtcbiAgICAgICAgdmFsaWRhdGVVc2VySW5wdXQoKTtcbiAgICAgICAgaWYgKHRhc2spIGNyZWF0ZVRhc2sodGFzaywgcHJvamVjdElkLCB0YXNrQ29udGFpbmVyKTtcbiAgICB9KTtcbiAgICBcbiAgICBpbnB1dEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHRhc2tDb250YWluZXIuY2xvc2VzdCgnW2RhdGEtcHJvamVjdC1pZF0nKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICAgICAgY29uc3QgdGFzayA9IGlucHV0RmllbGQudmFsdWU7XG4gICAgICAgIHZhbGlkYXRlVXNlcklucHV0KCk7XG4gICAgICAgIGlmICh0YXNrKSBjcmVhdGVUYXNrKHRhc2ssIHByb2plY3RJZCwgdGFza0NvbnRhaW5lcik7XG4gICAgfSk7XG59XG5cbmNvbnN0IGNyZWF0ZVRhc2sgPSAodGFzaywgcHJvamVjdElkLCB0YXNrQ29udGFpbmVyKSA9PiB7XG4gICAgaWYgKHRhc2tDb250YWluZXIuZGF0YXNldC50YXNrSWQpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza05hbWVFZGl0KHByb2plY3RJZCwgdGFza0NvbnRhaW5lci5kYXRhc2V0LnRhc2tJZCwgdGFzayk7XG4gICAgfVxuICAgIGNvbnN0IHRhc2tPYmogPSBoYW5kbGVycy5vblRhc2tBZGQodGFzaywgcHJvamVjdElkKTtcbiAgICB0YXNrQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrLWlkJywgdGFza09iai50YXNrSWQpO1xufVxuXG5jb25zdCB2YWxpZGF0ZVVzZXJJbnB1dCA9ICgpID0+IHtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKTtcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBpbnB1dEZpZWxkLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgdGFza0l0ZW0gPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gdGFza0l0ZW0ucGFyZW50RWxlbWVudDtcblxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGlucHV0RmllbGQudmFsdWUudHJpbSgpO1xuICAgIGNvbnN0IHRhc2tUZXh0U3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ3Rhc2stdGV4dCcpO1xuICAgIHRhc2tUZXh0U3Bhbi5hcHBlbmQodXNlcklucHV0KTtcblxuICAgIC8vIFJlbW92ZXMgdGFzayBjb250YWluZXIgaWYgdGFzayBpc24ndCB5ZXQgaW4gbG9jYWxTdG9yYWdlIChoYXMgYSB0YXNrSWQgZGF0YSBhdHRyaWJ1dGUpXG4gICAgaWYgKHVzZXJJbnB1dCA9PSAnJyAmJiAhdGFza0NvbnRhaW5lci5kYXRhc2V0LnRhc2tJZCkge1xuICAgICAgICB0YXNrQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfSBcbiAgICBlbHNlIGlmICh1c2VySW5wdXQgPT0gJycgJiYgdGFza0NvbnRhaW5lci5kYXRhc2V0LnRhc2tJZCkgcmV0dXJuO1xuICAgIGlucHV0Rm9ybS5yZW1vdmUoKTtcbiAgICB0YXNrSXRlbS5wcmVwZW5kKHRhc2tUZXh0U3Bhbik7XG59XG5cbmNvbnN0IHVwZGF0ZVByaW9yaXR5ID0gKGV2ZW50VGFyZ2V0KSA9PiB7XG4gICAgY29uc3QgdGFza0l0ZW1DbGFzc0xpc3QgPSBldmVudFRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0O1xuICAgIGlmICh0YXNrSXRlbUNsYXNzTGlzdC5jb250YWlucygnY29tcGxldGVkJykpIHJldHVybjtcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBldmVudFRhcmdldC5jbG9zZXN0KCcucHJvamVjdCcpLmRhdGFzZXQucHJvamVjdElkO1xuICAgIGNvbnN0IHRhc2tJZCA9IGV2ZW50VGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXRhc2staWRdJykuZGF0YXNldC50YXNrSWQ7XG5cbiAgICBjb25zdCBwcmlvcml0eUNsYXNzTGlzdCA9IGV2ZW50VGFyZ2V0LmNsYXNzTGlzdDtcblxuICAgIGlmIChwcmlvcml0eUNsYXNzTGlzdC5jb250YWlucygncHJpb3JpdHktbG93JykpIHtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QucmVtb3ZlKCdwcmlvcml0eS1sb3cnKTtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1tZWRpdW0nKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza1ByaW9yaXR5RWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgJ21lZGl1bScpOyBcbiAgICB9XG4gICAgaWYgKHByaW9yaXR5Q2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1tZWRpdW0nKSkge1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LW1lZGl1bScpO1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LWhpZ2gnKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza1ByaW9yaXR5RWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgJ2hpZ2gnKTtcbiAgICB9XG4gICAgaWYgKHByaW9yaXR5Q2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1oaWdoJykpIHtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QucmVtb3ZlKCdwcmlvcml0eS1oaWdoJyk7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LmFkZCgncHJpb3JpdHktbG93Jyk7XG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tQcmlvcml0eUVkaXQocHJvamVjdElkLCB0YXNrSWQsICdsb3cnKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7XG4gICAgdG9nZ2xlVGFzayxcbiAgICBhZGRUYXNrVG9ET00sXG4gICAgYWRkVGFzayxcbiAgICB1cGRhdGVQcmlvcml0eSxcbn0iLCJpbXBvcnQgeyBhZGRQcm9qZWN0LCBkZWxldGVQcm9qZWN0LCBlZGl0UHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5pbXBvcnQgdXBkYXRlU3RvcmFnZSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyB1cGRhdGVQcm9qZWN0TGlzdCwgYWRkUHJvamVjdFRvTm90ZXBhZCwgbG9hZFRhc2sgfSBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuaW1wb3J0IHsgdG9nZ2xlVGFzaywgYWRkVGFza1RvRE9NLCBhZGRUYXNrLCB1cGRhdGVQcmlvcml0eSB9IGZyb20gXCIuL3Rhc2tzXCI7XG5cbi8vIExvYWQgbG9jYWxTdG9yYWdlIGl0ZW1zIG9uIHBhZ2UgbG9hZFxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcblxuICAgIGNvbnN0IGxvYWRBbGxQcm9qZWN0cyA9ICgpID0+IHtcbiAgICAgICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIGFkZFByb2plY3RUb05vdGVwYWQocHJvamVjdC5pZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RUYXNrcyA9IHByb2plY3QudGFza3M7XG4gICAgICAgICAgICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGVwYWQnKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke3Byb2plY3QuaWR9XCJdYCk7XG4gICAgICAgICAgICBjb25zdCB0YXNrc0xpc3QgPSBwcm9qZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7IC8vIHRoaXMgaXMgdGhlIHVsIGVsZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBwcm9qZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdGFzaycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm9qZWN0VGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrVG9BZGQgPSBsb2FkVGFzayh0YXNrKTtcbiAgICAgICAgICAgICAgICB0YXNrc0xpc3QuaW5zZXJ0QmVmb3JlKHRhc2tUb0FkZCwgYWRkVGFza0J0bi5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9ICBcblxuICAgIGNvbnN0IGxvYWRBbGxUYXNrcyA9IChwcm9qZWN0cykgPT4ge1xuICAgICAgICBwcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdFRhc2tzID0gcHJvamVjdC50YXNrcztcbiAgICAgICAgICAgIHByb2plY3RUYXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGFkZCB0YXNrIHRvIG5vdGVwYWQgdy8gcmVsZXZhbnQgY2xhc3NlcyAmIGRhdGFcbiAgICAgICAgICAgICAgICBsb2FkVGFzayh0YXNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVQcm9qZWN0TGlzdChwcm9qZWN0cyk7XG4gICAgbG9hZEFsbFByb2plY3RzKHByb2plY3RzKTtcbn1cblxuLy8gU2lkZWJhciBNb2R1bGVcbmNvbnN0IHNpZGViYXJDb250cm9sbGVyID0gKCgpID0+IHtcblxuICAgIGNvbnN0IG1vYmlsZVRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJzLWljb24tbW9iaWxlJyk7XG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjQgJiYgbW9iaWxlVG9nZ2xlQnRuLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgbW9iaWxlVG9nZ2xlQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIGNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhcicpO1xuICAgIFxuICAgIGNvbnN0IHRvZ2dsZVNpZGViYXIgPSAoKSA9PiB7XG4gICAgICAgIHNpZGViYXIuY2xhc3NMaXN0LnRvZ2dsZSgndG9nZ2xlLXNpZGViYXInKTtcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjQpIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhcnMtaWNvbicpO1xuICAgIHRvZ2dsZUJ0bi5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVNpZGViYXIpO1xuICAgIH0pOyAgICAgICAgXG59KSgpO1xuXG5jb25zdCBwcm9qZWN0Q29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgZGVsZXRlUHJvamVjdCgpO1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcHJvamVjdF0nKTtcbiAgICBhZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUHJvamVjdCk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQtcHJvamVjdCcpKSB7XG4gICAgICAgICAgICBlZGl0UHJvamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcblxuY29uc3QgdGFza0NvbnRyb2xsZXIgPSAoKCkgPT4ge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFzay10ZXh0JykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZS50YXJnZXQuY2xvc2VzdCgnLnRhc2snKTtcbiAgICAgICAgICAgIHRvZ2dsZVRhc2sodGFza0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FkZC10YXNrJykpIHtcbiAgICAgICAgICAgIGFkZFRhc2tUb0RPTShlLnRhcmdldCk7XG4gICAgICAgICAgICBhZGRUYXNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJpb3JpdHktaWNvbicpKSB7XG4gICAgICAgICAgICB1cGRhdGVQcmlvcml0eShlLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7Il0sIm5hbWVzIjpbImdldFByb2plY3RzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNhdmVQcm9qZWN0IiwicHJvamVjdFRvU2F2ZSIsInByb2plY3RzIiwiZXhpc3RpbmciLCJmaW5kIiwicHJvamVjdCIsImlkIiwicHJvamVjdE5hbWUiLCJ0YXNrcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZ2V0VGFza3MiLCJwcm9qZWN0SWQiLCJkZWxldGVQcm9qZWN0IiwidXBkYXRlZFByb2plY3RMaXN0IiwiZmlsdGVyIiwiZGVsZXRlVGFzayIsInRhc2tJZCIsInByb2plY3RXaXRoVGFzayIsInVwZGF0ZWRUYXNrT2JqIiwidGFza09iaiIsImZpbmRUYXNrVG9VcGRhdGUiLCJleGlzdGluZ1Rhc2tJZCIsInRhc2siLCJ1cGRhdGVUYXNrIiwidXBkYXRlZFRhc2siLCJwcm9qZWN0VG9VcGRhdGUiLCJ0YXNrc0FycmF5IiwiaW5kZXhPZlVwZGF0ZWRUYXNrIiwiZmluZEluZGV4IiwiX3JlZnJlc2hQcm9qZWN0TGlzdCIsIl9zZXRQcm9qZWN0TGlzdCIsInVwZGF0ZVByb2plY3RMaXN0IiwiX3NldEFjdGl2ZVRhYiIsInRhYiIsInVwZGF0ZUFjdGl2ZVRhYiIsIm9uUHJvamVjdFNlbGVjdCIsInByb2plY3RPYmplY3QiLCJzZWxlY3RlZFByb2plY3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvblByb2plY3RBZGQiLCJuZXdQcm9qZWN0IiwibmV3UHJvamVjdERPTUVsZW1lbnQiLCJvblByb2plY3ROYW1lRWRpdCIsIm9uVGFza0FkZCIsIm5ld1Rhc2siLCJpdGVtIiwicHJpb3JpdHkiLCJkdWVEYXRlIiwiaXNDb21wbGV0ZSIsIm9uVGFza05hbWVFZGl0IiwibmV3VGFza05hbWUiLCJleGlzdGluZ1Rhc2siLCJvblRhc2tQcmlvcml0eUVkaXQiLCJuZXdQcmlvcml0eSIsIm9uVGFza0R1ZURhdGVFZGl0IiwibmV3RHVlRGF0ZSIsIm9uVGFza0NvbXBsZXRlRWRpdCIsImNyZWF0ZUVsZW1lbnRzIiwiY3JlYXRlTGlzdEVsZW1lbnQiLCJodG1sQ2xhc3MiLCJsaSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVTcGFuRWxlbWVudCIsInNwYW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJjcmVhdGVJbWFnZUVsZW1lbnQiLCJzcmMiLCJpbWciLCJjcmVhdGVJbnB1dEZpZWxkIiwicGxhY2Vob2xkZXJUZXh0IiwidXNlcklucHV0IiwicmVxdWlyZWQiLCJjcmVhdGVGb3JtIiwiY3JlYXRlRGl2IiwiZGl2IiwiY3JlYXRlSWNvblNwYW4iLCJ2aWV3IiwiaWNvblNwYW4iLCJlZGl0SWNvbiIsImRlbGV0ZUljb24iLCJhcHBlbmQiLCJhZGRQcm9qZWN0VG9Ob3RlcGFkIiwibm90ZXBhZCIsInByb2plY3REaXYiLCJza2lwTGluZSIsInByb2plY3RIZWFkaW5nIiwiaDIiLCJ0ZXh0Q29udGVudCIsImgzIiwidGFza3NDb250YWluZXIiLCJhZGRUYXNrTGlzdEVsZW1lbnQiLCJhZGRUYXNrU3BhbiIsImFkZEljb24iLCJfY3JlYXRlUHJvamVjdEl0ZW1IVE1MIiwibmFtZSIsInByb2plY3RJdGVtIiwicHJvamVjdHNMaXN0Q29udGFpbmVyIiwiYWRkUHJvamVjdEJ0biIsInNsaWNlIiwiY2FsbCIsImNoaWxkcmVuIiwiZm9yRWFjaCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiaHRtbCIsImluc2VydEJlZm9yZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF0YXNldCIsImN1cnJlbnRBY3RpdmVUYWIiLCJhd2FpdGluZ0lucHV0IiwiaGFuZGxlVXNlcklucHV0IiwicGFyZW50RWxlbWVudCIsInByb2plY3RTcGFuIiwidmFsdWUiLCJ0cmltIiwiY2hpbGROb2RlcyIsImFkZFByb2plY3QiLCJwcm9qZWN0c0NvbnRhaW5lciIsInByb2plY3RMaXN0RWxlbWVudCIsInByb2plY3RJbnB1dEZvcm0iLCJwcm9qZWN0TmFtZUlucHV0IiwibGFzdEVsZW1lbnRDaGlsZCIsInNldFRpbWVvdXQiLCJmb2N1cyIsImFkZFByb2plY3RUb1NpZGViYXIiLCJpbnB1dEZvcm0iLCJmaXJzdEVsZW1lbnRDaGlsZCIsInByb2plY3RMaXN0IiwiY2hpbGRFbGVtZW50Q291bnQiLCJnZXRBdHRyaWJ1dGUiLCJlIiwicHJldmVudERlZmF1bHQiLCJhZGRUYXNrIiwiaW5wdXRGaWVsZCIsInRhc2tDb250YWluZXIiLCJjbG9zZXN0IiwidmFsaWRhdGVVc2VySW5wdXQiLCJjcmVhdGVUYXNrIiwidGFza0l0ZW0iLCJ0YXNrVGV4dFNwYW4iLCJwcmVwZW5kIiwid2luZG93Iiwib25sb2FkIiwicHJvamVjdFRhc2tzIiwicHJvamVjdENvbnRhaW5lciIsInRhc2tzTGlzdCIsImFkZFRhc2tCdG4iLCJ0YXNrVG9BZGQiLCJ0YXNrTmFtZVNwYW4iLCJkdWVEYXRlU3BhbiIsInByaW9yaXR5SWNvbiIsImRhdGVMYWJlbCIsImRhdGVJbnB1dCIsImNhbGVuZGFySWNvbiIsImFkZER1ZURhdGVUb0RPTSIsImxvYWRUYXNrIiwibW9iaWxlVG9nZ2xlQnRuIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lcldpZHRoIiwidG9nZ2xlIiwic2lkZWJhciIsInRvZ2dsZVNpZGViYXIiLCJidXR0b24iLCJ0YXJnZXQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwidXBkYXRlTmFtZU9uTm90ZXBhZCIsInByb2plY3RUYXNrc0NvbnRhaW5lciIsImVkaXRQcm9qZWN0IiwidGFza0VsZW1lbnQiLCJ0b2dnbGVUYXNrIiwidGFza0xpc3RFbGVtZW50IiwidGFza1NwYW4iLCJ0YXNrTmFtZSIsImNvbnRhaW5lciIsIm51bWJlck9mVGFza3MiLCJhZGRUYXNrVG9ET00iLCJldmVudFRhcmdldCIsInByaW9yaXR5Q2xhc3NMaXN0IiwidXBkYXRlUHJpb3JpdHkiXSwic291cmNlUm9vdCI6IiJ9