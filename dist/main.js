(()=>{"use strict";const e=(()=>{const e=()=>JSON.parse(localStorage.getItem("projects")||"[]"),t=t=>{const n=e(),a=n.find((e=>e.id==t.id));a?(a.projectName=t.projectName,a.tasks=t.tasks):(t.id=Math.floor(1e6*Math.random()),n.push(t)),localStorage.setItem("projects",JSON.stringify(n))};return{getProjects:e,getTasks:t=>e().find((e=>e.id==t)).tasks,saveProject:t,deleteProject:t=>{const n=e().filter((e=>e.id!=t));localStorage.setItem("projects",JSON.stringify(n))},deleteTask:(n,a)=>{const r=e().find((e=>e.id==n)),s=r.tasks.filter((e=>e.taskId!=a));r.tasks=s,t(r)},findTaskToUpdate:(t,n)=>e().find((e=>e.id==t)).tasks.find((e=>e.taskId==n)),updateTask:(t,n)=>{const a=e(),r=a.find((e=>e.id==t)),s=r.tasks,o=s.findIndex((e=>e.taskId==n.taskId));s[o]=n,r.tasks=s,localStorage.setItem("projects",JSON.stringify(a))}}})(),t=(()=>{const t=()=>{const t=e.getProjects();n(t)},n=e=>{o(e)},a=e=>{c(e)};return{onProjectSelect:t=>{const n=e.getProjects().find((e=>e.id==t)),r=document.querySelector(`[data-project-id='${n.id}']`);a(r)},onProjectAdd:n=>{const r={projectName:n,tasks:[]};e.saveProject(r),t();const s=document.querySelector(`[data-project-id='${r.id}']`);a(s)},onProjectNameEdit:(n,a,r=e.getTasks(n))=>{e.saveProject({id:n,projectName:a,tasks:r}),t()},onTaskAdd:(t,n)=>{const a={item:t,taskId:Math.floor(1e6*Math.random()),priority:"low",dueDate:null,isComplete:!1},r=e.getProjects().find((e=>e.id==n));return r.tasks.push(a),e.saveProject(r),a},onTaskNameEdit:(t,n,a)=>{const r=e.findTaskToUpdate(t,n);e.updateTask(t,{item:a,taskId:r.taskId,priority:r.priority,dueDate:r.dueDate,isComplete:r.isComplete})},onTaskPriorityEdit:(t,n,a)=>{const r=e.findTaskToUpdate(t,n);e.updateTask(t,{item:r.item,taskId:r.taskId,priority:a,dueDate:r.dueDate,isComplete:r.isComplete})},onTaskDueDateEdit:(t,n,a)=>{const r=e.findTaskToUpdate(t,n);e.updateTask(t,{item:r.item,taskId:r.taskId,priority:r.priority,dueDate:a,isComplete:r.isComplete})}}})(),n=()=>({createListElement:e=>{const t=document.createElement("li");return t.setAttribute("class",e),t},createSpanElement:e=>{const t=document.createElement("span");return t.classList.add(e),t},createImageElement:(e,t)=>{const n=document.createElement("img");return n.classList.add(t),n.setAttribute("src",e),n.setAttribute("draggable","false"),n},createInputField:e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},createForm:()=>document.createElement("form"),createDiv:e=>{const t=document.createElement("div");return t.setAttribute("class",e),t}}),a=()=>{const e=n(),t=e.createSpanElement("icons"),a=e.createImageElement("images/edit-icon.svg","edit-icon"),r=e.createImageElement("images/delete-icon.svg","delete-icon");return a.classList.add("edit-project"),r.classList.add("delete-project"),t.append(a,r),t},r=e=>{const t=n(),a=document.querySelector(".project-list"),r=a.childElementCount-2,s=a.children[r].textContent,o=document.querySelector("#writing-area"),c=t.createDiv("project");c.setAttribute("data-project-id",e);const i=t.createDiv("skip-line"),d=t.createDiv("project-heading"),l=document.createElement("h2");l.setAttribute("class","notepad-text"),l.textContent=s;const m=document.createElement("h3");m.setAttribute("class","notepad-text"),m.textContent="Due Date";const p=document.createElement("ul");p.classList.add("notepad-text","todos");const u=t.createListElement("task"),E=t.createSpanElement("add-task"),g=t.createImageElement("images/add-icon.svg","add-icon");E.append(g,"Add Task"),u.append(E),p.append(u,i),d.append(l,m),c.append(d,p),o.append(c)},s=(e,t)=>{const r=n(),s=r.createListElement("project-item");s.setAttribute("data-project-id",e);const o=r.createSpanElement("project-name");o.textContent=t;const c=a();return s.append(o,c),s},o=e=>{const n=document.querySelector(".project-list"),a=document.querySelector("[data-add-project]");[].slice.call(n.children).forEach((e=>{e.classList.contains("project-item")&&e.remove()}));for(const t of e){const e=s(t.id,t.projectName);n.insertBefore(e,a)}n.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",(()=>{t.onProjectSelect(e.dataset.projectId)}))}))},c=e=>{const t=document.querySelector(".active");t&&t.classList.remove("active"),e.classList.add("active"),e.children.item(0)},i=()=>null!=document.querySelector("#user-input"),d=()=>{const e=document.querySelector("#user-input"),t=e.parentElement.parentElement,a=n().createSpanElement("project-name"),r=e.value.trim();r&&(a.textContent=r,e.parentElement.remove(),t.insertBefore(a,t.childNodes[0]))},l=()=>{if(i())return;(()=>{const e=n(),t=document.querySelector(".project-list"),r=e.createListElement("project-item"),s=e.createForm(),o=e.createInputField("Project name...");s.append(o);const c=a();r.append(s,c),t.insertBefore(r,t.lastElementChild),setTimeout((()=>{o.focus()}),0)})();const e=document.querySelector("#user-input"),s=e.parentElement,o=s.parentElement;e.addEventListener("blur",(function(){if(""==e.value.trim())return void o.remove();d();const n=o.firstElementChild.textContent;t.onProjectAdd(n);const a=document.querySelector(".project-list"),s=a.children[a.childElementCount-2].getAttribute("data-project-id");i()||r(s)})),s.addEventListener("submit",(function(e){e.preventDefault(),d();const n=o.firstElementChild.textContent;t.onProjectAdd(n);const a=document.querySelector(".project-list"),s=a.children[a.childElementCount-2].getAttribute("data-project-id");i()||r(s)}))},m=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,n=t.parentElement.parentElement;e.addEventListener("blur",(function(t){const a=t.target.closest("[data-project-id]").dataset.projectId,r=e.value;u(),r&&p(r,a,n)})),t.addEventListener("submit",(function(t){t.preventDefault();const a=t.target.closest("[data-project-id]").dataset.projectId,r=e.value;u(),r&&p(r,a,n)}))},p=(e,n,a)=>{if(a.dataset.taskId)return t.onTaskNameEdit(n,a.dataset.taskId,e);const r=t.onTaskAdd(e,n);a.setAttribute("data-task-id",r.taskId)},u=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,a=t.parentElement,r=a.parentElement,s=e.value.trim(),o=n().createSpanElement("task-text");o.append(s),""!=s||r.dataset.taskId?""==s&&r.dataset.taskId||(t.remove(),a.prepend(o)):r.remove()};window.onload=()=>{const t=e.getProjects();o(t)},(()=>{const e=document.getElementById("bars-icon-mobile");window.innerWidth<=1024&&e.classList.contains("hidden")&&e.classList.toggle("hidden");const t=document.getElementById("sidebar"),n=()=>{t.classList.toggle("toggle-sidebar"),window.innerWidth<=1024&&e.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",n)}))})(),document.addEventListener("click",(t=>{if(t.target.closest(".delete-project")){const n=t.target.closest(".project-item");n.remove();const a=n.dataset.projectId;e.deleteProject(a)}})),document.querySelector("[data-add-project]").addEventListener("click",l),document.addEventListener("click",(e=>{e.target.classList.contains("edit-project")&&(e=>{if(i())return;const a=n().createForm(),r=n().createInputField("Project name..."),s=e.target.parentElement.previousElementSibling;r.value=s.textContent,s.remove(),a.append(r);const o=e.target.closest(".project-item");o.insertBefore(a,o.childNodes[0]);const c=document.querySelector("#user-input"),l=o.dataset.projectId;c.addEventListener("blur",(function(){""!=c.value&&d();const e=o.firstElementChild.textContent;t.onProjectNameEdit(l,e)})),a.addEventListener("submit",(function(e){e.preventDefault(),d();const n=o.firstElementChild.textContent;t.onProjectNameEdit(l,n)}))})(e)})),document.addEventListener("click",(a=>{a.target.classList.contains("task-item")&&a.target.parentElement.classList.toggle("completed"),a.target.classList.contains("add-task")&&((a=>{if(document.getElementById("user-input"))return;const r=n().createListElement("task"),s=n().createSpanElement("task-item"),o=n().createForm(),c=n().createInputField("Enter Task...");o.append(c),s.append(o);const i=n().createSpanElement("icons"),d=n().createImageElement("images/edit-icon.svg","edit-icon"),l=n().createImageElement("images/delete-icon.svg","delete-icon");d.addEventListener("click",(()=>{if(r.classList.contains("completed"))return;const e=document.querySelector(".task-text"),t=e.textContent;e.remove();const a=n().createForm(),o=n().createInputField("Enter Task...");o.value=t,a.append(o),s.insertBefore(a,i),r.prepend(s),m()})),l.addEventListener("click",(t=>{const n=t.target.closest("[data-project-id]").dataset.projectId,a=t.target.closest("[data-task-id]").dataset.taskId;r.remove(),e.deleteTask(n,a)})),i.append(d,l),s.append(i);const p=(()=>{const e=n().createSpanElement("due-date"),a=n().createImageElement("images/priority-icon.svg","priority-icon");a.classList.add("priority-low");const r=document.createElement("label");r.classList.add("date-label");const s=document.createElement("input");s.setAttribute("type","date"),s.required=!0;const o=n().createImageElement("images/calendar-icon.svg","calendar-icon");return r.append(s,o),e.append(a,r),s.addEventListener("change",(()=>{const e=s.closest([".project"]).dataset.projectId,n=s.closest("[data-task-id").dataset.taskId,a=s.value;return t.onTaskDueDateEdit(e,n,a)})),e})();r.append(s,p);const u=a.closest(".todos"),E=u.childElementCount-2;u.insertBefore(r,u.children[E]),setTimeout((()=>{c.focus()}),0)})(a.target),m()),a.target.classList.contains("priority-icon")&&(e=>{if(e.parentElement.parentElement.classList.contains("completed"))return;const n=e.closest([".project"]).dataset.projectId,a=e.closest("[data-task-id").dataset.taskId,r=e.classList;r.contains("priority-low")?(r.remove("priority-low"),r.add("priority-medium"),t.onTaskPriorityEdit(n,a,"medium")):r.contains("priority-medium")?(r.remove("priority-medium"),r.add("priority-high"),t.onTaskPriorityEdit(n,a,"high")):r.contains("priority-high")&&(r.remove("priority-high"),r.add("priority-low"),t.onTaskPriorityEdit(n,a,"low"))})(a.target)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NyZWF0ZURPTUVsZW1lbnRzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdGFza3MuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVwZGF0ZVN0b3JhZ2UgPSAoKSA9PiB7XG4gICAgXG4gICAgY29uc3QgZ2V0UHJvamVjdHMgPSAoKSA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZXMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpIHx8ICdbXScpO1xuICAgICAgICByZXR1cm4gcHJvamVjdHM7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0VGFza3MgPSAocHJvamVjdElkKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFByb2plY3QgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCB0YXNrcyA9IGN1cnJlbnRQcm9qZWN0LnRhc2tzO1xuICAgICAgICByZXR1cm4gdGFza3M7XG4gICAgfVxuXG4gICAgY29uc3Qgc2F2ZVByb2plY3QgPSAocHJvamVjdFRvU2F2ZSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG5cbiAgICAgICAgLy8gZmluZCBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3Qgb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGUgaWRcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0VG9TYXZlLmlkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgZXhpc3RpbmcucHJvamVjdE5hbWUgPSBwcm9qZWN0VG9TYXZlLnByb2plY3ROYW1lO1xuICAgICAgICAgICAgZXhpc3RpbmcudGFza3MgPSBwcm9qZWN0VG9TYXZlLnRhc2tzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvamVjdFRvU2F2ZS5pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApO1xuICAgICAgICAgICAgLy8gQWRkIHByb2plY3ROYW1lXG4gICAgICAgICAgICAvLyBBZGQgVGFza3MgYXJyYXkgY29udGFpbmluZyBhbm90aGVyIGFycmF5IHdoaWNoIGluY2x1ZGVzIHRhc2ssIHByaW9yaXR5LCBkdWVEYXRlLCBhbmQgdHJ1ZS9mYWxzZSBmb3IgY29tcGxldGVkIG9yIG5vdFxuICAgICAgICAgICAgcHJvamVjdHMucHVzaChwcm9qZWN0VG9TYXZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlVGFzayA9IChwcm9qZWN0SWQsIHVwZGF0ZWRUYXNrKSA9PiB7XG4gICAgICAgIC8vIHRhc2tzIGZvciBjdXJyZW50IHByb2plY3RcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VG9VcGRhdGUgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCB0YXNrc0FycmF5ID0gcHJvamVjdFRvVXBkYXRlLnRhc2tzO1xuICAgICAgICBcbiAgICAgICAgLy8gZmluZCB0YXNrIGluZGV4IGFuZCByZXBsYWNlIHRoZSB0YXNrIGF0IHRoYXQgaW5kZXggdG8gdXBkYXRlXG4gICAgICAgIGNvbnN0IGluZGV4T2ZVcGRhdGVkVGFzayA9IHRhc2tzQXJyYXkuZmluZEluZGV4KCh0YXNrT2JqKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iai50YXNrSWQgPT0gdXBkYXRlZFRhc2sudGFza0lkO1xuICAgICAgICB9KTtcblxuICAgICAgICB0YXNrc0FycmF5W2luZGV4T2ZVcGRhdGVkVGFza10gPSB1cGRhdGVkVGFzaztcbiAgICAgICAgLy8gU2F2ZSB1cGRhdGVkIHRhc2tzIGFycmF5IHRvIHRoZSBwcm9qZWN0IG9iamVjdFxuICAgICAgICBwcm9qZWN0VG9VcGRhdGUudGFza3MgPSB0YXNrc0FycmF5O1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbmRUYXNrVG9VcGRhdGUgPSAocHJvamVjdElkLCBleGlzdGluZ1Rhc2tJZCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7ICAgICBcbiAgICAgICAgY29uc3QgcHJvamVjdFRvVXBkYXRlID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdElkKTtcbiAgICAgICAgY29uc3QgdGFza3NBcnJheSA9IHByb2plY3RUb1VwZGF0ZS50YXNrc1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB0YXNrc0FycmF5LmZpbmQodGFzayA9PiB0YXNrLnRhc2tJZCA9PSBleGlzdGluZ1Rhc2tJZCk7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Rhc2s7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlUHJvamVjdCA9IChpZCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9qZWN0TGlzdCA9IHByb2plY3RzLmZpbHRlcihwcm9qZWN0ID0+IHByb2plY3QuaWQgIT0gaWQpO1xuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9qZWN0TGlzdCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZVRhc2sgPSAoaWQsIHRhc2tJZCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RXaXRoVGFzayA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IGlkKTtcbiAgICAgICAgY29uc3QgYWxsVGFza3MgPSBwcm9qZWN0V2l0aFRhc2sudGFza3M7XG4gICAgICAgIC8vIEVhY2ggdGFzayBpcyBhbiBvYmplY3RcbiAgICAgICAgY29uc3QgdXBkYXRlZFRhc2tPYmogPSBhbGxUYXNrcy5maWx0ZXIodGFza09iaiA9PiB0YXNrT2JqLnRhc2tJZCAhPSB0YXNrSWQpO1xuICAgICAgICBwcm9qZWN0V2l0aFRhc2sudGFza3MgPSB1cGRhdGVkVGFza09iajtcblxuICAgICAgICBzYXZlUHJvamVjdChwcm9qZWN0V2l0aFRhc2spO1xuICAgIH1cblxuICAgIHJldHVybiB7IGdldFByb2plY3RzLCBnZXRUYXNrcywgc2F2ZVByb2plY3QsIGRlbGV0ZVByb2plY3QsIGRlbGV0ZVRhc2ssIGZpbmRUYXNrVG9VcGRhdGUsIHVwZGF0ZVRhc2sgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB1cGRhdGVTdG9yYWdlKCk7IiwiaW1wb3J0IHsgdXBkYXRlUHJvamVjdExpc3QsIHVwZGF0ZUFjdGl2ZVRhYiB9IGZyb20gXCIuL2NyZWF0ZURPTUVsZW1lbnRzXCI7XG5pbXBvcnQgdXBkYXRlU3RvcmFnZSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQge2Zvcm1hdH0gZnJvbSBcImRhdGUtZm5zXCI7XG5cbmNvbnN0IGhhbmRsZXJzID0gKCkgPT4ge1xuICAgIFxuICAgIGNvbnN0IF9yZWZyZXNoUHJvamVjdExpc3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gdXBkYXRlU3RvcmFnZS5nZXRQcm9qZWN0cygpOyAvLyBVcGRhdGUgcHJvamVjdHMgaW4gc3RvcmFnZSAgICAgICAgXG4gICAgICAgIF9zZXRQcm9qZWN0TGlzdChwcm9qZWN0cyk7IC8vIFVwZGF0ZSBwcm9qZWN0cyBvbiBET01cbiAgICB9XG5cbiAgICBjb25zdCBfc2V0UHJvamVjdExpc3QgPSAocHJvamVjdHMpID0+IHtcbiAgICAgICAgdXBkYXRlUHJvamVjdExpc3QocHJvamVjdHMpO1xuICAgIH1cblxuICAgIGNvbnN0IF9zZXRBY3RpdmVUYWIgPSAodGFiKSA9PiB7XG4gICAgICAgIHVwZGF0ZUFjdGl2ZVRhYih0YWIpO1xuICAgIH1cblxuICAgIC8vIEhlcmUgYmUgaGFuZGxlcnNcbiAgICBjb25zdCBvblByb2plY3RTZWxlY3QgPSAocHJvamVjdElkKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gdXBkYXRlU3RvcmFnZS5nZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCBwcm9qZWN0T2JqZWN0ID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdElkKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdC1pZD0nJHtwcm9qZWN0T2JqZWN0LmlkfSddYCk7XG4gICAgICAgIF9zZXRBY3RpdmVUYWIoc2VsZWN0ZWRQcm9qZWN0KTtcbiAgICB9XG5cbiAgICBjb25zdCBvblByb2plY3RBZGQgPSAocHJvamVjdE5hbWUpID0+IHtcbiAgICAgICAgLy8gcGFzcyB1c2VyIGlucHV0IGludG8gZnVuY3Rpb25cbiAgICAgICAgY29uc3QgbmV3UHJvamVjdCA9ICB7XG4gICAgICAgICAgICBwcm9qZWN0TmFtZTogcHJvamVjdE5hbWUsXG4gICAgICAgICAgICB0YXNrczogW11cbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVTdG9yYWdlLnNhdmVQcm9qZWN0KG5ld1Byb2plY3QpO1xuICAgICAgICAvLyBhZGQgaW5wdXQgdG8gcGFnZVxuICAgICAgICBfcmVmcmVzaFByb2plY3RMaXN0KCk7XG4gICAgICAgIGNvbnN0IG5ld1Byb2plY3RET01FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdC1pZD0nJHtuZXdQcm9qZWN0LmlkfSddYCk7XG4gICAgICAgIF9zZXRBY3RpdmVUYWIobmV3UHJvamVjdERPTUVsZW1lbnQpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBvblRhc2tBZGQgPSAodGFzaywgaWQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFzayA9IHtcbiAgICAgICAgICAgIGl0ZW06IHRhc2ssIFxuICAgICAgICAgICAgdGFza0lkOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKSxcbiAgICAgICAgICAgIHByaW9yaXR5OiAnbG93JyxcbiAgICAgICAgICAgIGR1ZURhdGU6IG51bGwsXG4gICAgICAgICAgICBpc0NvbXBsZXRlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gdXBkYXRlU3RvcmFnZS5nZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VG9VcGRhdGUgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBpZCk7XG4gICAgICAgIHByb2plY3RUb1VwZGF0ZS50YXNrcy5wdXNoKG5ld1Rhc2spO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnNhdmVQcm9qZWN0KHByb2plY3RUb1VwZGF0ZSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbmV3VGFzaztcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb25Qcm9qZWN0TmFtZUVkaXQgPSAocHJvamVjdElkLCBwcm9qZWN0TmFtZSwgdGFza3MgPSB1cGRhdGVTdG9yYWdlLmdldFRhc2tzKHByb2plY3RJZCkpID0+IHtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS5zYXZlUHJvamVjdCh7XG4gICAgICAgICAgICBpZDogcHJvamVjdElkLFxuICAgICAgICAgICAgcHJvamVjdE5hbWU6IHByb2plY3ROYW1lLFxuICAgICAgICAgICAgdGFza3M6IHRhc2tzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF9yZWZyZXNoUHJvamVjdExpc3QoKTtcbiAgICB9XG5cbiAgICBjb25zdCBvblRhc2tOYW1lRWRpdCA9IChwcm9qZWN0SWQsIHRhc2tJZCwgbmV3VGFza05hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gdXBkYXRlU3RvcmFnZS5maW5kVGFza1RvVXBkYXRlKHByb2plY3RJZCwgdGFza0lkKTtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS51cGRhdGVUYXNrKHByb2plY3RJZCwge1xuICAgICAgICAgICAgICAgIGl0ZW06IG5ld1Rhc2tOYW1lLFxuICAgICAgICAgICAgICAgIHRhc2tJZDogZXhpc3RpbmdUYXNrLnRhc2tJZCxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogZXhpc3RpbmdUYXNrLnByaW9yaXR5LFxuICAgICAgICAgICAgICAgIGR1ZURhdGU6IGV4aXN0aW5nVGFzay5kdWVEYXRlLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGV4aXN0aW5nVGFzay5pc0NvbXBsZXRlXG4gICAgICAgICAgICB9KTsgIFxuICAgIH1cblxuICAgIGNvbnN0IG9uVGFza1ByaW9yaXR5RWRpdCA9IChwcm9qZWN0SWQsIHRhc2tJZCwgbmV3UHJpb3JpdHkpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gdXBkYXRlU3RvcmFnZS5maW5kVGFza1RvVXBkYXRlKHByb2plY3RJZCwgdGFza0lkKTtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS51cGRhdGVUYXNrKHByb2plY3RJZCwge1xuICAgICAgICAgICAgICAgIGl0ZW06IGV4aXN0aW5nVGFzay5pdGVtLFxuICAgICAgICAgICAgICAgIHRhc2tJZDogZXhpc3RpbmdUYXNrLnRhc2tJZCxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogbmV3UHJpb3JpdHksXG4gICAgICAgICAgICAgICAgZHVlRGF0ZTogZXhpc3RpbmdUYXNrLmR1ZURhdGUsXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogZXhpc3RpbmdUYXNrLmlzQ29tcGxldGVcbiAgICAgICAgICAgIH0pOyAgXG4gICAgfVxuXG4gICAgY29uc3Qgb25UYXNrRHVlRGF0ZUVkaXQgPSAocHJvamVjdElkLCB0YXNrSWQsIG5ld0R1ZURhdGUpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gdXBkYXRlU3RvcmFnZS5maW5kVGFza1RvVXBkYXRlKHByb2plY3RJZCwgdGFza0lkKTtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS51cGRhdGVUYXNrKHByb2plY3RJZCwge1xuICAgICAgICAgICAgICAgIGl0ZW06IGV4aXN0aW5nVGFzay5pdGVtLFxuICAgICAgICAgICAgICAgIHRhc2tJZDogZXhpc3RpbmdUYXNrLnRhc2tJZCxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogZXhpc3RpbmdUYXNrLnByaW9yaXR5LFxuICAgICAgICAgICAgICAgIGR1ZURhdGU6IG5ld0R1ZURhdGUsXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogZXhpc3RpbmdUYXNrLmlzQ29tcGxldGVcbiAgICAgICAgICAgIH0pOyAgXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb25Qcm9qZWN0U2VsZWN0LCBvblByb2plY3RBZGQsIG9uUHJvamVjdE5hbWVFZGl0LCBvblRhc2tBZGQsIG9uVGFza05hbWVFZGl0LCBvblRhc2tQcmlvcml0eUVkaXQsIG9uVGFza0R1ZURhdGVFZGl0IH1cbiAgICBcbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlcnMoKTsiLCJpbXBvcnQgaGFuZGxlcnMgZnJvbSBcIi4vaGFuZGxlcnNcIlxuXG4vLyBET00gRWxlbWVudHMgRmFjdG9yeSBGdW5jdGlvblxuY29uc3QgY3JlYXRlRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgXG4gICAgY29uc3QgY3JlYXRlTGlzdEVsZW1lbnQgPSAoaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKCdjbGFzcycsIGh0bWxDbGFzcyk7XG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVTcGFuRWxlbWVudCA9IChodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKGh0bWxDbGFzcyk7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZUltYWdlRWxlbWVudCA9IChzcmMsIGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoaHRtbENsYXNzKTtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgIHJldHVybiBpbWc7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUZvcm0gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgcmV0dXJuIGlucHV0Rm9ybTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVJbnB1dEZpZWxkID0gKHBsYWNlaG9sZGVyVGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBwbGFjZWhvbGRlclRleHQpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsICd1c2VyLWlucHV0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHVzZXJJbnB1dDtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVEaXYgPSAoaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsIGh0bWxDbGFzcyk7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtjcmVhdGVMaXN0RWxlbWVudCwgY3JlYXRlU3BhbkVsZW1lbnQsIGNyZWF0ZUltYWdlRWxlbWVudCwgY3JlYXRlSW5wdXRGaWVsZCwgY3JlYXRlRm9ybSwgY3JlYXRlRGl2fVxufVxuXG5jb25zdCBjcmVhdGVJY29uU3BhbiA9ICgpID0+IHtcbiAgICBjb25zdCB2aWV3ID0gY3JlYXRlRWxlbWVudHMoKTtcblxuICAgIGNvbnN0IGljb25TcGFuID0gdmlldy5jcmVhdGVTcGFuRWxlbWVudCgnaWNvbnMnKTtcbiAgICBjb25zdCBlZGl0SWNvbiA9IHZpZXcuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvZWRpdC1pY29uLnN2ZycsICdlZGl0LWljb24nKTtcbiAgICBjb25zdCBkZWxldGVJY29uID0gdmlldy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9kZWxldGUtaWNvbi5zdmcnLCAnZGVsZXRlLWljb24nKTtcbiAgICBcbiAgICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkKCdlZGl0LXByb2plY3QnKTtcbiAgICBkZWxldGVJY29uLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZS1wcm9qZWN0Jyk7XG4gICAgXG4gICAgaWNvblNwYW4uYXBwZW5kKGVkaXRJY29uLCBkZWxldGVJY29uKTtcbiAgICBcbiAgICByZXR1cm4gaWNvblNwYW47XG59XG5cbmNvbnN0IGFkZFByb2plY3RUb1NpZGViYXIgPSAoKSA9PiB7XG4gICAgY29uc3QgdmlldyA9IGNyZWF0ZUVsZW1lbnRzKCk7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG5cbiAgICBjb25zdCBwcm9qZWN0TGlzdEVsZW1lbnQgPSAgdmlldy5jcmVhdGVMaXN0RWxlbWVudCgncHJvamVjdC1pdGVtJyk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdElucHV0Rm9ybSA9IHZpZXcuY3JlYXRlRm9ybSgpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lSW5wdXQgPSB2aWV3LmNyZWF0ZUlucHV0RmllbGQoJ1Byb2plY3QgbmFtZS4uLicpO1xuICAgIHByb2plY3RJbnB1dEZvcm0uYXBwZW5kKHByb2plY3ROYW1lSW5wdXQpO1xuXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVJY29uU3BhbigpO1xuICAgIHByb2plY3RMaXN0RWxlbWVudC5hcHBlbmQocHJvamVjdElucHV0Rm9ybSwgaWNvblNwYW4pO1xuICAgIHByb2plY3RzQ29udGFpbmVyLmluc2VydEJlZm9yZShwcm9qZWN0TGlzdEVsZW1lbnQsIHByb2plY3RzQ29udGFpbmVyLmxhc3RFbGVtZW50Q2hpbGQpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHByb2plY3ROYW1lSW5wdXQuZm9jdXMoKTtcbiAgICB9LCAwKTtcbn1cblxuY29uc3QgYWRkUHJvamVjdFRvTm90ZXBhZCA9IChwcm9qZWN0SWQpID0+IHtcbiAgICBjb25zdCB2aWV3ID0gY3JlYXRlRWxlbWVudHMoKTtcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcbiAgICBjb25zdCBjdXJyZW50UHJvamVjdE51bWJlciA9IHByb2plY3RMaXN0LmNoaWxkRWxlbWVudENvdW50IC0gMjtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RMaXN0LmNoaWxkcmVuW2N1cnJlbnRQcm9qZWN0TnVtYmVyXS50ZXh0Q29udGVudDtcblxuICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JpdGluZy1hcmVhJyk7XG4gICAgY29uc3QgcHJvamVjdERpdiA9IHZpZXcuY3JlYXRlRGl2KCdwcm9qZWN0Jyk7XG4gICAgcHJvamVjdERpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIHByb2plY3RJZCk7XG4gICAgY29uc3Qgc2tpcExpbmUgPSB2aWV3LmNyZWF0ZURpdignc2tpcC1saW5lJyk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdEhlYWRpbmcgPSB2aWV3LmNyZWF0ZURpdigncHJvamVjdC1oZWFkaW5nJyk7XG4gICAgY29uc3QgaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIGgyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbm90ZXBhZC10ZXh0Jyk7XG4gICAgaDIudGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZTtcbiAgICBjb25zdCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgaDMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlcGFkLXRleHQnKTtcbiAgICBoMy50ZXh0Q29udGVudCA9ICdEdWUgRGF0ZSc7XG4gICAgICAgIFxuICAgIGNvbnN0IHRhc2tzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICB0YXNrc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdub3RlcGFkLXRleHQnLCAndG9kb3MnKTtcblxuICAgIGNvbnN0IGFkZFRhc2tMaXN0RWxlbWVudCA9IHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Rhc2snKTtcbiAgICBjb25zdCBhZGRUYXNrU3BhbiA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ2FkZC10YXNrJyk7XG4gICAgY29uc3QgYWRkSWNvbiA9IHZpZXcuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvYWRkLWljb24uc3ZnJywgJ2FkZC1pY29uJyk7XG4gICAgYWRkVGFza1NwYW4uYXBwZW5kKGFkZEljb24sICdBZGQgVGFzaycpO1xuXG4gICAgYWRkVGFza0xpc3RFbGVtZW50LmFwcGVuZChhZGRUYXNrU3Bhbik7XG4gICAgdGFza3NDb250YWluZXIuYXBwZW5kKGFkZFRhc2tMaXN0RWxlbWVudCwgc2tpcExpbmUpO1xuICAgIHByb2plY3RIZWFkaW5nLmFwcGVuZChoMiwgaDMpO1xuICAgIHByb2plY3REaXYuYXBwZW5kKHByb2plY3RIZWFkaW5nLCB0YXNrc0NvbnRhaW5lcik7XG4gICAgbm90ZXBhZC5hcHBlbmQocHJvamVjdERpdik7XG59XG5cbmNvbnN0IF9jcmVhdGVQcm9qZWN0SXRlbUhUTUwgPSAoaWQsIG5hbWUpID0+IHtcbiAgICAvLyBjcmVhdGVzIEhUTUwgZm9yIHByb2plY3QgaXRlbXMgaW4gc2lkZWJhciBmcm9tIGxvY2FsU3RvcmFnZSBpdGVtXG4gICAgY29uc3QgdmlldyA9IGNyZWF0ZUVsZW1lbnRzKCk7XG5cbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Byb2plY3QtaXRlbScpO1xuICAgIHByb2plY3RJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJywgaWQpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gdmlldy5jcmVhdGVTcGFuRWxlbWVudCgncHJvamVjdC1uYW1lJyk7XG4gICAgcHJvamVjdE5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIGNvbnN0IGljb25TcGFuID0gY3JlYXRlSWNvblNwYW4oKTtcblxuICAgIHByb2plY3RJdGVtLmFwcGVuZChwcm9qZWN0TmFtZSwgaWNvblNwYW4pO1xuXG4gICAgcmV0dXJuIHByb2plY3RJdGVtO1xufVxuXG5jb25zdCB1cGRhdGVQcm9qZWN0TGlzdCA9IChwcm9qZWN0cykgPT4ge1xuICAgIGNvbnN0IHByb2plY3RzTGlzdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXByb2plY3RdJyk7XG4gICAgXG4gICAgLy8gQ2xlYXIgYWxsIGVsZW1lbnRzIG9mIGNsYXNzICcucHJvamVjdC1pdGVtJ1xuICAgIGNvbnN0IHByb2plY3RzQXJyYXkgPSBbXS5zbGljZS5jYWxsKHByb2plY3RzTGlzdENvbnRhaW5lci5jaGlsZHJlbik7XG4gICAgcHJvamVjdHNBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2plY3QtaXRlbScpKSBpdGVtLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgZm9yIChjb25zdCBwcm9qZWN0IG9mIHByb2plY3RzKSB7XG4gICAgICAgIGNvbnN0IGh0bWwgPSBfY3JlYXRlUHJvamVjdEl0ZW1IVE1MKHByb2plY3QuaWQsIHByb2plY3QucHJvamVjdE5hbWUpO1xuICAgICAgICBwcm9qZWN0c0xpc3RDb250YWluZXIuaW5zZXJ0QmVmb3JlKGh0bWwsIGFkZFByb2plY3RCdG4pO1xuICAgIH1cblxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgZm9yIGVkaXQsIGRlbGV0ZSA/Pz8/XG4gICAgcHJvamVjdHNMaXN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0LWl0ZW0nKS5mb3JFYWNoKHByb2plY3RJdGVtID0+IHtcbiAgICAgICAgcHJvamVjdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVycy5vblByb2plY3RTZWxlY3QocHJvamVjdEl0ZW0uZGF0YXNldC5wcm9qZWN0SWQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuY29uc3QgdXBkYXRlQWN0aXZlVGFiID0gKHRhYikgPT4ge1xuICAgIC8vIGZvciBhbGwgb3RoZXIgcHJvamVjdHMsIGNoYW5nZSBkaXNwbGF5IHRvIG5vbmUsIHRvIGJyaW5nIGJhY2sgc2V0IGRpc3BsYXkgdG8gY29udGVudHMgIFxuICAgICAgICAvLyBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAvLyByZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gYW55IG90aGVyIHNpZGViYXIgZWxlbWVudFxuICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG4gICAgaWYgKGN1cnJlbnRBY3RpdmVUYWIpIGN1cnJlbnRBY3RpdmVUYWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lU3BhbiA9IHRhYi5jaGlsZHJlbi5pdGVtKDApOyAvLyBVcGRhdGUgbm90ZXBhZCBoZXJlP1xuICAgIC8vY29uc29sZS5sb2cocHJvamVjdE5hbWVTcGFuKTtcbn1cblxuZXhwb3J0IHsgYWRkUHJvamVjdFRvU2lkZWJhciwgYWRkUHJvamVjdFRvTm90ZXBhZCwgY3JlYXRlRWxlbWVudHMsIHVwZGF0ZVByb2plY3RMaXN0LCB1cGRhdGVBY3RpdmVUYWJ9OyIsImltcG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGFkZFByb2plY3RUb05vdGVwYWQsIGNyZWF0ZUVsZW1lbnRzIH0gZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcbmltcG9ydCBoYW5kbGVycyBmcm9tIFwiLi9oYW5kbGVyc1wiO1xuaW1wb3J0IHVwZGF0ZVN0b3JhZ2UgZnJvbSBcIi4vc3RvcmFnZVwiXG5cbmNvbnN0IGF3YWl0aW5nSW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKTtcbiAgICBpZiAodXNlcklucHV0ICE9IG51bGwpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBoYW5kbGVVc2VySW5wdXQgPSAoKSA9PiB7IFxuICAgIC8vIFRoaXMgaXMgRE9NIFN0dWZmXG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKVxuICAgIGNvbnN0IGlucHV0Rm9ybSA9IHVzZXJJbnB1dC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RJdGVtID0gaW5wdXRGb3JtLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgcHJvamVjdFNwYW4gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZVNwYW5FbGVtZW50KCdwcm9qZWN0LW5hbWUnKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHVzZXJJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgaWYgKCFwcm9qZWN0TmFtZSkgcmV0dXJuO1xuXG4gICAgcHJvamVjdFNwYW4udGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZTtcbiAgICB1c2VySW5wdXQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbiAgICBwcm9qZWN0SXRlbS5pbnNlcnRCZWZvcmUocHJvamVjdFNwYW4sIHByb2plY3RJdGVtLmNoaWxkTm9kZXNbMF0pOyBcbn1cblxuY29uc3QgYWRkUHJvamVjdCA9ICgpID0+IHtcbiAgICBpZiAoYXdhaXRpbmdJbnB1dCgpKSByZXR1cm47XG4gICAgYWRkUHJvamVjdFRvU2lkZWJhcigpO1xuICAgIFxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gdXNlcklucHV0LnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudDtcblxuICAgIHVzZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodXNlcklucHV0LnZhbHVlLnRyaW0oKSA9PSAnJykge1xuICAgICAgICAgICAgcHJvamVjdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlVXNlcklucHV0KCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBwcm9qZWN0SXRlbS5maXJzdEVsZW1lbnRDaGlsZC50ZXh0Q29udGVudDtcbiAgICAgICAgaGFuZGxlcnMub25Qcm9qZWN0QWRkKHByb2plY3ROYW1lKTsgXG5cbiAgICAgICAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG4gICAgICAgIC8vIFNlbGVjdCBsYXN0IHByb2plY3QgYWRkZWQgYW5kIGdldCBpZCBhdHRyaWJ1dGVcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdExpc3QuY2hpbGRyZW5bcHJvamVjdExpc3QuY2hpbGRFbGVtZW50Q291bnQgLSAyXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcpO1xuICAgICAgICBpZiAoIWF3YWl0aW5nSW5wdXQoKSkgYWRkUHJvamVjdFRvTm90ZXBhZChwcm9qZWN0SWQpO1xuICAgIH0pO1xuXG4gICAgaW5wdXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdEFkZChwcm9qZWN0TmFtZSk7IFxuICAgICAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdExpc3QuY2hpbGRyZW5bcHJvamVjdExpc3QuY2hpbGRFbGVtZW50Q291bnQgLSAyXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcpO1xuICAgICAgICBpZiAoIWF3YWl0aW5nSW5wdXQoKSkgYWRkUHJvamVjdFRvTm90ZXBhZChwcm9qZWN0SWQpO1xuICAgIH0pO1xufVxuY29uc3QgZGVsZXRlUHJvamVjdCA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZGVsZXRlLXByb2plY3QnKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdEl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1pdGVtJylcbiAgICAgICAgICAgIHByb2plY3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdEl0ZW0uZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgICAgICB1cGRhdGVTdG9yYWdlLmRlbGV0ZVByb2plY3QocHJvamVjdElkKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFRPRE86IFJlbW92ZSBwcm9qZWN0IGZyb20gbm90ZXBhZCBieSByZWxvYWRpbmcgbG9jYWxTdG9yYWdlIGl0ZW1zIGZvciBjdXJyZW50IHNlbGVjdGVkIHRhYiAoaS5lLiBUb2RheSkuIElmIGN1cnJlbnQgc2VsZWN0IHRhYiBpcyB0aGUgb25lIHRoYXQgaXMgZGVsZXRlZCBsb2FkIG5vdGVwYWQgd2l0aCBIb21lIHRhYiBcbn1cblxuLy8gVE9ETzogY3JlYXRlIGZ1bmN0aW9uIHRvIHVwZGF0ZSBwcm9qZWN0IG5hbWUgb24gbm90ZXBhZCB3aGVuIHVzZXIgZWRpdHMgaXRcbiBcbmNvbnN0IGVkaXRQcm9qZWN0ID0gKGUpID0+IHtcbiAgICBpZiAoYXdhaXRpbmdJbnB1dCgpKSByZXR1cm47XG4gICAgXG4gICAgLy8gVGhpcyBpcyBET00gU3R1ZmZcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgIGlucHV0RmllbGQudmFsdWUgPSBwcm9qZWN0TmFtZS50ZXh0Q29udGVudDtcbiAgICBwcm9qZWN0TmFtZS5yZW1vdmUoKTtcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuXG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1pdGVtJyk7XG4gICAgcHJvamVjdEl0ZW0uaW5zZXJ0QmVmb3JlKGlucHV0Rm9ybSwgcHJvamVjdEl0ZW0uY2hpbGROb2Rlc1swXSk7XG5cbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3RJZCA9IHByb2plY3RJdGVtLmRhdGFzZXQucHJvamVjdElkO1xuXG4gICAgdXNlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh1c2VySW5wdXQudmFsdWUgIT0gJycpIGhhbmRsZVVzZXJJbnB1dCgpO1xuICAgICAgICAvL2lmICghYXdhaXRpbmdJbnB1dCgpKSBlZGl0UHJvamVjdE9uTm90ZXBhZCgpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RJdGVtLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xuICAgICAgICBoYW5kbGVycy5vblByb2plY3ROYW1lRWRpdChwcm9qZWN0SWQsIHByb2plY3ROYW1lKTtcbiAgICB9KTtcblxuICAgIGlucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGhhbmRsZVVzZXJJbnB1dCgpO1xuICAgICAgICAvL2lmICghYXdhaXRpbmdJbnB1dCgpKSBlZGl0UHJvamVjdE9uTm90ZXBhZCgpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RJdGVtLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xuICAgICAgICBoYW5kbGVycy5vblByb2plY3ROYW1lRWRpdChwcm9qZWN0SWQsIHByb2plY3ROYW1lKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgXG4gICAgYWRkUHJvamVjdCxcbiAgICBkZWxldGVQcm9qZWN0LFxuICAgIGVkaXRQcm9qZWN0XG59IiwiaW1wb3J0IHtjcmVhdGVFbGVtZW50c30gZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcbmltcG9ydCB7Zm9ybWF0fSBmcm9tIFwiZGF0ZS1mbnNcIjtcbmltcG9ydCBoYW5kbGVycyBmcm9tIFwiLi9oYW5kbGVyc1wiO1xuaW1wb3J0IHVwZGF0ZVN0b3JhZ2UgZnJvbSBcIi4vc3RvcmFnZVwiO1xuXG5jb25zdCB0b2dnbGVUYXNrID0gKHRhc2tFbGVtZW50KSA9PiB7XG4gICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnY29tcGxldGVkJyk7XG59XG5cbmNvbnN0IGFkZFRhc2tUb0RPTSA9IChhZGRUYXNrQnRuKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyLWlucHV0JykpIHJldHVybjtcbiAgICBjb25zdCB0YXNrTGlzdEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUxpc3RFbGVtZW50KCd0YXNrJyk7XG4gICAgY29uc3QgdGFza1NwYW4gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLWl0ZW0nKTtcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbnB1dEZpZWxkKCdFbnRlciBUYXNrLi4uJyk7XG4gICAgXG4gICAgaW5wdXRGb3JtLmFwcGVuZChpbnB1dEZpZWxkKTtcbiAgICB0YXNrU3Bhbi5hcHBlbmQoaW5wdXRGb3JtKTtcblxuICAgIGNvbnN0IGljb25TcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgnaWNvbnMnKTtcbiAgICBjb25zdCBlZGl0SWNvbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvZWRpdC1pY29uLnN2ZycsICdlZGl0LWljb24nKTtcbiAgICBjb25zdCBkZWxldGVJY29uID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9kZWxldGUtaWNvbi5zdmcnLCAnZGVsZXRlLWljb24nKTtcblxuICAgIGVkaXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAodGFza0xpc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY29tcGxldGVkJykpIHJldHVybjtcbiAgICAgICAgY29uc3QgdGFza1RleHRTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2stdGV4dCcpO1xuICAgICAgICBjb25zdCB0YXNrTmFtZSA9IHRhc2tUZXh0U3Bhbi50ZXh0Q29udGVudDtcbiAgICAgICAgdGFza1RleHRTcGFuLnJlbW92ZSgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVGb3JtKCk7XG4gICAgICAgIGNvbnN0IGlucHV0RmllbGQgPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUlucHV0RmllbGQoJ0VudGVyIFRhc2suLi4nKTtcblxuICAgICAgICBpbnB1dEZpZWxkLnZhbHVlID0gdGFza05hbWU7XG4gICAgICAgIFxuICAgICAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuICAgICAgICB0YXNrU3Bhbi5pbnNlcnRCZWZvcmUoaW5wdXRGb3JtLCBpY29uU3Bhbik7XG4gICAgICAgIHRhc2tMaXN0RWxlbWVudC5wcmVwZW5kKHRhc2tTcGFuKTtcbiAgICAgICAgYWRkVGFzaygpO1xuICAgIH0pO1xuXG4gICAgZGVsZXRlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb2plY3QtaWRdJykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXRhc2staWRdJykuZGF0YXNldC50YXNrSWQ7XG5cbiAgICAgICAgdGFza0xpc3RFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLmRlbGV0ZVRhc2socHJvamVjdElkLCB0YXNrSWQpO1xuICAgIH0pO1xuXG4gICAgaWNvblNwYW4uYXBwZW5kKGVkaXRJY29uLCBkZWxldGVJY29uKTtcbiAgICB0YXNrU3Bhbi5hcHBlbmQoaWNvblNwYW4pO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBhZGREdWVEYXRlVG9ET00oKTtcbiAgICB0YXNrTGlzdEVsZW1lbnQuYXBwZW5kKHRhc2tTcGFuLCBkdWVEYXRlKTtcbiAgICBcbiAgICBjb25zdCBjb250YWluZXIgPSBhZGRUYXNrQnRuLmNsb3Nlc3QoJy50b2RvcycpO1xuICAgIGNvbnN0IG51bWJlck9mVGFza3MgPSBjb250YWluZXIuY2hpbGRFbGVtZW50Q291bnQgLSAyO1xuXG4gICAgY29udGFpbmVyLmluc2VydEJlZm9yZSh0YXNrTGlzdEVsZW1lbnQsIGNvbnRhaW5lci5jaGlsZHJlbltudW1iZXJPZlRhc2tzXSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaW5wdXRGaWVsZC5mb2N1cygpO1xuICAgIH0sIDApO1xuXG4gICAgcmV0dXJuIHRhc2tTcGFuO1xufVxuXG5jb25zdCBhZGREdWVEYXRlVG9ET00gPSAoKSA9PiB7XG4gICAgY29uc3QgZHVlRGF0ZVNwYW4gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZVNwYW5FbGVtZW50KCdkdWUtZGF0ZScpO1xuXG4gICAgY29uc3QgcHJpb3JpdHlJY29uID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9wcmlvcml0eS1pY29uLnN2ZycsICdwcmlvcml0eS1pY29uJylcbiAgICBwcmlvcml0eUljb24uY2xhc3NMaXN0LmFkZCgncHJpb3JpdHktbG93Jyk7XG4gICAgXG4gICAgY29uc3QgZGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBkYXRlTGFiZWwuY2xhc3NMaXN0LmFkZCgnZGF0ZS1sYWJlbCcpO1xuICAgIFxuICAgIGNvbnN0IGRhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJyk7XG4gICAgZGF0ZUlucHV0LnJlcXVpcmVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IGNhbGVuZGFySWNvbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvY2FsZW5kYXItaWNvbi5zdmcnLCAnY2FsZW5kYXItaWNvbicpO1xuXG4gICAgZGF0ZUxhYmVsLmFwcGVuZChkYXRlSW5wdXQsIGNhbGVuZGFySWNvbik7XG4gICAgZHVlRGF0ZVNwYW4uYXBwZW5kKHByaW9yaXR5SWNvbiwgZGF0ZUxhYmVsKTtcbiAgICBcbiAgICAvLyB1cGRhdGUgbG9jYWxTdG9yYWdlIG9uIGR1ZSBkYXRlIGNoYW5nZVxuICAgIGRhdGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGRhdGVJbnB1dC5jbG9zZXN0KFsnLnByb2plY3QnXSkuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGRhdGVJbnB1dC5jbG9zZXN0KCdbZGF0YS10YXNrLWlkJykuZGF0YXNldC50YXNrSWQ7XG4gICAgICAgIGNvbnN0IG5ld0R1ZURhdGUgPSBkYXRlSW5wdXQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza0R1ZURhdGVFZGl0KHByb2plY3RJZCwgdGFza0lkLCBuZXdEdWVEYXRlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBkdWVEYXRlU3Bhbjtcbn1cblxuXG5cbmNvbnN0IGFkZFRhc2sgPSAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gaW5wdXRGaWVsZC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIFxuICAgIGlucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb2plY3QtaWRdJykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBpbnB1dEZpZWxkLnZhbHVlO1xuICAgICAgICB2YWxpZGF0ZVVzZXJJbnB1dCgpO1xuICAgICAgICBpZiAodGFzaykgY3JlYXRlVGFzayh0YXNrLCBwcm9qZWN0SWQsIHRhc2tDb250YWluZXIpO1xuICAgIH0pO1xuICAgIFxuICAgIGlucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb2plY3QtaWRdJykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBpbnB1dEZpZWxkLnZhbHVlO1xuICAgICAgICB2YWxpZGF0ZVVzZXJJbnB1dCgpO1xuICAgICAgICBpZiAodGFzaykgY3JlYXRlVGFzayh0YXNrLCBwcm9qZWN0SWQsIHRhc2tDb250YWluZXIpO1xuICAgIH0pO1xufVxuXG5jb25zdCBjcmVhdGVUYXNrID0gKHRhc2ssIHByb2plY3RJZCwgdGFza0NvbnRhaW5lcikgPT4ge1xuICAgIGlmICh0YXNrQ29udGFpbmVyLmRhdGFzZXQudGFza0lkKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tOYW1lRWRpdChwcm9qZWN0SWQsIHRhc2tDb250YWluZXIuZGF0YXNldC50YXNrSWQsIHRhc2spO1xuICAgIH1cbiAgICBjb25zdCB0YXNrT2JqID0gaGFuZGxlcnMub25UYXNrQWRkKHRhc2ssIHByb2plY3RJZCk7XG4gICAgdGFza0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzay1pZCcsIHRhc2tPYmoudGFza0lkKTtcbn1cblxuY29uc3QgdmFsaWRhdGVVc2VySW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gaW5wdXRGaWVsZC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHRhc2tJdGVtID0gaW5wdXRGb3JtLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgdGFza0NvbnRhaW5lciA9IHRhc2tJdGVtLnBhcmVudEVsZW1lbnQ7XG5cbiAgICBjb25zdCB1c2VySW5wdXQgPSBpbnB1dEZpZWxkLnZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCB0YXNrVGV4dFNwYW4gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLXRleHQnKTtcbiAgICB0YXNrVGV4dFNwYW4uYXBwZW5kKHVzZXJJbnB1dCk7XG5cbiAgICAvLyBSZW1vdmVzIHRhc2sgY29udGFpbmVyIGlmIHRhc2sgaXNuJ3QgeWV0IGluIGxvY2FsU3RvcmFnZSAoaGFzIGEgdGFza0lkIGRhdGEgYXR0cmlidXRlKVxuICAgIGlmICh1c2VySW5wdXQgPT0gJycgJiYgIXRhc2tDb250YWluZXIuZGF0YXNldC50YXNrSWQpIHtcbiAgICAgICAgdGFza0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0gXG4gICAgZWxzZSBpZiAodXNlcklucHV0ID09ICcnICYmIHRhc2tDb250YWluZXIuZGF0YXNldC50YXNrSWQpIHJldHVybjtcbiAgICBpbnB1dEZvcm0ucmVtb3ZlKCk7XG4gICAgdGFza0l0ZW0ucHJlcGVuZCh0YXNrVGV4dFNwYW4pO1xufVxuXG5jb25zdCB1cGRhdGVQcmlvcml0eSA9IChldmVudFRhcmdldCkgPT4ge1xuICAgIGNvbnN0IHRhc2tJdGVtQ2xhc3NMaXN0ID0gZXZlbnRUYXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdDtcbiAgICBpZiAodGFza0l0ZW1DbGFzc0xpc3QuY29udGFpbnMoJ2NvbXBsZXRlZCcpKSByZXR1cm47XG4gICAgY29uc3QgcHJvamVjdElkID0gZXZlbnRUYXJnZXQuY2xvc2VzdChbJy5wcm9qZWN0J10pLmRhdGFzZXQucHJvamVjdElkO1xuICAgIGNvbnN0IHRhc2tJZCA9IGV2ZW50VGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXRhc2staWQnKS5kYXRhc2V0LnRhc2tJZDtcblxuICAgIGNvbnN0IHByaW9yaXR5Q2xhc3NMaXN0ID0gZXZlbnRUYXJnZXQuY2xhc3NMaXN0O1xuXG4gICAgaWYgKHByaW9yaXR5Q2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1sb3cnKSkge1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LWxvdycpO1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LW1lZGl1bScpO1xuICAgICAgICByZXR1cm4gaGFuZGxlcnMub25UYXNrUHJpb3JpdHlFZGl0KHByb2plY3RJZCwgdGFza0lkLCAnbWVkaXVtJyk7IFxuICAgIH1cbiAgICBpZiAocHJpb3JpdHlDbGFzc0xpc3QuY29udGFpbnMoJ3ByaW9yaXR5LW1lZGl1bScpKSB7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktbWVkaXVtJyk7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LmFkZCgncHJpb3JpdHktaGlnaCcpO1xuICAgICAgICByZXR1cm4gaGFuZGxlcnMub25UYXNrUHJpb3JpdHlFZGl0KHByb2plY3RJZCwgdGFza0lkLCAnaGlnaCcpO1xuICAgIH1cbiAgICBpZiAocHJpb3JpdHlDbGFzc0xpc3QuY29udGFpbnMoJ3ByaW9yaXR5LWhpZ2gnKSkge1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LWhpZ2gnKTtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1sb3cnKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza1ByaW9yaXR5RWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgJ2xvdycpO1xuICAgIH1cbn1cblxuZXhwb3J0IHtcbiAgICB0b2dnbGVUYXNrLFxuICAgIGFkZFRhc2tUb0RPTSxcbiAgICBhZGRUYXNrLFxuICAgIHVwZGF0ZVByaW9yaXR5LFxufSIsImltcG9ydCB7IGFkZFByb2plY3QsIGRlbGV0ZVByb2plY3QsIGVkaXRQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IHVwZGF0ZVByb2plY3RMaXN0IH0gZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcbmltcG9ydCB7IHRvZ2dsZVRhc2ssIGFkZFRhc2tUb0RPTSwgYWRkVGFzaywgdXBkYXRlUHJpb3JpdHkgfSBmcm9tIFwiLi90YXNrc1wiO1xuXG4vLyBMb2FkIGxvY2FsU3RvcmFnZSBpdGVtcyBvbiBwYWdlIGxvYWRcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgdXBkYXRlUHJvamVjdExpc3QocHJvamVjdHMpO1xufVxuXG4vLyBTaWRlYmFyIE1vZHVsZVxuY29uc3Qgc2lkZWJhckNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgbW9iaWxlVG9nZ2xlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhcnMtaWNvbi1tb2JpbGUnKTtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gMTAyNCAmJiBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyJyk7XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlU2lkZWJhciA9ICgpID0+IHtcbiAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKCd0b2dnbGUtc2lkZWJhcicpO1xuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gMTAyNCkgbW9iaWxlVG9nZ2xlQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFycy1pY29uJyk7XG4gICAgdG9nZ2xlQnRuLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2lkZWJhcik7XG4gICAgfSk7ICAgICAgICBcbn0pKCk7XG5cbmNvbnN0IHByb2plY3RDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBkZWxldGVQcm9qZWN0KCk7XG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wcm9qZWN0XScpO1xuICAgIGFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRQcm9qZWN0KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWRpdC1wcm9qZWN0JykpIHtcbiAgICAgICAgICAgIGVkaXRQcm9qZWN0KGUpO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5jb25zdCB0YXNrQ29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLWl0ZW0nKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgdG9nZ2xlVGFzayh0YXNrRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWRkLXRhc2snKSkge1xuICAgICAgICAgICAgYWRkVGFza1RvRE9NKGUudGFyZ2V0KTtcbiAgICAgICAgICAgIGFkZFRhc2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1pY29uJykpIHtcbiAgICAgICAgICAgIHVwZGF0ZVByaW9yaXR5KGUudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcbi8qXG51cGRhdGVTdG9yYWdlLnNhdmVQcm9qZWN0KHtcbiAgICBwcm9qZWN0TmFtZTogXCJQcm9qZWN0IDFcIixcbiAgICB0YXNrczogW1tcIkZpbmlzaCB0b2RvIGxpc3RcIiwgXCJsb3dcIiwgXCJkdWVEYXRlXCIsIGZhbHNlXSwgW1wiRG8gc29tZXRoaW5nXCIsIFwibWVkaXVtXCIsIFwiZHVlRGF0ZVwiLCB0cnVlXSwgW1wiRG8gc29tZXRoaW5nIGVsc2VcIiwgXCJoaWdoXCIsIFwiZHVlRGF0ZVwiLCBmYWxzZV1dLFxuICAgIGlkOiA4MTYwODlcbn0pO1xuKi9cbi8vc3RvcmFnZS5kZWxldGVQcm9qZWN0KDU4MTg0MCk7Il0sIm5hbWVzIjpbImdldFByb2plY3RzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNhdmVQcm9qZWN0IiwicHJvamVjdFRvU2F2ZSIsInByb2plY3RzIiwiZXhpc3RpbmciLCJmaW5kIiwicHJvamVjdCIsImlkIiwicHJvamVjdE5hbWUiLCJ0YXNrcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZ2V0VGFza3MiLCJwcm9qZWN0SWQiLCJkZWxldGVQcm9qZWN0IiwidXBkYXRlZFByb2plY3RMaXN0IiwiZmlsdGVyIiwiZGVsZXRlVGFzayIsInRhc2tJZCIsInByb2plY3RXaXRoVGFzayIsInVwZGF0ZWRUYXNrT2JqIiwidGFza09iaiIsImZpbmRUYXNrVG9VcGRhdGUiLCJleGlzdGluZ1Rhc2tJZCIsInRhc2siLCJ1cGRhdGVUYXNrIiwidXBkYXRlZFRhc2siLCJwcm9qZWN0VG9VcGRhdGUiLCJ0YXNrc0FycmF5IiwiaW5kZXhPZlVwZGF0ZWRUYXNrIiwiZmluZEluZGV4IiwiX3JlZnJlc2hQcm9qZWN0TGlzdCIsIl9zZXRQcm9qZWN0TGlzdCIsInVwZGF0ZVByb2plY3RMaXN0IiwiX3NldEFjdGl2ZVRhYiIsInRhYiIsInVwZGF0ZUFjdGl2ZVRhYiIsIm9uUHJvamVjdFNlbGVjdCIsInByb2plY3RPYmplY3QiLCJzZWxlY3RlZFByb2plY3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvblByb2plY3RBZGQiLCJuZXdQcm9qZWN0IiwibmV3UHJvamVjdERPTUVsZW1lbnQiLCJvblByb2plY3ROYW1lRWRpdCIsIm9uVGFza0FkZCIsIm5ld1Rhc2siLCJpdGVtIiwicHJpb3JpdHkiLCJkdWVEYXRlIiwiaXNDb21wbGV0ZSIsIm9uVGFza05hbWVFZGl0IiwibmV3VGFza05hbWUiLCJleGlzdGluZ1Rhc2siLCJvblRhc2tQcmlvcml0eUVkaXQiLCJuZXdQcmlvcml0eSIsIm9uVGFza0R1ZURhdGVFZGl0IiwibmV3RHVlRGF0ZSIsImNyZWF0ZUVsZW1lbnRzIiwiY3JlYXRlTGlzdEVsZW1lbnQiLCJodG1sQ2xhc3MiLCJsaSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVTcGFuRWxlbWVudCIsInNwYW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJjcmVhdGVJbWFnZUVsZW1lbnQiLCJzcmMiLCJpbWciLCJjcmVhdGVJbnB1dEZpZWxkIiwicGxhY2Vob2xkZXJUZXh0IiwidXNlcklucHV0IiwicmVxdWlyZWQiLCJjcmVhdGVGb3JtIiwiY3JlYXRlRGl2IiwiZGl2IiwiY3JlYXRlSWNvblNwYW4iLCJ2aWV3IiwiaWNvblNwYW4iLCJlZGl0SWNvbiIsImRlbGV0ZUljb24iLCJhcHBlbmQiLCJhZGRQcm9qZWN0VG9Ob3RlcGFkIiwicHJvamVjdExpc3QiLCJjdXJyZW50UHJvamVjdE51bWJlciIsImNoaWxkRWxlbWVudENvdW50IiwiY2hpbGRyZW4iLCJ0ZXh0Q29udGVudCIsIm5vdGVwYWQiLCJwcm9qZWN0RGl2Iiwic2tpcExpbmUiLCJwcm9qZWN0SGVhZGluZyIsImgyIiwiaDMiLCJ0YXNrc0NvbnRhaW5lciIsImFkZFRhc2tMaXN0RWxlbWVudCIsImFkZFRhc2tTcGFuIiwiYWRkSWNvbiIsIl9jcmVhdGVQcm9qZWN0SXRlbUhUTUwiLCJuYW1lIiwicHJvamVjdEl0ZW0iLCJwcm9qZWN0c0xpc3RDb250YWluZXIiLCJhZGRQcm9qZWN0QnRuIiwic2xpY2UiLCJjYWxsIiwiZm9yRWFjaCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiaHRtbCIsImluc2VydEJlZm9yZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF0YXNldCIsImN1cnJlbnRBY3RpdmVUYWIiLCJhd2FpdGluZ0lucHV0IiwiaGFuZGxlVXNlcklucHV0IiwicGFyZW50RWxlbWVudCIsInByb2plY3RTcGFuIiwidmFsdWUiLCJ0cmltIiwiY2hpbGROb2RlcyIsImFkZFByb2plY3QiLCJwcm9qZWN0c0NvbnRhaW5lciIsInByb2plY3RMaXN0RWxlbWVudCIsInByb2plY3RJbnB1dEZvcm0iLCJwcm9qZWN0TmFtZUlucHV0IiwibGFzdEVsZW1lbnRDaGlsZCIsInNldFRpbWVvdXQiLCJmb2N1cyIsImFkZFByb2plY3RUb1NpZGViYXIiLCJpbnB1dEZvcm0iLCJmaXJzdEVsZW1lbnRDaGlsZCIsImdldEF0dHJpYnV0ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZFRhc2siLCJpbnB1dEZpZWxkIiwidGFza0NvbnRhaW5lciIsInRhcmdldCIsImNsb3Nlc3QiLCJ2YWxpZGF0ZVVzZXJJbnB1dCIsImNyZWF0ZVRhc2siLCJ0YXNrSXRlbSIsInRhc2tUZXh0U3BhbiIsInByZXBlbmQiLCJ3aW5kb3ciLCJvbmxvYWQiLCJtb2JpbGVUb2dnbGVCdG4iLCJnZXRFbGVtZW50QnlJZCIsImlubmVyV2lkdGgiLCJ0b2dnbGUiLCJzaWRlYmFyIiwidG9nZ2xlU2lkZWJhciIsImJ1dHRvbiIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJlZGl0UHJvamVjdCIsImFkZFRhc2tCdG4iLCJ0YXNrTGlzdEVsZW1lbnQiLCJ0YXNrU3BhbiIsInRhc2tOYW1lIiwiZHVlRGF0ZVNwYW4iLCJwcmlvcml0eUljb24iLCJkYXRlTGFiZWwiLCJkYXRlSW5wdXQiLCJjYWxlbmRhckljb24iLCJhZGREdWVEYXRlVG9ET00iLCJjb250YWluZXIiLCJudW1iZXJPZlRhc2tzIiwiYWRkVGFza1RvRE9NIiwiZXZlbnRUYXJnZXQiLCJwcmlvcml0eUNsYXNzTGlzdCIsInVwZGF0ZVByaW9yaXR5Il0sInNvdXJjZVJvb3QiOiIifQ==