(()=>{"use strict";const e=()=>({createListElement:()=>{const e=document.createElement("li");return e.setAttribute("class","project-item"),e},createSpanElement:e=>{const t=document.createElement("span");return t.classList.add(e),t},createImageElement:(e,t)=>{const n=document.createElement("img");return n.classList.add(t),n.setAttribute("src",e),n.setAttribute("draggable","false"),n},createInputField:e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},createForm:()=>document.createElement("form")}),t=()=>null!=document.querySelector("#user-input"),n=()=>{const t=document.querySelector("#user-input"),n=t.parentElement,c=n.parentElement,r=e().createSpanElement("project-name");n.addEventListener("submit",(function(e){e.preventDefault();const n=t.value;if(n.match(/^[\s]/))return alert("Project name cannot start with a space");r.textContent=n,t.parentElement.remove(),c.insertBefore(r,c.childNodes[0])}))},c=()=>{t()||((()=>{const t=e(),n=document.querySelector(".project-list"),c=t.createListElement(),r=t.createForm(),s=t.createInputField("Project name...");r.append(s);const a=t.createSpanElement("icons"),i=t.createImageElement("images/edit-icon.svg","edit-icon"),o=t.createImageElement("images/delete-icon.svg","delete-icon");a.append(i,o),c.append(r,a),n.insertBefore(c,n.lastElementChild)})(),n())};(()=>{const e=document.getElementById("bars-icon-mobile");screen.width<=1024&&e.classList.contains("hidden")&&e.classList.toggle("hidden");const t=document.getElementById("sidebar"),n=()=>{t.classList.toggle("toggle-sidebar"),screen.width<=1024&&e.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",n)}))})(),document.addEventListener("click",(e=>{e.target.closest(".delete-icon")&&e.target.closest(".project-item").remove()})),document.querySelector("[data-add-project]").addEventListener("click",c),document.addEventListener("click",(c=>{"edit-icon"===c.target.className&&(c=>{if(t())return;const r=e().createForm(),s=e().createInputField("Project name..."),a=c.target.parentElement.previousElementSibling;s.value=a.textContent,a.remove(),r.append(s);const i=c.target.closest(".project-item");i.insertBefore(r,i.childNodes[0]),n()})(c)})),document.addEventListener("click",(e=>{if(e.target.classList.contains("task-item")){(e=>{e.classList.toggle("completed")})(e.target.parentElement)}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxJQUFpQmMsaUJBQWlCLG1CQUMvQ2UsRUFBY0YsRUFBRWlDLE9BQU9yQyxjQUFjeUMsdUJBRTNDRCxFQUFXakMsTUFBUUQsRUFBWUksWUFDL0JKLEVBQVlLLFNBQ1paLEVBQVVxQixPQUFPb0IsR0FFakIsTUFBTXZDLEVBQWNHLEVBQUVpQyxPQUFPQyxRQUFRLGlCQUNyQ3JDLEVBQVlXLGFBQWFiLEVBQVdFLEVBQVlZLFdBQVcsSUFFM0RmLEtDekZRNEMsQ0FBWXRDLE1BTXBCeEIsU0FBU3VCLGlCQUFpQixTQUFVQyxJQUNoQyxHQUFJQSxFQUFFaUMsT0FBT25ELFVBQVU0QyxTQUFTLGFBQWMsQ0N0Q25DLENBQUNhLElBQ2hCQSxFQUFZekQsVUFBVTZDLE9BQU8sY0R1Q3JCLENBRG9CM0IsRUFBRWlDLE9BQU9yQyxvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2tzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gRE9NIEVsZW1lbnRzIEZhY3RvcnkgRnVuY3Rpb25cbmNvbnN0IGNyZWF0ZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUxpc3RFbGVtZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncHJvamVjdC1pdGVtJyk7XG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVTcGFuRWxlbWVudCA9IChodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKGh0bWxDbGFzcyk7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZUltYWdlRWxlbWVudCA9IChzcmMsIGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoaHRtbENsYXNzKTtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgIHJldHVybiBpbWc7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUZvcm0gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgcmV0dXJuIGlucHV0Rm9ybTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVJbnB1dEZpZWxkID0gKHBsYWNlaG9sZGVyVGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBwbGFjZWhvbGRlclRleHQpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsICd1c2VyLWlucHV0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHVzZXJJbnB1dDtcbiAgICB9XG5cbiAgICByZXR1cm4ge2NyZWF0ZUxpc3RFbGVtZW50LCBjcmVhdGVTcGFuRWxlbWVudCwgY3JlYXRlSW1hZ2VFbGVtZW50LCBjcmVhdGVJbnB1dEZpZWxkLCBjcmVhdGVGb3JtfVxufVxuXG5jb25zdCBjcmVhdGVQcm9qZWN0RE9NID0gKCkgPT4ge1xuICAgIGNvbnN0IGNyZWF0ZVByb2plY3QgPSBjcmVhdGVFbGVtZW50cygpO1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuXG4gICAgY29uc3QgcHJvamVjdExpc3RFbGVtZW50ID0gIGNyZWF0ZVByb2plY3QuY3JlYXRlTGlzdEVsZW1lbnQoKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SW5wdXRGb3JtID0gY3JlYXRlUHJvamVjdC5jcmVhdGVGb3JtKCk7XG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IGNyZWF0ZVByb2plY3QuY3JlYXRlSW5wdXRGaWVsZCgnUHJvamVjdCBuYW1lLi4uJyk7XG4gICAgcHJvamVjdElucHV0Rm9ybS5hcHBlbmQocHJvamVjdE5hbWVJbnB1dCk7XG5cbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gKG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdCA9IGNyZWF0ZVByb2plY3QuY3JlYXRlU3BhbkVsZW1lbnQoJ3Byb2plY3QtbmFtZScpO1xuICAgICAgICBuZXdQcm9qZWN0LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIG5ld1Byb2plY3Q7XG4gICAgfVxuXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVQcm9qZWN0LmNyZWF0ZVNwYW5FbGVtZW50KCdpY29ucycpO1xuICAgIGNvbnN0IGVkaXRJY29uID0gY3JlYXRlUHJvamVjdC5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9lZGl0LWljb24uc3ZnJywgJ2VkaXQtaWNvbicpO1xuICAgIGNvbnN0IGRlbGV0ZUljb24gPSBjcmVhdGVQcm9qZWN0LmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2RlbGV0ZS1pY29uLnN2ZycsICdkZWxldGUtaWNvbicpO1xuICAgIFxuICAgIGljb25TcGFuLmFwcGVuZChlZGl0SWNvbiwgZGVsZXRlSWNvbik7XG4gICAgcHJvamVjdExpc3RFbGVtZW50LmFwcGVuZChwcm9qZWN0SW5wdXRGb3JtLCBpY29uU3Bhbik7XG4gICAgcHJvamVjdHNDb250YWluZXIuaW5zZXJ0QmVmb3JlKHByb2plY3RMaXN0RWxlbWVudCwgcHJvamVjdHNDb250YWluZXIubGFzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICByZXR1cm4ge25ld1Byb2plY3QsIHByb2plY3ROYW1lSW5wdXQsIHByb2plY3RJbnB1dEZvcm0sIGljb25TcGFuLCBwcm9qZWN0TGlzdEVsZW1lbnR9XG59XG5cbmNvbnN0IGF3YWl0aW5nSW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKTtcbiAgICBpZiAodXNlcklucHV0ICE9IG51bGwpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBoYW5kbGVVc2VySW5wdXQgPSAoKSA9PiB7IFxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0JylcbiAgICBjb25zdCBpbnB1dEZvcm0gPSB1c2VySW5wdXQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGlucHV0Rm9ybS5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgncHJvamVjdC1uYW1lJyk7XG5cbiAgICBpbnB1dEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHVzZXJJbnB1dC52YWx1ZTtcbiAgICAgICAgaWYgKHByb2plY3ROYW1lLm1hdGNoKC9eW1xcc10vKSkgcmV0dXJuIGFsZXJ0KCdQcm9qZWN0IG5hbWUgY2Fubm90IHN0YXJ0IHdpdGggYSBzcGFjZScpO1xuICAgICAgICBwcm9qZWN0U3Bhbi50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgICAgICB1c2VySW5wdXQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgcHJvamVjdEl0ZW0uaW5zZXJ0QmVmb3JlKHByb2plY3RTcGFuLCBwcm9qZWN0SXRlbS5jaGlsZE5vZGVzWzBdKTsgXG4gICAgfSk7XG59XG5cbmNvbnN0IGFkZFByb2plY3QgPSAoKSA9PiB7XG4gICAgaWYgKGF3YWl0aW5nSW5wdXQoKSkgcmV0dXJuO1xuICAgIGNyZWF0ZVByb2plY3RET00oKTtcbiAgICBoYW5kbGVVc2VySW5wdXQoKTtcbn1cblxuY29uc3QgZGVsZXRlUHJvamVjdCA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIC8vIFRPRE86IEFkZCBkZWxldGUtcHJvamVjdCBjbGFzcyB0byBkZWxldGUgYnRuIHRvIGF2b2lkIGVycm9ycyB3aGVuIHVzZXIgY2xpY2tzIGRlbGV0ZSB0YXNrIGJ0blxuICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLmRlbGV0ZS1pY29uJykpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoJy5wcm9qZWN0LWl0ZW0nKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIFxuY29uc3QgZWRpdFByb2plY3QgPSAoZSkgPT4ge1xuICAgIGlmIChhd2FpdGluZ0lucHV0KCkpIHJldHVybjtcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgIGlucHV0RmllbGQudmFsdWUgPSBwcm9qZWN0TmFtZS50ZXh0Q29udGVudDtcbiAgICBwcm9qZWN0TmFtZS5yZW1vdmUoKTtcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuXG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1pdGVtJyk7XG4gICAgcHJvamVjdEl0ZW0uaW5zZXJ0QmVmb3JlKGlucHV0Rm9ybSwgcHJvamVjdEl0ZW0uY2hpbGROb2Rlc1swXSk7XG5cbiAgICBoYW5kbGVVc2VySW5wdXQoKTtcbn1cblxuZXhwb3J0IHsgXG4gICAgYWRkUHJvamVjdCxcbiAgICBkZWxldGVQcm9qZWN0LFxuICAgIGVkaXRQcm9qZWN0XG59IiwiaW1wb3J0IHthZGRQcm9qZWN0LCBkZWxldGVQcm9qZWN0LCBlZGl0UHJvamVjdH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB0b2dnbGVUYXNrIGZyb20gXCIuL3Rhc2tzXCI7XG5cbi8vIFNpZGViYXIgTW9kdWxlXG5jb25zdCBzaWRlYmFyQ29udHJvbGxlciA9ICgoKSA9PiB7XG5cbiAgICBjb25zdCBtb2JpbGVUb2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFycy1pY29uLW1vYmlsZScpO1xuICAgIGlmIChzY3JlZW4ud2lkdGggPD0gMTAyNCAmJiBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyJyk7XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlU2lkZWJhciA9ICgpID0+IHtcbiAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKCd0b2dnbGUtc2lkZWJhcicpO1xuICAgICAgICBpZiAoc2NyZWVuLndpZHRoIDw9IDEwMjQpIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhcnMtaWNvbicpO1xuICAgIHRvZ2dsZUJ0bi5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVNpZGViYXIpO1xuICAgIH0pOyAgICAgICAgXG59KSgpO1xuXG5jb25zdCBwcm9qZWN0Q29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgZGVsZXRlUHJvamVjdCgpO1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcHJvamVjdF0nKTtcbiAgICBhZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUHJvamVjdCk7XG4gICAgXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09PSAnZWRpdC1pY29uJykge1xuICAgICAgICAgICAgZWRpdFByb2plY3QoZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG5cbmNvbnN0IHRhc2tDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Rhc2staXRlbScpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICB0b2dnbGVUYXNrKHRhc2tFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTsiLCJjb25zdCB0b2dnbGVUYXNrID0gKHRhc2tFbGVtZW50KSA9PiB7XG4gICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnY29tcGxldGVkJyk7XG59XG5cbmNvbnN0IGFkZFRhc2tUb0RPTSA9ICgpID0+IHtcbiAgICAvLyBjcmVhdGUgc3BhbiB3aXRoIGNsYXNzICd0YXNrLWl0ZW0nXG4gICAgLy8gc3BhbiBzaG91bGQgZ2V0IHVzZXIgaW5wdXQgYW5kIHNhdmUgaXQgYXMgc3Bhbi50ZXh0Q29udGVudFxuICAgIC8vIGNyZWF0ZSBzcGFuIHdpdGggY2xhc3MgJ2ljb25zJ1xuICAgIC8vIGFkZCBlZGl0IGFuZCBkZWxldGUgaWNvbnNcbiAgICBcbn1cblxuY29uc3QgYWRkRHVlRGF0ZVRvRE9NID0gKCkgPT4ge1xuICAgIC8vIGNyZWF0ZSBzcGFuIHdpdGggY2xhc3MgJ2R1ZS1kYXRlJ1xuICAgIC8vIGNyZWF0ZSBwcmlvcml0eSBpY29uIHdpdGggY2xhc3MgJ3ByaW9yaXR5LWljb24gcHJpb3JpdHktbG93J1xuICAgIC8vIGNyZWF0ZSBzcGFuIHdpdGggY2xhc3MgJ2RhdGUnIGFuZCBzZXQgdGV4dENvbnRlbnQgdG8gZGVmYXVsdCBkYXRlIChjdXJyZW50IGRhdGUpXG4gICAgLy8gY3JlYXRlIGNhbGVuZGFyIGljb24gd2l0aCBjbGFzcyAnY2FsZW5kYXItaWNvbidcbn1cblxuY29uc3QgYWRkVGFzayA9ICgpID0+IHtcbiAgICAvLyBjcmVhdGUgbGkgd2l0aCBjbGFzcyAndGFzaycgYW5kIGFwcGVuZCBldmVyeXRoaW5nIHRvIGl0XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9nZ2xlVGFzazsiXSwibmFtZXMiOlsiY3JlYXRlRWxlbWVudHMiLCJjcmVhdGVMaXN0RWxlbWVudCIsImxpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY3JlYXRlU3BhbkVsZW1lbnQiLCJodG1sQ2xhc3MiLCJzcGFuIiwiY2xhc3NMaXN0IiwiYWRkIiwiY3JlYXRlSW1hZ2VFbGVtZW50Iiwic3JjIiwiaW1nIiwiY3JlYXRlSW5wdXRGaWVsZCIsInBsYWNlaG9sZGVyVGV4dCIsInVzZXJJbnB1dCIsInJlcXVpcmVkIiwiY3JlYXRlRm9ybSIsImF3YWl0aW5nSW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwiaGFuZGxlVXNlcklucHV0IiwiaW5wdXRGb3JtIiwicGFyZW50RWxlbWVudCIsInByb2plY3RJdGVtIiwicHJvamVjdFNwYW4iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvamVjdE5hbWUiLCJ2YWx1ZSIsIm1hdGNoIiwiYWxlcnQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsImluc2VydEJlZm9yZSIsImNoaWxkTm9kZXMiLCJhZGRQcm9qZWN0IiwiY3JlYXRlUHJvamVjdCIsInByb2plY3RzQ29udGFpbmVyIiwicHJvamVjdExpc3RFbGVtZW50IiwicHJvamVjdElucHV0Rm9ybSIsInByb2plY3ROYW1lSW5wdXQiLCJhcHBlbmQiLCJpY29uU3BhbiIsImVkaXRJY29uIiwiZGVsZXRlSWNvbiIsImxhc3RFbGVtZW50Q2hpbGQiLCJjcmVhdGVQcm9qZWN0RE9NIiwibW9iaWxlVG9nZ2xlQnRuIiwiZ2V0RWxlbWVudEJ5SWQiLCJzY3JlZW4iLCJ3aWR0aCIsImNvbnRhaW5zIiwidG9nZ2xlIiwic2lkZWJhciIsInRvZ2dsZVNpZGViYXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImJ1dHRvbiIsInRhcmdldCIsImNsb3Nlc3QiLCJjbGFzc05hbWUiLCJpbnB1dEZpZWxkIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImVkaXRQcm9qZWN0IiwidGFza0VsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9