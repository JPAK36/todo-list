(()=>{"use strict";const e=(()=>{const e=()=>JSON.parse(localStorage.getItem("projects")||"[]"),t=t=>{const a=e(),n=a.find((e=>e.id==t.id));n?(n.projectName=t.projectName,n.tasks=t.tasks):(t.id=Math.floor(1e6*Math.random()),a.push(t)),localStorage.setItem("projects",JSON.stringify(a))};return{getProjects:e,getTasks:t=>e().find((e=>e.id==t)).tasks,saveProject:t,deleteProject:t=>{const a=e().filter((e=>e.id!=t));localStorage.setItem("projects",JSON.stringify(a))},deleteTask:(a,n)=>{const o=e().find((e=>e.id==a)),r=o.tasks.filter((e=>e.taskId!=n));o.tasks=r,t(o)},findTaskToUpdate:(t,a)=>e().find((e=>e.id==t)).tasks.find((e=>e.taskId==a)),updateTask:(t,a)=>{const n=e(),o=n.find((e=>e.id==t)),r=o.tasks,s=r.findIndex((e=>e.taskId==a.taskId));r[s]=a,o.tasks=r,localStorage.setItem("projects",JSON.stringify(n))}}})(),t=(()=>{const t=()=>{const t=e.getProjects();a(t)},a=e=>{c(e)},n=e=>{d(e)},r=()=>{document.querySelector("#writing-area").querySelectorAll(".project").forEach((e=>e.remove()))};return{onProjectSelect:t=>{const a=e.getProjects().find((e=>e.id==t)),o=document.querySelector(`[data-project-id='${a.id}']`);n(o)},onProjectAdd:a=>{const o={projectName:a,tasks:[]};e.saveProject(o),t();const r=document.querySelector(`[data-project-id='${o.id}']`);n(r)},onProjectNameEdit:(a,n,o=e.getTasks(a))=>{e.saveProject({id:a,projectName:n,tasks:o}),t()},onTaskAdd:(t,a)=>{const n={item:t,taskId:Math.floor(1e6*Math.random()),priority:"low",dueDate:null,isComplete:!1},o=e.getProjects().find((e=>e.id==a));return o.tasks.push(n),e.saveProject(o),n},onTaskNameEdit:(t,a,n)=>{const o=e.findTaskToUpdate(t,a);e.updateTask(t,{item:n,taskId:o.taskId,priority:o.priority,dueDate:o.dueDate,isComplete:o.isComplete})},onTaskPriorityEdit:(t,a,n)=>{const o=e.findTaskToUpdate(t,a);e.updateTask(t,{item:o.item,taskId:o.taskId,priority:n,dueDate:o.dueDate,isComplete:o.isComplete})},onTaskDueDateEdit:(t,a,n)=>{const o=e.findTaskToUpdate(t,a);e.updateTask(t,{item:o.item,taskId:o.taskId,priority:o.priority,dueDate:n,isComplete:o.isComplete})},onTaskCompleteEdit:(t,a,n)=>{const o=e.findTaskToUpdate(t,a);e.updateTask(t,{item:o.item,taskId:o.taskId,priority:o.priority,dueDate:o.dueDate,isComplete:n})},onHomeTabSelect:(e,t)=>{(e=>{r();const t=document.querySelector(".notepad");e.forEach((e=>{o(e.id);const a=e.tasks,n=t.querySelector(`[data-project-id="${e.id}"]`),r=n.querySelector("ul"),s=n.querySelector(".add-task");a.forEach((e=>{const t=i(e);r.insertBefore(t,s.parentElement)}))}))})(e),d(t)}}})(),a=()=>({createListElement:e=>{const t=document.createElement("li");return t.setAttribute("class",e),t},createSpanElement:e=>{const t=document.createElement("span");return t.classList.add(e),t},createImageElement:(e,t)=>{const a=document.createElement("img");return a.classList.add(t),a.setAttribute("src",e),a.setAttribute("draggable","false"),a},createInputField:e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},createForm:()=>document.createElement("form"),createDiv:e=>{const t=document.createElement("div");return t.setAttribute("class",e),t}}),n=()=>{const e=a(),t=e.createSpanElement("icons"),n=e.createImageElement("images/edit-icon.svg","edit-icon"),o=e.createImageElement("images/delete-icon.svg","delete-icon");return n.classList.add("edit-project"),o.classList.add("delete-project"),t.append(n,o),t},o=t=>{const n=a(),o=e.getProjects().find((e=>e.id==t)).projectName,r=document.querySelector("#writing-area"),s=n.createDiv("project");s.setAttribute("data-project-id",t);const c=n.createDiv("skip-line"),i=n.createDiv("project-heading"),d=document.createElement("h2");d.setAttribute("class","notepad-text"),d.textContent=o;const l=document.createElement("h3");l.setAttribute("class","notepad-text"),l.textContent="Due Date";const m=document.createElement("ul");m.classList.add("notepad-text","todos");const p=n.createListElement("task"),u=n.createSpanElement("add-task"),E=n.createImageElement("images/add-icon.svg","add-icon");u.append(E,"Add Task"),p.append(u),m.append(p,c),i.append(d,l),s.append(i,m),r.append(s)},r=()=>{const e=a().createSpanElement("due-date"),n=a().createImageElement("images/priority-icon.svg","priority-icon");n.classList.add("priority-low");const o=document.createElement("label");o.classList.add("date-label");const r=document.createElement("input");r.setAttribute("type","date"),r.required=!0;const s=a().createImageElement("images/calendar-icon.svg","calendar-icon");return o.append(r,s),e.append(n,o),r.addEventListener("change",(()=>{const e=r.closest(".project").dataset.projectId,a=r.closest("[data-task-id]").dataset.taskId,n=r.value;return t.onTaskDueDateEdit(e,a,n)})),e},s=(e,t)=>{const o=a(),r=o.createListElement("project-item");r.setAttribute("data-project-id",e);const s=o.createSpanElement("project-name");s.textContent=t;const c=n();return r.append(s,c),r},c=e=>{const a=document.querySelector(".project-list"),n=document.querySelector("[data-add-project]");[].slice.call(a.children).forEach((e=>{e.classList.contains("project-item")&&e.remove()}));for(const t of e){const e=s(t.id,t.projectName);a.insertBefore(e,n)}a.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",(()=>{t.onProjectSelect(e.dataset.projectId)}))}))},i=e=>{const t=a(),o=t.createListElement("task");o.setAttribute("data-task-id",e.taskId);const s=t.createSpanElement("task-item"),c=t.createSpanElement("task-text");c.textContent=e.item;const i=n();s.append(c,i);const d=r();return d.querySelector(".priority-icon").classList.add(`priority-${e.priority}`),d.querySelector("input").value=e.dueDate,e.isComplete&&o.classList.add("completed"),o.append(s,d),o},d=e=>{const t=document.querySelector(".active");t&&t.classList.remove("active"),e.classList.add("active"),e.children.item(0)},l=()=>null!=document.querySelector("#user-input"),m=()=>{const e=document.querySelector("#user-input"),t=e.parentElement.parentElement,n=a().createSpanElement("project-name"),o=e.value.trim();o&&(n.textContent=o,e.parentElement.remove(),t.insertBefore(n,t.childNodes[0]))},p=()=>{if(l())return;(()=>{const e=a(),t=document.querySelector(".project-list"),o=e.createListElement("project-item"),r=e.createForm(),s=e.createInputField("Project name...");r.append(s);const c=n();o.append(r,c),t.insertBefore(o,t.lastElementChild),setTimeout((()=>{s.focus()}),0)})();const e=document.querySelector("#user-input"),r=e.parentElement,s=r.parentElement;e.addEventListener("blur",(function(){if(""==e.value.trim())return void s.remove();m();const a=s.firstElementChild.textContent;t.onProjectAdd(a);const n=document.querySelector(".project-list"),r=n.children[n.childElementCount-2].getAttribute("data-project-id");l()||o(r)})),r.addEventListener("submit",(function(e){e.preventDefault(),m();const a=s.firstElementChild.textContent;t.onProjectAdd(a);const n=document.querySelector(".project-list"),r=n.children[n.childElementCount-2].getAttribute("data-project-id");l()||o(r)}))},u=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,a=t.parentElement.parentElement;e.addEventListener("blur",(function(){const t=a.closest("[data-project-id]").dataset.projectId,n=e.value;k(),n&&E(n,t,a)})),t.addEventListener("submit",(function(t){t.preventDefault();const n=a.closest("[data-project-id]").dataset.projectId,o=e.value;k(),o&&E(o,n,a)}))},E=(e,a,n)=>{if(n.dataset.taskId)return t.onTaskNameEdit(a,n.dataset.taskId,e);const o=t.onTaskAdd(e,a);n.setAttribute("data-task-id",o.taskId)},k=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,n=t.parentElement,o=n.parentElement,r=e.value.trim(),s=a().createSpanElement("task-text");s.append(r),""!=r||o.dataset.taskId?""==r&&o.dataset.taskId||(t.remove(),n.prepend(s)):o.remove()};window.onload=()=>{const a=e.getProjects(),n=document.querySelector('[data-tab="home"]');c(a),t.onHomeTabSelect(a,n)},(()=>{const a=document.getElementById("bars-icon-mobile");window.innerWidth<=1024&&a.classList.contains("hidden")&&a.classList.toggle("hidden");const n=document.getElementById("sidebar"),o=()=>{n.classList.toggle("toggle-sidebar"),window.innerWidth<=1024&&a.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",o)}));const r=n.querySelector('[data-tab="home"]');r.addEventListener("click",(()=>{const a=e.getProjects();t.onHomeTabSelect(a,r)}))})(),document.querySelector(".project-list").addEventListener("click",(t=>{if(t.target.closest(".delete-project")){if(!confirm("Are you sure you want to delete this project and all its tasks? This action cannot be undone."))return;const a=t.target.closest("[data-project-id]").dataset.projectId;document.querySelectorAll(`[data-project-id="${a}"]`).forEach((e=>e.remove())),e.deleteProject(a)}})),document.querySelector("[data-add-project]").addEventListener("click",p),document.querySelector(".project-list").addEventListener("click",(e=>{e.target.classList.contains("edit-project")&&(e=>{if(l())return;const n=a().createForm(),o=a().createInputField("Project name..."),r=e.target.parentElement.previousElementSibling;o.value=r.textContent,r.remove(),n.append(o);const s=e.target.closest(".project-item");s.insertBefore(n,s.childNodes[0]);const c=document.querySelector("#user-input");c.focus();const i=s.dataset.projectId;c.addEventListener("blur",(function(){""!=c.value&&m();const e=s.firstElementChild.textContent;d(i,e),t.onProjectNameEdit(i,e)})),n.addEventListener("submit",(function(e){e.preventDefault(),m();const a=s.firstElementChild.textContent;d(i,a),t.onProjectNameEdit(i,a)}));const d=(e,t)=>{const a=document.querySelector(".notepad").querySelector(`[data-project-id="${e}"]`);a&&(a.childNodes[0].childNodes[0].textContent=t)}})(e)})),document.querySelector(".notepad").addEventListener("click",(n=>{var o,s;n.target.classList.contains("task-text")?(e=>{e.classList.toggle("completed");let a=!1;e.classList.contains("completed")&&(a=!0);const n=e.closest(".project").dataset.projectId,o=e.dataset.taskId;t.onTaskCompleteEdit(n,o,a)})(n.target.closest(".task")):n.target.classList.contains("add-task")?((e=>{if(document.getElementById("user-input"))return;const t=a().createListElement("task"),n=a().createSpanElement("task-item"),o=a().createForm(),s=a().createInputField("Enter Task...");o.append(s),n.append(o);const c=a().createSpanElement("icons"),i=a().createImageElement("images/edit-icon.svg","edit-icon"),d=a().createImageElement("images/delete-icon.svg","delete-icon");c.append(i,d),n.append(c);const l=r();t.append(n,l);const m=e.closest(".todos"),p=m.childElementCount-2;m.insertBefore(t,m.children[p]),setTimeout((()=>{s.focus()}),0)})(n.target),u()):n.target.classList.contains("priority-icon")?(e=>{if(e.parentElement.parentElement.classList.contains("completed"))return;const a=e.closest(".project").dataset.projectId,n=e.closest("[data-task-id]").dataset.taskId,o=e.classList;o.contains("priority-low")?(o.remove("priority-low"),o.add("priority-medium"),t.onTaskPriorityEdit(a,n,"medium")):o.contains("priority-medium")?(o.remove("priority-medium"),o.add("priority-high"),t.onTaskPriorityEdit(a,n,"high")):o.contains("priority-high")&&(o.remove("priority-high"),o.add("priority-low"),t.onTaskPriorityEdit(a,n,"low"))})(n.target):n.target.classList.contains("edit-icon")?(e=>{if(e.classList.contains("completed"))return;const t=e.querySelector(".task-text"),n=t.textContent;t.remove();const o=a().createForm(),r=a().createInputField("Enter Task...");r.value=n,o.append(r);const s=e.querySelector(".task-item"),c=e.querySelector(".icons");s.insertBefore(o,c),e.prepend(s),r.focus(),u()})(n.target.closest(".task")):n.target.classList.contains("delete-icon")&&(o=n.target.closest("[data-project-id]").dataset.projectId,s=n.target.closest("[data-task-id]").dataset.taskId,document.querySelector(`[data-task-id="${s}"]`).remove(),e.deleteTask(o,s))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aXN0Ly4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2hhbmRsZXJzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jcmVhdGVET01FbGVtZW50cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2tzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB1cGRhdGVTdG9yYWdlID0gKCkgPT4ge1xuICAgIFxuICAgIGNvbnN0IGdldFByb2plY3RzID0gKCkgPT4ge1xuICAgICAgICAvLyBjcmVhdGVzIGFuIGFycmF5IG9mIG9iamVjdHMgXG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdHMnKSB8fCAnW10nKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RzO1xuICAgIH1cblxuICAgIGNvbnN0IGdldFRhc2tzID0gKHByb2plY3RJZCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdElkKTtcbiAgICAgICAgY29uc3QgdGFza3MgPSBjdXJyZW50UHJvamVjdC50YXNrcztcbiAgICAgICAgcmV0dXJuIHRhc2tzO1xuICAgIH1cblxuICAgIGNvbnN0IHNhdmVQcm9qZWN0ID0gKHByb2plY3RUb1NhdmUpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuXG4gICAgICAgIC8vIGZpbmQgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IG9iamVjdCB0aGF0IG1hdGNoZXMgdGhlIGlkXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdFRvU2F2ZS5pZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nLnByb2plY3ROYW1lID0gcHJvamVjdFRvU2F2ZS5wcm9qZWN0TmFtZTtcbiAgICAgICAgICAgIGV4aXN0aW5nLnRhc2tzID0gcHJvamVjdFRvU2F2ZS50YXNrcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3RUb1NhdmUuaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKTtcbiAgICAgICAgICAgIC8vIEFkZCBwcm9qZWN0TmFtZVxuICAgICAgICAgICAgLy8gQWRkIFRhc2tzIGFycmF5IGNvbnRhaW5pbmcgYW5vdGhlciBhcnJheSB3aGljaCBpbmNsdWRlcyB0YXNrLCBwcmlvcml0eSwgZHVlRGF0ZSwgYW5kIHRydWUvZmFsc2UgZm9yIGNvbXBsZXRlZCBvciBub3RcbiAgICAgICAgICAgIHByb2plY3RzLnB1c2gocHJvamVjdFRvU2F2ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZVRhc2sgPSAocHJvamVjdElkLCB1cGRhdGVkVGFzaykgPT4ge1xuICAgICAgICAvLyB0YXNrcyBmb3IgY3VycmVudCBwcm9qZWN0XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdFRvVXBkYXRlID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdElkKTtcbiAgICAgICAgY29uc3QgdGFza3NBcnJheSA9IHByb2plY3RUb1VwZGF0ZS50YXNrcztcbiAgICAgICAgXG4gICAgICAgIC8vIGZpbmQgdGFzayBpbmRleCBhbmQgcmVwbGFjZSB0aGUgdGFzayBhdCB0aGF0IGluZGV4IHRvIHVwZGF0ZVxuICAgICAgICBjb25zdCBpbmRleE9mVXBkYXRlZFRhc2sgPSB0YXNrc0FycmF5LmZpbmRJbmRleCgodGFza09iaikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tPYmoudGFza0lkID09IHVwZGF0ZWRUYXNrLnRhc2tJZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGFza3NBcnJheVtpbmRleE9mVXBkYXRlZFRhc2tdID0gdXBkYXRlZFRhc2s7XG4gICAgICAgIC8vIFNhdmUgdXBkYXRlZCB0YXNrcyBhcnJheSB0byB0aGUgcHJvamVjdCBvYmplY3RcbiAgICAgICAgcHJvamVjdFRvVXBkYXRlLnRhc2tzID0gdGFza3NBcnJheTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpKTtcbiAgICB9XG5cbiAgICBjb25zdCBmaW5kVGFza1RvVXBkYXRlID0gKHByb2plY3RJZCwgZXhpc3RpbmdUYXNrSWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpOyAgICAgXG4gICAgICAgIGNvbnN0IHByb2plY3RUb1VwZGF0ZSA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IHByb2plY3RJZCk7XG4gICAgICAgIGNvbnN0IHRhc2tzQXJyYXkgPSBwcm9qZWN0VG9VcGRhdGUudGFza3NcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gdGFza3NBcnJheS5maW5kKHRhc2sgPT4gdGFzay50YXNrSWQgPT0gZXhpc3RpbmdUYXNrSWQpO1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdUYXNrO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZVByb2plY3QgPSAoaWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCB1cGRhdGVkUHJvamVjdExpc3QgPSBwcm9qZWN0cy5maWx0ZXIocHJvamVjdCA9PiBwcm9qZWN0LmlkICE9IGlkKTtcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkUHJvamVjdExpc3QpKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVUYXNrID0gKGlkLCB0YXNrSWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCBwcm9qZWN0V2l0aFRhc2sgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBpZCk7XG4gICAgICAgIGNvbnN0IGFsbFRhc2tzID0gcHJvamVjdFdpdGhUYXNrLnRhc2tzO1xuICAgICAgICAvLyBFYWNoIHRhc2sgaXMgYW4gb2JqZWN0XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRUYXNrT2JqID0gYWxsVGFza3MuZmlsdGVyKHRhc2tPYmogPT4gdGFza09iai50YXNrSWQgIT0gdGFza0lkKTtcbiAgICAgICAgcHJvamVjdFdpdGhUYXNrLnRhc2tzID0gdXBkYXRlZFRhc2tPYmo7XG5cbiAgICAgICAgc2F2ZVByb2plY3QocHJvamVjdFdpdGhUYXNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBnZXRQcm9qZWN0cywgZ2V0VGFza3MsIHNhdmVQcm9qZWN0LCBkZWxldGVQcm9qZWN0LCBkZWxldGVUYXNrLCBmaW5kVGFza1RvVXBkYXRlLCB1cGRhdGVUYXNrIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXBkYXRlU3RvcmFnZSgpOyIsImltcG9ydCB7IHVwZGF0ZVByb2plY3RMaXN0LCB1cGRhdGVBY3RpdmVUYWIsIGFkZFByb2plY3RUb05vdGVwYWQsIGxvYWRUYXNrIH0gZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7Zm9ybWF0fSBmcm9tIFwiZGF0ZS1mbnNcIjtcblxuY29uc3QgaGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgXG4gICAgY29uc3QgX3JlZnJlc2hQcm9qZWN0TGlzdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7IC8vIFVwZGF0ZSBwcm9qZWN0cyBpbiBzdG9yYWdlICAgICAgICBcbiAgICAgICAgX3NldFByb2plY3RMaXN0KHByb2plY3RzKTsgLy8gVXBkYXRlIHByb2plY3RzIG9uIERPTVxuICAgIH1cblxuICAgIGNvbnN0IF9zZXRQcm9qZWN0TGlzdCA9IChwcm9qZWN0cykgPT4ge1xuICAgICAgICB1cGRhdGVQcm9qZWN0TGlzdChwcm9qZWN0cyk7XG4gICAgfVxuXG4gICAgY29uc3QgX3NldEFjdGl2ZVRhYiA9ICh0YWIpID0+IHtcbiAgICAgICAgdXBkYXRlQWN0aXZlVGFiKHRhYik7XG4gICAgfVxuXG4gICAgY29uc3Qgb25Ib21lVGFiU2VsZWN0ID0gKHByb2plY3RzLCB0YWIpID0+IHtcbiAgICAgICAgbG9hZEFsbFByb2plY3RzKHByb2plY3RzKTsgLy8gaXNzdWUgd2l0aCBsb2FkQWxsUHJvamVjdHMgXG4gICAgICAgIHVwZGF0ZUFjdGl2ZVRhYih0YWIpO1xuICAgIH1cblxuICAgIGNvbnN0IGxvYWRBbGxQcm9qZWN0cyA9IChwcm9qZWN0cykgPT4ge1xuICAgICAgICBjbGVhclByb2plY3RzRnJvbURPTSgpO1xuICAgICAgICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGVwYWQnKTtcbiAgICAgICAgXG4gICAgICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBhZGRQcm9qZWN0VG9Ob3RlcGFkKHByb2plY3QuaWQpO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0VGFza3MgPSBwcm9qZWN0LnRhc2tzO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IG5vdGVwYWQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdC1pZD1cIiR7cHJvamVjdC5pZH1cIl1gKTtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzTGlzdCA9IHByb2plY3RDb250YWluZXIucXVlcnlTZWxlY3RvcigndWwnKTtcbiAgICAgICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBwcm9qZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdGFzaycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm9qZWN0VGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrVG9BZGQgPSBsb2FkVGFzayh0YXNrKTtcbiAgICAgICAgICAgICAgICB0YXNrc0xpc3QuaW5zZXJ0QmVmb3JlKHRhc2tUb0FkZCwgYWRkVGFza0J0bi5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9ICBcbiAgICBjb25zdCBjbGVhclByb2plY3RzRnJvbURPTSA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgd3JpdGluZ0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JpdGluZy1hcmVhJyk7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gd3JpdGluZ0FyZWEucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QnKTtcbiAgICAgICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHByb2plY3QucmVtb3ZlKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uUHJvamVjdFNlbGVjdCA9IChwcm9qZWN0SWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RPYmplY3QgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPScke3Byb2plY3RPYmplY3QuaWR9J11gKTtcbiAgICAgICAgX3NldEFjdGl2ZVRhYihzZWxlY3RlZFByb2plY3QpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uUHJvamVjdEFkZCA9IChwcm9qZWN0TmFtZSkgPT4ge1xuICAgICAgICAvLyBwYXNzIHVzZXIgaW5wdXQgaW50byBmdW5jdGlvblxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gIHtcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0TmFtZSxcbiAgICAgICAgICAgIHRhc2tzOiBbXVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2Uuc2F2ZVByb2plY3QobmV3UHJvamVjdCk7XG4gICAgICAgIC8vIGFkZCBpbnB1dCB0byBwYWdlXG4gICAgICAgIF9yZWZyZXNoUHJvamVjdExpc3QoKTtcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdERPTUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPScke25ld1Byb2plY3QuaWR9J11gKTtcbiAgICAgICAgX3NldEFjdGl2ZVRhYihuZXdQcm9qZWN0RE9NRWxlbWVudCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9uVGFza0FkZCA9ICh0YXNrLCBpZCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYXNrID0ge1xuICAgICAgICAgICAgaXRlbTogdGFzaywgXG4gICAgICAgICAgICB0YXNrSWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgICAgICAgICAgZHVlRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGlzQ29tcGxldGU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RUb1VwZGF0ZSA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IGlkKTtcbiAgICAgICAgcHJvamVjdFRvVXBkYXRlLnRhc2tzLnB1c2gobmV3VGFzayk7XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2Uuc2F2ZVByb2plY3QocHJvamVjdFRvVXBkYXRlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXdUYXNrO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBvblByb2plY3ROYW1lRWRpdCA9IChwcm9qZWN0SWQsIHByb2plY3ROYW1lLCB0YXNrcyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0VGFza3MocHJvamVjdElkKSkgPT4ge1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnNhdmVQcm9qZWN0KHtcbiAgICAgICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICAgICAgICBwcm9qZWN0TmFtZTogcHJvamVjdE5hbWUsXG4gICAgICAgICAgICB0YXNrczogdGFza3NcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3JlZnJlc2hQcm9qZWN0TGlzdCgpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uVGFza05hbWVFZGl0ID0gKHByb2plY3RJZCwgdGFza0lkLCBuZXdUYXNrTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogbmV3VGFza05hbWUsXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBleGlzdGluZ1Rhc2sucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgZHVlRGF0ZTogZXhpc3RpbmdUYXNrLmR1ZURhdGUsXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogZXhpc3RpbmdUYXNrLmlzQ29tcGxldGVcbiAgICAgICAgICAgIH0pOyAgXG4gICAgfVxuXG4gICAgY29uc3Qgb25UYXNrUHJpb3JpdHlFZGl0ID0gKHByb2plY3RJZCwgdGFza0lkLCBuZXdQcmlvcml0eSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogZXhpc3RpbmdUYXNrLml0ZW0sXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBuZXdQcmlvcml0eSxcbiAgICAgICAgICAgICAgICBkdWVEYXRlOiBleGlzdGluZ1Rhc2suZHVlRGF0ZSxcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBleGlzdGluZ1Rhc2suaXNDb21wbGV0ZVxuICAgICAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICBjb25zdCBvblRhc2tEdWVEYXRlRWRpdCA9IChwcm9qZWN0SWQsIHRhc2tJZCwgbmV3RHVlRGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogZXhpc3RpbmdUYXNrLml0ZW0sXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBleGlzdGluZ1Rhc2sucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgZHVlRGF0ZTogbmV3RHVlRGF0ZSxcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBleGlzdGluZ1Rhc2suaXNDb21wbGV0ZVxuICAgICAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICBjb25zdCBvblRhc2tDb21wbGV0ZUVkaXQgPSAocHJvamVjdElkLCB0YXNrSWQsIGlzQ29tcGxldGUpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gdXBkYXRlU3RvcmFnZS5maW5kVGFza1RvVXBkYXRlKHByb2plY3RJZCwgdGFza0lkKTtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS51cGRhdGVUYXNrKHByb2plY3RJZCwge1xuICAgICAgICAgICAgICAgIGl0ZW06IGV4aXN0aW5nVGFzay5pdGVtLFxuICAgICAgICAgICAgICAgIHRhc2tJZDogZXhpc3RpbmdUYXNrLnRhc2tJZCxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogZXhpc3RpbmdUYXNrLnByaW9yaXR5LFxuICAgICAgICAgICAgICAgIGR1ZURhdGU6IGV4aXN0aW5nVGFzay5kdWVEYXRlLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGlzQ29tcGxldGVcbiAgICAgICAgICAgIH0pOyAgXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb25Qcm9qZWN0U2VsZWN0LCBvblByb2plY3RBZGQsIG9uUHJvamVjdE5hbWVFZGl0LCBvblRhc2tBZGQsIG9uVGFza05hbWVFZGl0LCBvblRhc2tQcmlvcml0eUVkaXQsIG9uVGFza0R1ZURhdGVFZGl0LCBvblRhc2tDb21wbGV0ZUVkaXQsIG9uSG9tZVRhYlNlbGVjdCB9XG4gICAgXG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXJzKCk7IiwiaW1wb3J0IGhhbmRsZXJzIGZyb20gXCIuL2hhbmRsZXJzXCJcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuLy8gRE9NIEVsZW1lbnRzIEZhY3RvcnkgRnVuY3Rpb25cbmNvbnN0IGNyZWF0ZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUxpc3RFbGVtZW50ID0gKGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlU3BhbkVsZW1lbnQgPSAoaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVJbWFnZUVsZW1lbnQgPSAoc3JjLCBodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKGh0bWxDbGFzcyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICdmYWxzZScpO1xuICAgICAgICByZXR1cm4gaW1nO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjcmVhdGVGb3JtID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIHJldHVybiBpbnB1dEZvcm07XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlSW5wdXRGaWVsZCA9IChwbGFjZWhvbGRlclRleHQpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgcGxhY2Vob2xkZXJUZXh0KTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCAndXNlci1pbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiB1c2VySW5wdXQ7XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlRGl2ID0gKGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH1cblxuICAgIHJldHVybiB7Y3JlYXRlTGlzdEVsZW1lbnQsIGNyZWF0ZVNwYW5FbGVtZW50LCBjcmVhdGVJbWFnZUVsZW1lbnQsIGNyZWF0ZUlucHV0RmllbGQsIGNyZWF0ZUZvcm0sIGNyZWF0ZURpdn1cbn1cblxuY29uc3QgY3JlYXRlSWNvblNwYW4gPSAoKSA9PiB7XG4gICAgY29uc3QgdmlldyA9IGNyZWF0ZUVsZW1lbnRzKCk7XG5cbiAgICBjb25zdCBpY29uU3BhbiA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ2ljb25zJyk7XG4gICAgY29uc3QgZWRpdEljb24gPSB2aWV3LmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2VkaXQtaWNvbi5zdmcnLCAnZWRpdC1pY29uJyk7XG4gICAgY29uc3QgZGVsZXRlSWNvbiA9IHZpZXcuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvZGVsZXRlLWljb24uc3ZnJywgJ2RlbGV0ZS1pY29uJyk7XG4gICAgXG4gICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCgnZWRpdC1wcm9qZWN0Jyk7XG4gICAgZGVsZXRlSWNvbi5jbGFzc0xpc3QuYWRkKCdkZWxldGUtcHJvamVjdCcpO1xuICAgIFxuICAgIGljb25TcGFuLmFwcGVuZChlZGl0SWNvbiwgZGVsZXRlSWNvbik7XG4gICAgXG4gICAgcmV0dXJuIGljb25TcGFuO1xufVxuXG5jb25zdCBhZGRQcm9qZWN0VG9TaWRlYmFyID0gKCkgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuXG4gICAgY29uc3QgcHJvamVjdExpc3RFbGVtZW50ID0gIHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Byb2plY3QtaXRlbScpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3RJbnB1dEZvcm0gPSB2aWV3LmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZUlucHV0ID0gdmlldy5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBwcm9qZWN0SW5wdXRGb3JtLmFwcGVuZChwcm9qZWN0TmFtZUlucHV0KTtcblxuICAgIGNvbnN0IGljb25TcGFuID0gY3JlYXRlSWNvblNwYW4oKTtcbiAgICBwcm9qZWN0TGlzdEVsZW1lbnQuYXBwZW5kKHByb2plY3RJbnB1dEZvcm0sIGljb25TcGFuKTtcbiAgICBwcm9qZWN0c0NvbnRhaW5lci5pbnNlcnRCZWZvcmUocHJvamVjdExpc3RFbGVtZW50LCBwcm9qZWN0c0NvbnRhaW5lci5sYXN0RWxlbWVudENoaWxkKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBwcm9qZWN0TmFtZUlucHV0LmZvY3VzKCk7XG4gICAgfSwgMCk7XG59XG5cbmNvbnN0IGFkZFByb2plY3RUb05vdGVwYWQgPSAocHJvamVjdElkKSA9PiB7XG4gICAgY29uc3QgdmlldyA9IGNyZWF0ZUVsZW1lbnRzKCk7XG5cbiAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcbiAgICBjb25zdCBwcm9qZWN0VG9BZGQgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdFRvQWRkLnByb2plY3ROYW1lO1xuXG4gICAgY29uc3Qgbm90ZXBhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3cml0aW5nLWFyZWEnKTtcbiAgICBjb25zdCBwcm9qZWN0RGl2ID0gdmlldy5jcmVhdGVEaXYoJ3Byb2plY3QnKTtcbiAgICBwcm9qZWN0RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJywgcHJvamVjdElkKTtcbiAgICBjb25zdCBza2lwTGluZSA9IHZpZXcuY3JlYXRlRGl2KCdza2lwLWxpbmUnKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SGVhZGluZyA9IHZpZXcuY3JlYXRlRGl2KCdwcm9qZWN0LWhlYWRpbmcnKTtcbiAgICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgaDIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlcGFkLXRleHQnKTtcbiAgICBoMi50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgIGNvbnN0IGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBoMy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ25vdGVwYWQtdGV4dCcpO1xuICAgIGgzLnRleHRDb250ZW50ID0gJ0R1ZSBEYXRlJztcbiAgICAgICAgXG4gICAgY29uc3QgdGFza3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRhc2tzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ25vdGVwYWQtdGV4dCcsICd0b2RvcycpO1xuXG4gICAgY29uc3QgYWRkVGFza0xpc3RFbGVtZW50ID0gdmlldy5jcmVhdGVMaXN0RWxlbWVudCgndGFzaycpO1xuICAgIGNvbnN0IGFkZFRhc2tTcGFuID0gdmlldy5jcmVhdGVTcGFuRWxlbWVudCgnYWRkLXRhc2snKTtcbiAgICBjb25zdCBhZGRJY29uID0gdmlldy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9hZGQtaWNvbi5zdmcnLCAnYWRkLWljb24nKTtcbiAgICBhZGRUYXNrU3Bhbi5hcHBlbmQoYWRkSWNvbiwgJ0FkZCBUYXNrJyk7XG5cbiAgICBhZGRUYXNrTGlzdEVsZW1lbnQuYXBwZW5kKGFkZFRhc2tTcGFuKTtcbiAgICB0YXNrc0NvbnRhaW5lci5hcHBlbmQoYWRkVGFza0xpc3RFbGVtZW50LCBza2lwTGluZSk7XG4gICAgcHJvamVjdEhlYWRpbmcuYXBwZW5kKGgyLCBoMyk7XG4gICAgcHJvamVjdERpdi5hcHBlbmQocHJvamVjdEhlYWRpbmcsIHRhc2tzQ29udGFpbmVyKTtcbiAgICBub3RlcGFkLmFwcGVuZChwcm9qZWN0RGl2KTtcbn1cblxuY29uc3QgYWRkRHVlRGF0ZVRvRE9NID0gKCkgPT4ge1xuICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgnZHVlLWRhdGUnKTtcblxuICAgIGNvbnN0IHByaW9yaXR5SWNvbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvcHJpb3JpdHktaWNvbi5zdmcnLCAncHJpb3JpdHktaWNvbicpXG4gICAgcHJpb3JpdHlJY29uLmNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LWxvdycpO1xuICAgIFxuICAgIGNvbnN0IGRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgZGF0ZUxhYmVsLmNsYXNzTGlzdC5hZGQoJ2RhdGUtbGFiZWwnKTtcbiAgICBcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZGF0ZScpO1xuICAgIGRhdGVJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICBjb25zdCBjYWxlbmRhckljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2NhbGVuZGFyLWljb24uc3ZnJywgJ2NhbGVuZGFyLWljb24nKTtcblxuICAgIGRhdGVMYWJlbC5hcHBlbmQoZGF0ZUlucHV0LCBjYWxlbmRhckljb24pO1xuICAgIGR1ZURhdGVTcGFuLmFwcGVuZChwcmlvcml0eUljb24sIGRhdGVMYWJlbCk7XG4gICAgXG4gICAgLy8gdXBkYXRlIGxvY2FsU3RvcmFnZSBvbiBkdWUgZGF0ZSBjaGFuZ2VcbiAgICBkYXRlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBkYXRlSW5wdXQuY2xvc2VzdCgnLnByb2plY3QnKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICAgICAgY29uc3QgdGFza0lkID0gZGF0ZUlucHV0LmNsb3Nlc3QoJ1tkYXRhLXRhc2staWRdJykuZGF0YXNldC50YXNrSWQ7XG4gICAgICAgIGNvbnN0IG5ld0R1ZURhdGUgPSBkYXRlSW5wdXQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza0R1ZURhdGVFZGl0KHByb2plY3RJZCwgdGFza0lkLCBuZXdEdWVEYXRlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBkdWVEYXRlU3Bhbjtcbn1cblxuLy8gY3JlYXRlcyBIVE1MIGZvciBwcm9qZWN0IGl0ZW1zIGluIHNpZGViYXIgZnJvbSBsb2NhbFN0b3JhZ2UgaXRlbVxuY29uc3QgX2NyZWF0ZVByb2plY3RJdGVtSFRNTCA9IChpZCwgbmFtZSkgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSB2aWV3LmNyZWF0ZUxpc3RFbGVtZW50KCdwcm9qZWN0LWl0ZW0nKTtcbiAgICBwcm9qZWN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGlkKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ3Byb2plY3QtbmFtZScpO1xuICAgIHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZUljb25TcGFuKCk7XG5cbiAgICBwcm9qZWN0SXRlbS5hcHBlbmQocHJvamVjdE5hbWUsIGljb25TcGFuKTtcblxuICAgIHJldHVybiBwcm9qZWN0SXRlbTtcbn1cbi8vIFVwZGF0ZXMgcHJvamVjdCBsaXN0IGluIHRoZSBzaWRlYmFyIFxuY29uc3QgdXBkYXRlUHJvamVjdExpc3QgPSAocHJvamVjdHMpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0c0xpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wcm9qZWN0XScpO1xuICAgIFxuICAgIC8vIENsZWFyIGFsbCBlbGVtZW50cyBvZiBjbGFzcyAnLnByb2plY3QtaXRlbSdcbiAgICBjb25zdCBwcm9qZWN0c0FycmF5ID0gW10uc2xpY2UuY2FsbChwcm9qZWN0c0xpc3RDb250YWluZXIuY2hpbGRyZW4pO1xuICAgIHByb2plY3RzQXJyYXkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9qZWN0LWl0ZW0nKSkgaXRlbS5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0cykge1xuICAgICAgICBjb25zdCBodG1sID0gX2NyZWF0ZVByb2plY3RJdGVtSFRNTChwcm9qZWN0LmlkLCBwcm9qZWN0LnByb2plY3ROYW1lKTtcbiAgICAgICAgcHJvamVjdHNMaXN0Q29udGFpbmVyLmluc2VydEJlZm9yZShodG1sLCBhZGRQcm9qZWN0QnRuKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbGlzdGVuZXJzIGZvciBlZGl0LCBkZWxldGUgPz8/P1xuICAgIHByb2plY3RzTGlzdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1pdGVtJykuZm9yRWFjaChwcm9qZWN0SXRlbSA9PiB7XG4gICAgICAgIHByb2plY3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlcnMub25Qcm9qZWN0U2VsZWN0KHByb2plY3RJdGVtLmRhdGFzZXQucHJvamVjdElkKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmNvbnN0IGxvYWRUYXNrID0gICh0YXNrT2JqKSA9PiB7XG4gICAgY29uc3QgdmlldyA9IGNyZWF0ZUVsZW1lbnRzKCk7XG5cbiAgICBjb25zdCB0YXNrID0gdmlldy5jcmVhdGVMaXN0RWxlbWVudCgndGFzaycpO1xuICAgIHRhc2suc2V0QXR0cmlidXRlKCdkYXRhLXRhc2staWQnLCB0YXNrT2JqLnRhc2tJZCk7XG5cbiAgICBjb25zdCB0YXNrSXRlbSA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ3Rhc2staXRlbScpO1xuICAgIFxuICAgIGNvbnN0IHRhc2tOYW1lU3BhbiA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ3Rhc2stdGV4dCcpO1xuICAgIHRhc2tOYW1lU3Bhbi50ZXh0Q29udGVudCA9IHRhc2tPYmouaXRlbTtcbiAgICBcbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZUljb25TcGFuKCk7XG4gICAgdGFza0l0ZW0uYXBwZW5kKHRhc2tOYW1lU3BhbiwgaWNvblNwYW4pO1xuICAgXG4gICAgY29uc3QgZHVlRGF0ZVNwYW4gPSBhZGREdWVEYXRlVG9ET00oKTtcblxuICAgIGNvbnN0IHByaW9yaXR5SWNvbiA9IGR1ZURhdGVTcGFuLnF1ZXJ5U2VsZWN0b3IoJy5wcmlvcml0eS1pY29uJyk7XG4gICAgcHJpb3JpdHlJY29uLmNsYXNzTGlzdC5hZGQoYHByaW9yaXR5LSR7dGFza09iai5wcmlvcml0eX1gKTtcbiAgICBcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBkdWVEYXRlU3Bhbi5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgIGRhdGVJbnB1dC52YWx1ZSA9IHRhc2tPYmouZHVlRGF0ZTtcbiAgXG4gICAgaWYgKHRhc2tPYmouaXNDb21wbGV0ZSkgdGFzay5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZWQnKTtcblxuICAgIHRhc2suYXBwZW5kKHRhc2tJdGVtLCBkdWVEYXRlU3Bhbik7XG5cbiAgICByZXR1cm4gdGFzaztcbn1cblxuY29uc3QgdXBkYXRlQWN0aXZlVGFiID0gKHRhYikgPT4ge1xuICAgIC8vIGZvciBhbGwgb3RoZXIgcHJvamVjdHMsIGNoYW5nZSBkaXNwbGF5IHRvIG5vbmUsIHRvIGJyaW5nIGJhY2sgc2V0IGRpc3BsYXkgdG8gY29udGVudHMgIFxuICAgICAgICAvLyBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAvLyByZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gYW55IG90aGVyIHNpZGViYXIgZWxlbWVudFxuICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG4gICAgaWYgKGN1cnJlbnRBY3RpdmVUYWIpIGN1cnJlbnRBY3RpdmVUYWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lU3BhbiA9IHRhYi5jaGlsZHJlbi5pdGVtKDApOyAvLyBVcGRhdGUgbm90ZXBhZCBoZXJlP1xuICAgIC8vY29uc29sZS5sb2cocHJvamVjdE5hbWVTcGFuKTtcbn1cblxuZXhwb3J0IHsgYWRkUHJvamVjdFRvU2lkZWJhciwgYWRkUHJvamVjdFRvTm90ZXBhZCwgYWRkRHVlRGF0ZVRvRE9NLCBjcmVhdGVFbGVtZW50cywgdXBkYXRlUHJvamVjdExpc3QsIHVwZGF0ZUFjdGl2ZVRhYiwgbG9hZFRhc2sgfTsiLCJpbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyLCBhZGRQcm9qZWN0VG9Ob3RlcGFkLCBjcmVhdGVFbGVtZW50cyB9IGZyb20gXCIuL2NyZWF0ZURPTUVsZW1lbnRzXCI7XG5pbXBvcnQgaGFuZGxlcnMgZnJvbSBcIi4vaGFuZGxlcnNcIjtcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIlxuXG5jb25zdCBhd2FpdGluZ0lucHV0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgaWYgKHVzZXJJbnB1dCAhPSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuY29uc3QgaGFuZGxlVXNlcklucHV0ID0gKCkgPT4geyBcbiAgICAvLyBUaGlzIGlzIERPTSBTdHVmZlxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0JylcbiAgICBjb25zdCBpbnB1dEZvcm0gPSB1c2VySW5wdXQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGlucHV0Rm9ybS5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgncHJvamVjdC1uYW1lJyk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSB1c2VySW5wdXQudmFsdWUudHJpbSgpO1xuICAgIGlmICghcHJvamVjdE5hbWUpIHJldHVybjtcblxuICAgIHByb2plY3RTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdE5hbWU7XG4gICAgdXNlcklucHV0LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgcHJvamVjdEl0ZW0uaW5zZXJ0QmVmb3JlKHByb2plY3RTcGFuLCBwcm9qZWN0SXRlbS5jaGlsZE5vZGVzWzBdKTsgXG59XG5cbmNvbnN0IGFkZFByb2plY3QgPSAoKSA9PiB7XG4gICAgaWYgKGF3YWl0aW5nSW5wdXQoKSkgcmV0dXJuO1xuICAgIGFkZFByb2plY3RUb1NpZGViYXIoKTtcbiAgICBcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IHVzZXJJbnB1dC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RJdGVtID0gaW5wdXRGb3JtLnBhcmVudEVsZW1lbnQ7XG5cbiAgICB1c2VySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHVzZXJJbnB1dC52YWx1ZS50cmltKCkgPT0gJycpIHtcbiAgICAgICAgICAgIHByb2plY3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZVVzZXJJbnB1dCgpO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdEFkZChwcm9qZWN0TmFtZSk7IFxuXG4gICAgICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuICAgICAgICAvLyBTZWxlY3QgbGFzdCBwcm9qZWN0IGFkZGVkIGFuZCBnZXQgaWQgYXR0cmlidXRlXG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHByb2plY3RMaXN0LmNoaWxkcmVuW3Byb2plY3RMaXN0LmNoaWxkRWxlbWVudENvdW50IC0gMl0uZ2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnKTtcbiAgICAgICAgaWYgKCFhd2FpdGluZ0lucHV0KCkpIGFkZFByb2plY3RUb05vdGVwYWQocHJvamVjdElkKTtcbiAgICB9KTtcblxuICAgIGlucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGhhbmRsZVVzZXJJbnB1dCgpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RJdGVtLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xuICAgICAgICBoYW5kbGVycy5vblByb2plY3RBZGQocHJvamVjdE5hbWUpOyBcbiAgICAgICAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHByb2plY3RMaXN0LmNoaWxkcmVuW3Byb2plY3RMaXN0LmNoaWxkRWxlbWVudENvdW50IC0gMl0uZ2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnKTtcbiAgICAgICAgaWYgKCFhd2FpdGluZ0lucHV0KCkpIGFkZFByb2plY3RUb05vdGVwYWQocHJvamVjdElkKTtcbiAgICB9KTtcbn1cblxuY29uc3QgZGVsZXRlUHJvamVjdCA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcbiAgICBwcm9qZWN0TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZGVsZXRlLXByb2plY3QnKSkge1xuICAgICAgICAgICAgY29uc3QgZG9EZWxldGUgPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcHJvamVjdCBhbmQgYWxsIGl0cyB0YXNrcz8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS4nKTtcbiAgICAgICAgICAgIGlmICghZG9EZWxldGUpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb2plY3QtaWRdJykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1wcm9qZWN0LWlkPVwiJHtwcm9qZWN0SWR9XCJdYCk7XG4gICAgICAgICAgICBwcm9qZWN0RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IGVsZW1lbnQucmVtb3ZlKCkpO1xuICAgICAgICAgICAgdXBkYXRlU3RvcmFnZS5kZWxldGVQcm9qZWN0KHByb2plY3RJZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiBcbmNvbnN0IGVkaXRQcm9qZWN0ID0gKGUpID0+IHtcbiAgICBpZiAoYXdhaXRpbmdJbnB1dCgpKSByZXR1cm47XG4gICAgXG4gICAgLy8gVGhpcyBpcyBET00gU3R1ZmZcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgIGlucHV0RmllbGQudmFsdWUgPSBwcm9qZWN0TmFtZS50ZXh0Q29udGVudDtcbiAgICBwcm9qZWN0TmFtZS5yZW1vdmUoKTtcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3RJdGVtID0gZS50YXJnZXQuY2xvc2VzdCgnLnByb2plY3QtaXRlbScpO1xuICAgIHByb2plY3RJdGVtLmluc2VydEJlZm9yZShpbnB1dEZvcm0sIHByb2plY3RJdGVtLmNoaWxkTm9kZXNbMF0pO1xuICAgIFxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgdXNlcklucHV0LmZvY3VzKCk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdEl0ZW0uZGF0YXNldC5wcm9qZWN0SWQ7XG5cbiAgICB1c2VySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHVzZXJJbnB1dC52YWx1ZSAhPSAnJykgaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIHVwZGF0ZU5hbWVPbk5vdGVwYWQocHJvamVjdElkLCBwcm9qZWN0TmFtZSk7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdE5hbWVFZGl0KHByb2plY3RJZCwgcHJvamVjdE5hbWUpO1xuICAgIH0pO1xuXG4gICAgaW5wdXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIHVwZGF0ZU5hbWVPbk5vdGVwYWQocHJvamVjdElkLCBwcm9qZWN0TmFtZSk7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdE5hbWVFZGl0KHByb2plY3RJZCwgcHJvamVjdE5hbWUpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdXBkYXRlTmFtZU9uTm90ZXBhZCA9IChwcm9qZWN0SWQsIHByb2plY3ROYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZXBhZCcpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VGFza3NDb250YWluZXIgPSBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke3Byb2plY3RJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb2plY3RUYXNrc0NvbnRhaW5lcikge1xuICAgICAgICAgICAgcHJvamVjdFRhc2tzQ29udGFpbmVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBcbiAgICBhZGRQcm9qZWN0LFxuICAgIGRlbGV0ZVByb2plY3QsXG4gICAgZWRpdFByb2plY3Rcbn0iLCJpbXBvcnQge2NyZWF0ZUVsZW1lbnRzLCBhZGREdWVEYXRlVG9ET019IGZyb20gXCIuL2NyZWF0ZURPTUVsZW1lbnRzXCI7XG5pbXBvcnQge2Zvcm1hdH0gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQgaGFuZGxlcnMgZnJvbSBcIi4vaGFuZGxlcnNcIjtcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuY29uc3QgdG9nZ2xlVGFzayA9ICh0YXNrRWxlbWVudCkgPT4ge1xuICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2NvbXBsZXRlZCcpO1xuICAgIGxldCBpc0NvbXBsZXRlID0gZmFsc2U7XG5cbiAgICBpZiAodGFza0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb21wbGV0ZWQnKSkge1xuICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgcHJvamVjdElkID0gdGFza0VsZW1lbnQuY2xvc2VzdCgnLnByb2plY3QnKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICBjb25zdCB0YXNrSWQgPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJZDtcblxuICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tDb21wbGV0ZUVkaXQocHJvamVjdElkLCB0YXNrSWQsIGlzQ29tcGxldGUpO1xufVxuXG5jb25zdCBhZGRUYXNrVG9ET00gPSAoYWRkVGFza0J0bikgPT4ge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlci1pbnB1dCcpKSByZXR1cm47XG4gICAgY29uc3QgdGFza0xpc3RFbGVtZW50ID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVMaXN0RWxlbWVudCgndGFzaycpO1xuICAgIGNvbnN0IHRhc2tTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgndGFzay1pdGVtJyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVGb3JtKCk7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW5wdXRGaWVsZCgnRW50ZXIgVGFzay4uLicpO1xuICAgIFxuICAgIGlucHV0Rm9ybS5hcHBlbmQoaW5wdXRGaWVsZCk7XG4gICAgdGFza1NwYW4uYXBwZW5kKGlucHV0Rm9ybSk7XG5cbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ2ljb25zJyk7XG4gICAgY29uc3QgZWRpdEljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2VkaXQtaWNvbi5zdmcnLCAnZWRpdC1pY29uJyk7XG4gICAgY29uc3QgZGVsZXRlSWNvbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvZGVsZXRlLWljb24uc3ZnJywgJ2RlbGV0ZS1pY29uJyk7XG5cbiAgICBpY29uU3Bhbi5hcHBlbmQoZWRpdEljb24sIGRlbGV0ZUljb24pO1xuICAgIHRhc2tTcGFuLmFwcGVuZChpY29uU3Bhbik7XG4gICAgY29uc3QgZHVlRGF0ZSA9IGFkZER1ZURhdGVUb0RPTSgpO1xuICAgIHRhc2tMaXN0RWxlbWVudC5hcHBlbmQodGFza1NwYW4sIGR1ZURhdGUpO1xuICAgIFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFkZFRhc2tCdG4uY2xvc2VzdCgnLnRvZG9zJyk7XG4gICAgY29uc3QgbnVtYmVyT2ZUYXNrcyA9IGNvbnRhaW5lci5jaGlsZEVsZW1lbnRDb3VudCAtIDI7XG5cbiAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKHRhc2tMaXN0RWxlbWVudCwgY29udGFpbmVyLmNoaWxkcmVuW251bWJlck9mVGFza3NdKTtcbiAgICBcbiAgICAvLyBXaGF0IGlzIHRoaXM/Pz9cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaW5wdXRGaWVsZC5mb2N1cygpO1xuICAgIH0sIDApO1xuXG4gICAgcmV0dXJuIHRhc2tTcGFuO1xufVxuXG5jb25zdCBlZGl0VGFzayA9ICh0YXNrKSA9PiB7XG4gICAgaWYgKHRhc2suY2xhc3NMaXN0LmNvbnRhaW5zKCdjb21wbGV0ZWQnKSkgcmV0dXJuO1xuICAgIGNvbnN0IHRhc2tUZXh0U3BhbiA9IHRhc2sucXVlcnlTZWxlY3RvcignLnRhc2stdGV4dCcpO1xuICAgIGNvbnN0IHRhc2tOYW1lID0gdGFza1RleHRTcGFuLnRleHRDb250ZW50O1xuICAgIHRhc2tUZXh0U3Bhbi5yZW1vdmUoKTtcbiAgICBcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbnB1dEZpZWxkKCdFbnRlciBUYXNrLi4uJyk7XG4gICAgXG4gICAgaW5wdXRGaWVsZC52YWx1ZSA9IHRhc2tOYW1lO1xuICAgIGlucHV0Rm9ybS5hcHBlbmQoaW5wdXRGaWVsZCk7XG5cbiAgICBjb25zdCB0YXNrU3BhbiA9IHRhc2sucXVlcnlTZWxlY3RvcignLnRhc2staXRlbScpO1xuICAgIGNvbnN0IGljb25TcGFuID0gdGFzay5xdWVyeVNlbGVjdG9yKCcuaWNvbnMnKTtcblxuICAgIHRhc2tTcGFuLmluc2VydEJlZm9yZShpbnB1dEZvcm0sIGljb25TcGFuKTtcblxuICAgIHRhc2sucHJlcGVuZCh0YXNrU3Bhbik7XG4gICAgaW5wdXRGaWVsZC5mb2N1cygpO1xuICAgIGFkZFRhc2soKTtcbn1cblxuY29uc3QgZGVsZXRlVGFzayA9IChwcm9qZWN0SWQsIHRhc2tJZCkgPT4ge1xuICAgIGNvbnN0IHRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWlkPVwiJHt0YXNrSWR9XCJdYCk7XG4gICAgdGFzay5yZW1vdmUoKTtcbiAgICB1cGRhdGVTdG9yYWdlLmRlbGV0ZVRhc2socHJvamVjdElkLCB0YXNrSWQpO1xufVxuXG5jb25zdCBhZGRUYXNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGlucHV0RmllbGQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gaW5wdXRGb3JtLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBcbiAgICBpbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHRhc2tDb250YWluZXIuY2xvc2VzdCgnW2RhdGEtcHJvamVjdC1pZF0nKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICAgICAgY29uc3QgdGFzayA9IGlucHV0RmllbGQudmFsdWU7XG4gICAgICAgIHZhbGlkYXRlVXNlcklucHV0KCk7XG4gICAgICAgIGlmICh0YXNrKSBjcmVhdGVUYXNrKHRhc2ssIHByb2plY3RJZCwgdGFza0NvbnRhaW5lcik7XG4gICAgfSk7XG4gICAgXG4gICAgaW5wdXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gdGFza0NvbnRhaW5lci5jbG9zZXN0KCdbZGF0YS1wcm9qZWN0LWlkXScpLmRhdGFzZXQucHJvamVjdElkO1xuICAgICAgICBjb25zdCB0YXNrID0gaW5wdXRGaWVsZC52YWx1ZTtcbiAgICAgICAgdmFsaWRhdGVVc2VySW5wdXQoKTtcbiAgICAgICAgaWYgKHRhc2spIGNyZWF0ZVRhc2sodGFzaywgcHJvamVjdElkLCB0YXNrQ29udGFpbmVyKTtcbiAgICB9KTtcbn1cblxuY29uc3QgY3JlYXRlVGFzayA9ICh0YXNrLCBwcm9qZWN0SWQsIHRhc2tDb250YWluZXIpID0+IHtcbiAgICBpZiAodGFza0NvbnRhaW5lci5kYXRhc2V0LnRhc2tJZCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlcnMub25UYXNrTmFtZUVkaXQocHJvamVjdElkLCB0YXNrQ29udGFpbmVyLmRhdGFzZXQudGFza0lkLCB0YXNrKTtcbiAgICB9XG4gICAgY29uc3QgdGFza09iaiA9IGhhbmRsZXJzLm9uVGFza0FkZCh0YXNrLCBwcm9qZWN0SWQpO1xuICAgIHRhc2tDb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXRhc2staWQnLCB0YXNrT2JqLnRhc2tJZCk7XG59XG5cbmNvbnN0IHZhbGlkYXRlVXNlcklucHV0ID0gKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGlucHV0RmllbGQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCB0YXNrSXRlbSA9IGlucHV0Rm9ybS5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSB0YXNrSXRlbS5wYXJlbnRFbGVtZW50O1xuXG4gICAgY29uc3QgdXNlcklucHV0ID0gaW5wdXRGaWVsZC52YWx1ZS50cmltKCk7XG4gICAgY29uc3QgdGFza1RleHRTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgndGFzay10ZXh0Jyk7XG4gICAgdGFza1RleHRTcGFuLmFwcGVuZCh1c2VySW5wdXQpO1xuXG4gICAgLy8gUmVtb3ZlcyB0YXNrIGNvbnRhaW5lciBpZiB0YXNrIGlzbid0IHlldCBpbiBsb2NhbFN0b3JhZ2UgKGhhcyBhIHRhc2tJZCBkYXRhIGF0dHJpYnV0ZSlcbiAgICBpZiAodXNlcklucHV0ID09ICcnICYmICF0YXNrQ29udGFpbmVyLmRhdGFzZXQudGFza0lkKSB7XG4gICAgICAgIHRhc2tDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9IFxuICAgIGVsc2UgaWYgKHVzZXJJbnB1dCA9PSAnJyAmJiB0YXNrQ29udGFpbmVyLmRhdGFzZXQudGFza0lkKSByZXR1cm47XG4gICAgaW5wdXRGb3JtLnJlbW92ZSgpO1xuICAgIHRhc2tJdGVtLnByZXBlbmQodGFza1RleHRTcGFuKTtcbn1cblxuY29uc3QgdXBkYXRlUHJpb3JpdHkgPSAoZXZlbnRUYXJnZXQpID0+IHtcbiAgICBjb25zdCB0YXNrSXRlbUNsYXNzTGlzdCA9IGV2ZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3Q7XG4gICAgaWYgKHRhc2tJdGVtQ2xhc3NMaXN0LmNvbnRhaW5zKCdjb21wbGV0ZWQnKSkgcmV0dXJuO1xuICAgIGNvbnN0IHByb2plY3RJZCA9IGV2ZW50VGFyZ2V0LmNsb3Nlc3QoJy5wcm9qZWN0JykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgY29uc3QgdGFza0lkID0gZXZlbnRUYXJnZXQuY2xvc2VzdCgnW2RhdGEtdGFzay1pZF0nKS5kYXRhc2V0LnRhc2tJZDtcblxuICAgIGNvbnN0IHByaW9yaXR5Q2xhc3NMaXN0ID0gZXZlbnRUYXJnZXQuY2xhc3NMaXN0O1xuXG4gICAgaWYgKHByaW9yaXR5Q2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1sb3cnKSkge1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LWxvdycpO1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LW1lZGl1bScpO1xuICAgICAgICByZXR1cm4gaGFuZGxlcnMub25UYXNrUHJpb3JpdHlFZGl0KHByb2plY3RJZCwgdGFza0lkLCAnbWVkaXVtJyk7IFxuICAgIH1cbiAgICBpZiAocHJpb3JpdHlDbGFzc0xpc3QuY29udGFpbnMoJ3ByaW9yaXR5LW1lZGl1bScpKSB7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktbWVkaXVtJyk7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LmFkZCgncHJpb3JpdHktaGlnaCcpO1xuICAgICAgICByZXR1cm4gaGFuZGxlcnMub25UYXNrUHJpb3JpdHlFZGl0KHByb2plY3RJZCwgdGFza0lkLCAnaGlnaCcpO1xuICAgIH1cbiAgICBpZiAocHJpb3JpdHlDbGFzc0xpc3QuY29udGFpbnMoJ3ByaW9yaXR5LWhpZ2gnKSkge1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LWhpZ2gnKTtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1sb3cnKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza1ByaW9yaXR5RWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgJ2xvdycpO1xuICAgIH1cbn1cblxuZXhwb3J0IHtcbiAgICB0b2dnbGVUYXNrLFxuICAgIGFkZFRhc2tUb0RPTSxcbiAgICBhZGRUYXNrLFxuICAgIHVwZGF0ZVByaW9yaXR5LFxuICAgIGRlbGV0ZVRhc2ssXG4gICAgZWRpdFRhc2tcbn0iLCJpbXBvcnQgeyBhZGRQcm9qZWN0LCBkZWxldGVQcm9qZWN0LCBlZGl0UHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5pbXBvcnQgdXBkYXRlU3RvcmFnZSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyB1cGRhdGVQcm9qZWN0TGlzdCB9IGZyb20gXCIuL2NyZWF0ZURPTUVsZW1lbnRzXCI7XG5pbXBvcnQgeyB0b2dnbGVUYXNrLCBhZGRUYXNrVG9ET00sIGFkZFRhc2ssIHVwZGF0ZVByaW9yaXR5LCBkZWxldGVUYXNrLCBlZGl0VGFzayB9IGZyb20gXCIuL3Rhc2tzXCI7XG5pbXBvcnQgaGFuZGxlcnMgZnJvbSBcIi4vaGFuZGxlcnNcIjtcblxuLy8gTG9hZCBsb2NhbFN0b3JhZ2UgaXRlbXMgb24gcGFnZSBsb2FkXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RzID0gdXBkYXRlU3RvcmFnZS5nZXRQcm9qZWN0cygpO1xuICAgIGNvbnN0IHRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRhYj1cImhvbWVcIl0nKTtcblxuICAgIHVwZGF0ZVByb2plY3RMaXN0KHByb2plY3RzKTtcbiAgICBoYW5kbGVycy5vbkhvbWVUYWJTZWxlY3QocHJvamVjdHMsIHRhYik7XG59XG5cbi8vIFNpZGViYXIgTW9kdWxlXG5jb25zdCBzaWRlYmFyQ29udHJvbGxlciA9ICgoKSA9PiB7XG5cbiAgICBjb25zdCBtb2JpbGVUb2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFycy1pY29uLW1vYmlsZScpO1xuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDI0ICYmIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGViYXInKTtcbiAgICBcbiAgICBjb25zdCB0b2dnbGVTaWRlYmFyID0gKCkgPT4ge1xuICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoJ3RvZ2dsZS1zaWRlYmFyJyk7XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDI0KSBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHRvZ2dsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYXJzLWljb24nKTtcbiAgICB0b2dnbGVCdG4uZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaWRlYmFyKTtcbiAgICB9KTsgICAgICAgIFxuXG4gICAgY29uc3QgaG9tZVRhYiA9IHNpZGViYXIucXVlcnlTZWxlY3RvcignW2RhdGEtdGFiPVwiaG9tZVwiXScpO1xuICAgIGhvbWVUYWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gdXBkYXRlU3RvcmFnZS5nZXRQcm9qZWN0cygpO1xuICAgICAgICBoYW5kbGVycy5vbkhvbWVUYWJTZWxlY3QocHJvamVjdHMsIGhvbWVUYWIpO1xuICAgIH0pO1xufSkoKTtcblxuY29uc3QgcHJvamVjdENvbnRyb2xsZXIgPSAoKCkgPT4ge1xuICAgIGRlbGV0ZVByb2plY3QoKTtcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXByb2plY3RdJyk7XG4gICAgYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFByb2plY3QpO1xuICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuXG4gICAgcHJvamVjdExpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0LXByb2plY3QnKSkge1xuICAgICAgICAgICAgZWRpdFByb2plY3QoZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG5cbmNvbnN0IHRhc2tDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGVwYWQnKTtcbiAgICBub3RlcGFkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFzay10ZXh0JykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZS50YXJnZXQuY2xvc2VzdCgnLnRhc2snKTtcbiAgICAgICAgICAgIHRvZ2dsZVRhc2sodGFza0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWRkLXRhc2snKSkge1xuICAgICAgICAgICAgYWRkVGFza1RvRE9NKGUudGFyZ2V0KTtcbiAgICAgICAgICAgIGFkZFRhc2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3ByaW9yaXR5LWljb24nKSkge1xuICAgICAgICAgICAgdXBkYXRlUHJpb3JpdHkoZS50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0LWljb24nKSkge1xuICAgICAgICAgICAgY29uc3QgdGFzayA9IGUudGFyZ2V0LmNsb3Nlc3QoJy50YXNrJyk7XG4gICAgICAgICAgICBlZGl0VGFzayh0YXNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGVsZXRlLWljb24nKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvamVjdC1pZF0nKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXRhc2staWRdJykuZGF0YXNldC50YXNrSWQ7XG4gICAgICAgICAgICBkZWxldGVUYXNrKHByb2plY3RJZCwgdGFza0lkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTsiXSwibmFtZXMiOlsiZ2V0UHJvamVjdHMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2F2ZVByb2plY3QiLCJwcm9qZWN0VG9TYXZlIiwicHJvamVjdHMiLCJleGlzdGluZyIsImZpbmQiLCJwcm9qZWN0IiwiaWQiLCJwcm9qZWN0TmFtZSIsInRhc2tzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicHVzaCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJnZXRUYXNrcyIsInByb2plY3RJZCIsImRlbGV0ZVByb2plY3QiLCJ1cGRhdGVkUHJvamVjdExpc3QiLCJmaWx0ZXIiLCJkZWxldGVUYXNrIiwidGFza0lkIiwicHJvamVjdFdpdGhUYXNrIiwidXBkYXRlZFRhc2tPYmoiLCJ0YXNrT2JqIiwiZmluZFRhc2tUb1VwZGF0ZSIsImV4aXN0aW5nVGFza0lkIiwidGFzayIsInVwZGF0ZVRhc2siLCJ1cGRhdGVkVGFzayIsInByb2plY3RUb1VwZGF0ZSIsInRhc2tzQXJyYXkiLCJpbmRleE9mVXBkYXRlZFRhc2siLCJmaW5kSW5kZXgiLCJfcmVmcmVzaFByb2plY3RMaXN0IiwiX3NldFByb2plY3RMaXN0IiwidXBkYXRlUHJvamVjdExpc3QiLCJfc2V0QWN0aXZlVGFiIiwidGFiIiwidXBkYXRlQWN0aXZlVGFiIiwiY2xlYXJQcm9qZWN0c0Zyb21ET00iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInJlbW92ZSIsIm9uUHJvamVjdFNlbGVjdCIsInByb2plY3RPYmplY3QiLCJzZWxlY3RlZFByb2plY3QiLCJvblByb2plY3RBZGQiLCJuZXdQcm9qZWN0IiwibmV3UHJvamVjdERPTUVsZW1lbnQiLCJvblByb2plY3ROYW1lRWRpdCIsIm9uVGFza0FkZCIsIm5ld1Rhc2siLCJpdGVtIiwicHJpb3JpdHkiLCJkdWVEYXRlIiwiaXNDb21wbGV0ZSIsIm9uVGFza05hbWVFZGl0IiwibmV3VGFza05hbWUiLCJleGlzdGluZ1Rhc2siLCJvblRhc2tQcmlvcml0eUVkaXQiLCJuZXdQcmlvcml0eSIsIm9uVGFza0R1ZURhdGVFZGl0IiwibmV3RHVlRGF0ZSIsIm9uVGFza0NvbXBsZXRlRWRpdCIsIm9uSG9tZVRhYlNlbGVjdCIsIm5vdGVwYWQiLCJhZGRQcm9qZWN0VG9Ob3RlcGFkIiwicHJvamVjdFRhc2tzIiwicHJvamVjdENvbnRhaW5lciIsInRhc2tzTGlzdCIsImFkZFRhc2tCdG4iLCJ0YXNrVG9BZGQiLCJsb2FkVGFzayIsImluc2VydEJlZm9yZSIsInBhcmVudEVsZW1lbnQiLCJsb2FkQWxsUHJvamVjdHMiLCJjcmVhdGVFbGVtZW50cyIsImNyZWF0ZUxpc3RFbGVtZW50IiwiaHRtbENsYXNzIiwibGkiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY3JlYXRlU3BhbkVsZW1lbnQiLCJzcGFuIiwiY2xhc3NMaXN0IiwiYWRkIiwiY3JlYXRlSW1hZ2VFbGVtZW50Iiwic3JjIiwiaW1nIiwiY3JlYXRlSW5wdXRGaWVsZCIsInBsYWNlaG9sZGVyVGV4dCIsInVzZXJJbnB1dCIsInJlcXVpcmVkIiwiY3JlYXRlRm9ybSIsImNyZWF0ZURpdiIsImRpdiIsImNyZWF0ZUljb25TcGFuIiwidmlldyIsImljb25TcGFuIiwiZWRpdEljb24iLCJkZWxldGVJY29uIiwiYXBwZW5kIiwicHJvamVjdERpdiIsInNraXBMaW5lIiwicHJvamVjdEhlYWRpbmciLCJoMiIsInRleHRDb250ZW50IiwiaDMiLCJ0YXNrc0NvbnRhaW5lciIsImFkZFRhc2tMaXN0RWxlbWVudCIsImFkZFRhc2tTcGFuIiwiYWRkSWNvbiIsImFkZER1ZURhdGVUb0RPTSIsImR1ZURhdGVTcGFuIiwicHJpb3JpdHlJY29uIiwiZGF0ZUxhYmVsIiwiZGF0ZUlucHV0IiwiY2FsZW5kYXJJY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3Nlc3QiLCJkYXRhc2V0IiwidmFsdWUiLCJfY3JlYXRlUHJvamVjdEl0ZW1IVE1MIiwibmFtZSIsInByb2plY3RJdGVtIiwicHJvamVjdHNMaXN0Q29udGFpbmVyIiwiYWRkUHJvamVjdEJ0biIsInNsaWNlIiwiY2FsbCIsImNoaWxkcmVuIiwiY29udGFpbnMiLCJodG1sIiwidGFza0l0ZW0iLCJ0YXNrTmFtZVNwYW4iLCJjdXJyZW50QWN0aXZlVGFiIiwiYXdhaXRpbmdJbnB1dCIsImhhbmRsZVVzZXJJbnB1dCIsInByb2plY3RTcGFuIiwidHJpbSIsImNoaWxkTm9kZXMiLCJhZGRQcm9qZWN0IiwicHJvamVjdHNDb250YWluZXIiLCJwcm9qZWN0TGlzdEVsZW1lbnQiLCJwcm9qZWN0SW5wdXRGb3JtIiwicHJvamVjdE5hbWVJbnB1dCIsImxhc3RFbGVtZW50Q2hpbGQiLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJhZGRQcm9qZWN0VG9TaWRlYmFyIiwiaW5wdXRGb3JtIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJwcm9qZWN0TGlzdCIsImNoaWxkRWxlbWVudENvdW50IiwiZ2V0QXR0cmlidXRlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYWRkVGFzayIsImlucHV0RmllbGQiLCJ0YXNrQ29udGFpbmVyIiwidmFsaWRhdGVVc2VySW5wdXQiLCJjcmVhdGVUYXNrIiwidGFza1RleHRTcGFuIiwicHJlcGVuZCIsIndpbmRvdyIsIm9ubG9hZCIsIm1vYmlsZVRvZ2dsZUJ0biIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJXaWR0aCIsInRvZ2dsZSIsInNpZGViYXIiLCJ0b2dnbGVTaWRlYmFyIiwiYnV0dG9uIiwiaG9tZVRhYiIsInRhcmdldCIsImNvbmZpcm0iLCJlbGVtZW50IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInVwZGF0ZU5hbWVPbk5vdGVwYWQiLCJwcm9qZWN0VGFza3NDb250YWluZXIiLCJlZGl0UHJvamVjdCIsInRhc2tFbGVtZW50IiwidG9nZ2xlVGFzayIsInRhc2tMaXN0RWxlbWVudCIsInRhc2tTcGFuIiwiY29udGFpbmVyIiwibnVtYmVyT2ZUYXNrcyIsImFkZFRhc2tUb0RPTSIsImV2ZW50VGFyZ2V0IiwicHJpb3JpdHlDbGFzc0xpc3QiLCJ1cGRhdGVQcmlvcml0eSIsInRhc2tOYW1lIiwiZWRpdFRhc2siXSwic291cmNlUm9vdCI6IiJ9