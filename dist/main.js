(()=>{"use strict";const e=()=>{const e=document.createElement("li");return e.setAttribute("class","project-item"),e},t=e=>{const t=document.createElement("span");return t.classList.add(e),t},n=(e,t)=>{const n=document.createElement("img");return n.classList.add(t),n.setAttribute("src",e),n.setAttribute("draggable","false"),n},c=e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},s=()=>document.createElement("form"),r=()=>null!=document.querySelector("#user-input"),o=()=>{const e=document.querySelector("#user-input"),n=e.parentElement,c=n.parentElement,s=t("project-name");n.addEventListener("submit",(function(t){t.preventDefault();const n=e.value;if(n.match(/^[\s]/))return alert("Project name cannot start with a space");s.textContent=n,e.parentElement.remove(),c.insertBefore(s,c.childNodes[0])}))},i=()=>{r()||((()=>{const r=document.querySelector(".project-list"),o=e(),i=s(),a=c("Project name...");i.append(a);const d=t("icons"),l=n("images/edit-icon.svg","edit-icon"),m=n("images/delete-icon.svg","delete-icon");d.append(l,m),o.append(i,d),r.insertBefore(o,r.lastElementChild)})(),o())};(()=>{const e=document.getElementById("bars-icon-mobile");screen.width<=1024&&e.classList.contains("hidden")&&e.classList.toggle("hidden");const t=document.getElementById("sidebar"),n=()=>{t.classList.toggle("toggle-sidebar"),screen.width<=1024&&e.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",n)}))})(),document.addEventListener("click",(e=>{e.target.closest(".delete-icon")&&e.target.closest(".project-item").remove()})),document.querySelector("[data-add-project]").addEventListener("click",i),document.addEventListener("click",(e=>{"edit-icon"===e.target.className&&(e=>{if(r())return;const t=s(),n=c("Project name..."),i=e.target.parentElement.previousElementSibling;n.value=i.textContent,i.remove(),t.append(n);const a=e.target.closest(".project-item");a.insertBefore(t,a.childNodes[0]),o()})(e)})),document.addEventListener("click",(e=>{if(e.target.classList.contains("task-item")){(e=>{e.classList.toggle("completed")})(e.target.parentElement)}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9DLFFBQVEsaUJBQ3JDcEMsRUFBWVcsYUFBYWIsRUFBV0UsRUFBWVksV0FBVyxJQUUzRGYsS0MxRlEyQyxDQUFZckMsTUFNcEJwQixTQUFTbUIsaUJBQWlCLFNBQVVDLElBQ2hDLEdBQUlBLEVBQUVnQyxPQUFPL0MsVUFBVXdDLFNBQVMsYUFBYyxDQ3BDbkMsQ0FBQ2EsSUFDaEJBLEVBQVlyRCxVQUFVeUMsT0FBTyxjRHFDckIsQ0FEb0IxQixFQUFFZ0MsT0FBT3BDLG9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NyZWF0ZURPTUVsZW1lbnRzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2tzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIERPTSBFbGVtZW50cyBGYWN0b3J5IEZ1bmN0aW9uXG5jb25zdCBjcmVhdGVFbGVtZW50cyA9ICgpID0+IHtcbiAgICBcbiAgICBjb25zdCBjcmVhdGVMaXN0RWxlbWVudCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Byb2plY3QtaXRlbScpO1xuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlU3BhbkVsZW1lbnQgPSAoaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVJbWFnZUVsZW1lbnQgPSAoc3JjLCBodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKGh0bWxDbGFzcyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICdmYWxzZScpO1xuICAgICAgICByZXR1cm4gaW1nO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjcmVhdGVGb3JtID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIHJldHVybiBpbnB1dEZvcm07XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlSW5wdXRGaWVsZCA9IChwbGFjZWhvbGRlclRleHQpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgcGxhY2Vob2xkZXJUZXh0KTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCAndXNlci1pbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiB1c2VySW5wdXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtjcmVhdGVMaXN0RWxlbWVudCwgY3JlYXRlU3BhbkVsZW1lbnQsIGNyZWF0ZUltYWdlRWxlbWVudCwgY3JlYXRlSW5wdXRGaWVsZCwgY3JlYXRlRm9ybX1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWxlbWVudHMoKTsiLCJpbXBvcnQgY3JlYXRlRWxlbWVudHMgZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcbi8qXG4vLyBET00gRWxlbWVudHMgRmFjdG9yeSBGdW5jdGlvblxuY29uc3QgY3JlYXRlRWxlbWVudHMgPSAoKCkgPT4ge1xuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUxpc3RFbGVtZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncHJvamVjdC1pdGVtJyk7XG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVTcGFuRWxlbWVudCA9IChodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKGh0bWxDbGFzcyk7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZUltYWdlRWxlbWVudCA9IChzcmMsIGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoaHRtbENsYXNzKTtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgIHJldHVybiBpbWc7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUZvcm0gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgcmV0dXJuIGlucHV0Rm9ybTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVJbnB1dEZpZWxkID0gKHBsYWNlaG9sZGVyVGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBwbGFjZWhvbGRlclRleHQpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsICd1c2VyLWlucHV0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHVzZXJJbnB1dDtcbiAgICB9XG5cbiAgICByZXR1cm4ge2NyZWF0ZUxpc3RFbGVtZW50LCBjcmVhdGVTcGFuRWxlbWVudCwgY3JlYXRlSW1hZ2VFbGVtZW50LCBjcmVhdGVJbnB1dEZpZWxkLCBjcmVhdGVGb3JtfVxufSkoKTtcbiovXG5jb25zdCBjcmVhdGVQcm9qZWN0RE9NID0gKCkgPT4ge1xuICAgIC8vY29uc3QgY3JlYXRlUHJvamVjdCA9IGNyZWF0ZUVsZW1lbnRzKCk7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG5cbiAgICBjb25zdCBwcm9qZWN0TGlzdEVsZW1lbnQgPSAgY3JlYXRlRWxlbWVudHMuY3JlYXRlTGlzdEVsZW1lbnQoKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlRm9ybSgpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lSW5wdXQgPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBwcm9qZWN0SW5wdXRGb3JtLmFwcGVuZChwcm9qZWN0TmFtZUlucHV0KTtcblxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSAobmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlU3BhbkVsZW1lbnQoJ3Byb2plY3QtbmFtZScpO1xuICAgICAgICBuZXdQcm9qZWN0LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIG5ld1Byb2plY3Q7XG4gICAgfVxuXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVTcGFuRWxlbWVudCgnaWNvbnMnKTtcbiAgICBjb25zdCBlZGl0SWNvbiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2VkaXQtaWNvbi5zdmcnLCAnZWRpdC1pY29uJyk7XG4gICAgY29uc3QgZGVsZXRlSWNvbiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2RlbGV0ZS1pY29uLnN2ZycsICdkZWxldGUtaWNvbicpO1xuICAgIFxuICAgIGljb25TcGFuLmFwcGVuZChlZGl0SWNvbiwgZGVsZXRlSWNvbik7XG4gICAgcHJvamVjdExpc3RFbGVtZW50LmFwcGVuZChwcm9qZWN0SW5wdXRGb3JtLCBpY29uU3Bhbik7XG4gICAgcHJvamVjdHNDb250YWluZXIuaW5zZXJ0QmVmb3JlKHByb2plY3RMaXN0RWxlbWVudCwgcHJvamVjdHNDb250YWluZXIubGFzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICByZXR1cm4ge25ld1Byb2plY3QsIHByb2plY3ROYW1lSW5wdXQsIHByb2plY3RJbnB1dEZvcm0sIGljb25TcGFuLCBwcm9qZWN0TGlzdEVsZW1lbnR9XG59XG5cbmNvbnN0IGF3YWl0aW5nSW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKTtcbiAgICBpZiAodXNlcklucHV0ICE9IG51bGwpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBoYW5kbGVVc2VySW5wdXQgPSAoKSA9PiB7IFxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0JylcbiAgICBjb25zdCBpbnB1dEZvcm0gPSB1c2VySW5wdXQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGlucHV0Rm9ybS5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RTcGFuID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlU3BhbkVsZW1lbnQoJ3Byb2plY3QtbmFtZScpOyAvLyBpZiBkb2VzbnQgd29yayBhZGQgKCkgdG8gZW5kIG9mIGNyZWF0ZSBlbGVtZW50c1xuXG4gICAgaW5wdXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSB1c2VySW5wdXQudmFsdWU7XG4gICAgICAgIGlmIChwcm9qZWN0TmFtZS5tYXRjaCgvXltcXHNdLykpIHJldHVybiBhbGVydCgnUHJvamVjdCBuYW1lIGNhbm5vdCBzdGFydCB3aXRoIGEgc3BhY2UnKTtcbiAgICAgICAgcHJvamVjdFNwYW4udGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZTtcbiAgICAgICAgdXNlcklucHV0LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHByb2plY3RJdGVtLmluc2VydEJlZm9yZShwcm9qZWN0U3BhbiwgcHJvamVjdEl0ZW0uY2hpbGROb2Rlc1swXSk7IFxuICAgIH0pO1xufVxuXG5jb25zdCBhZGRQcm9qZWN0ID0gKCkgPT4ge1xuICAgIGlmIChhd2FpdGluZ0lucHV0KCkpIHJldHVybjtcbiAgICBjcmVhdGVQcm9qZWN0RE9NKCk7XG4gICAgaGFuZGxlVXNlcklucHV0KCk7XG59XG5cbmNvbnN0IGRlbGV0ZVByb2plY3QgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAvLyBUT0RPOiBBZGQgZGVsZXRlLXByb2plY3QgY2xhc3MgdG8gZGVsZXRlIGJ0biB0byBhdm9pZCBlcnJvcnMgd2hlbiB1c2VyIGNsaWNrcyBkZWxldGUgdGFzayBidG5cbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5kZWxldGUtaWNvbicpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1pdGVtJykucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiBcbmNvbnN0IGVkaXRQcm9qZWN0ID0gKGUpID0+IHtcbiAgICBpZiAoYXdhaXRpbmdJbnB1dCgpKSByZXR1cm47XG4gICAgY29uc3QgaW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlRm9ybSgpOyAvLyAoKVxuICAgIGNvbnN0IGlucHV0RmllbGQgPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTsgLy8gKClcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgIGlucHV0RmllbGQudmFsdWUgPSBwcm9qZWN0TmFtZS50ZXh0Q29udGVudDtcbiAgICBwcm9qZWN0TmFtZS5yZW1vdmUoKTtcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuXG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1pdGVtJyk7XG4gICAgcHJvamVjdEl0ZW0uaW5zZXJ0QmVmb3JlKGlucHV0Rm9ybSwgcHJvamVjdEl0ZW0uY2hpbGROb2Rlc1swXSk7XG5cbiAgICBoYW5kbGVVc2VySW5wdXQoKTtcbn1cblxuZXhwb3J0IHsgXG4gICAgYWRkUHJvamVjdCxcbiAgICBkZWxldGVQcm9qZWN0LFxuICAgIGVkaXRQcm9qZWN0LFxuICAgIGNyZWF0ZUVsZW1lbnRzXG59IiwiaW1wb3J0IHthZGRQcm9qZWN0LCBkZWxldGVQcm9qZWN0LCBlZGl0UHJvamVjdH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB0b2dnbGVUYXNrIGZyb20gXCIuL3Rhc2tzXCI7XG5cbi8vIFNpZGViYXIgTW9kdWxlXG5jb25zdCBzaWRlYmFyQ29udHJvbGxlciA9ICgoKSA9PiB7XG5cbiAgICBjb25zdCBtb2JpbGVUb2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFycy1pY29uLW1vYmlsZScpO1xuICAgIGlmIChzY3JlZW4ud2lkdGggPD0gMTAyNCAmJiBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyJyk7XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlU2lkZWJhciA9ICgpID0+IHtcbiAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKCd0b2dnbGUtc2lkZWJhcicpO1xuICAgICAgICBpZiAoc2NyZWVuLndpZHRoIDw9IDEwMjQpIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhcnMtaWNvbicpO1xuICAgIHRvZ2dsZUJ0bi5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVNpZGViYXIpO1xuICAgIH0pOyAgICAgICAgXG59KSgpO1xuXG5jb25zdCBwcm9qZWN0Q29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgZGVsZXRlUHJvamVjdCgpO1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcHJvamVjdF0nKTtcbiAgICBhZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUHJvamVjdCk7XG4gICAgXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09PSAnZWRpdC1pY29uJykge1xuICAgICAgICAgICAgZWRpdFByb2plY3QoZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG5cbmNvbnN0IHRhc2tDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Rhc2staXRlbScpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICB0b2dnbGVUYXNrKHRhc2tFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTsiLCIvL2ltcG9ydCBjcmVhdGVFbGVtZW50cyBmcm9tIFwiLi9wcm9qZWN0c1wiO1xuXG5jb25zdCB0b2dnbGVUYXNrID0gKHRhc2tFbGVtZW50KSA9PiB7XG4gICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnY29tcGxldGVkJyk7XG59XG5cbmNvbnN0IGFkZFRhc2tUb0RPTSA9ICgpID0+IHtcbiAgICAvLyBjcmVhdGUgc3BhbiB3aXRoIGNsYXNzICd0YXNrLWl0ZW0nXG4gICAgLy8gc3BhbiBzaG91bGQgZ2V0IHVzZXIgaW5wdXQgYW5kIHNhdmUgaXQgYXMgc3Bhbi50ZXh0Q29udGVudFxuICAgIC8vIGNyZWF0ZSBzcGFuIHdpdGggY2xhc3MgJ2ljb25zJ1xuICAgIC8vIGFkZCBlZGl0IGFuZCBkZWxldGUgaWNvbnNcbiAgICBjb25zdCBjcmVhdGVUYXNrID0gY3JlYXRlRWxlbWVudHMoKTtcblxuICAgIGNvbnN0IHRhc2tTcGFuID0gY3JlYXRlVGFzay5jcmVhdGVTcGFuRWxlbWVudCgndGFzay1pdGVtJyk7XG4gICAgdGFza1NwYW4udGV4dENvbnRlbnQgPSAndXNlciBpbnB1dCc7IC8vIFRPRE86IEdldCB1c2VyIGlucHV0XG5cbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZVRhc2suY3JlYXRlU3BhbkVsZW1lbnQoJ2ljb25zJyk7XG4gICAgY29uc3QgZWRpdEljb24gPSBjcmVhdGVUYXNrLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2VkaXQtaWNvbi5zdmcnLCAnZWRpdC1pY29uIGVkaXQtdGFzaycpO1xuICAgIGNvbnN0IGRlbGV0ZUljb24gPSBjcmVhdGVUYXNrLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2RlbGV0ZS1pY29uLnN2ZycsICdkZWxldGUtaWNvbiBkZWxldGUtdGFzaycpO1xuXG4gICAgaWNvblNwYW4uYXBwZW5kKGVkaXRJY29uLCBkZWxldGVJY29uKTtcbiAgICB0YXNrU3Bhbi5hcHBlbmQoaWNvblNwYW4pO1xuXG4gICAgcmV0dXJuIHRhc2tTcGFuO1xufVxuXG5jb25zdCBhZGREdWVEYXRlVG9ET00gPSAoKSA9PiB7XG4gICAgLy8gY3JlYXRlIHNwYW4gd2l0aCBjbGFzcyAnZHVlLWRhdGUnXG4gICAgLy8gY3JlYXRlIHByaW9yaXR5IGljb24gd2l0aCBjbGFzcyAncHJpb3JpdHktaWNvbiBwcmlvcml0eS1sb3cnXG4gICAgLy8gY3JlYXRlIHNwYW4gd2l0aCBjbGFzcyAnZGF0ZScgYW5kIHNldCB0ZXh0Q29udGVudCB0byBkZWZhdWx0IGRhdGUgKGN1cnJlbnQgZGF0ZSlcbiAgICAvLyBjcmVhdGUgY2FsZW5kYXIgaWNvbiB3aXRoIGNsYXNzICdjYWxlbmRhci1pY29uJ1xuICAgIGNvbnN0IGNyZWF0ZUR1ZURhdGUgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgLy9jb25zdCBkdWVEYXRlU3BhbiA9IGNyZWF0ZUR1ZURhdGUuXG59XG5cbmNvbnN0IGFkZFRhc2sgPSAoKSA9PiB7XG4gICAgLy8gY3JlYXRlIGxpIHdpdGggY2xhc3MgJ3Rhc2snIGFuZCBhcHBlbmQgZXZlcnl0aGluZyB0byBpdFxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvZ2dsZVRhc2s7Il0sIm5hbWVzIjpbImxpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiaHRtbENsYXNzIiwic3BhbiIsImNsYXNzTGlzdCIsImFkZCIsInNyYyIsImltZyIsInBsYWNlaG9sZGVyVGV4dCIsInVzZXJJbnB1dCIsInJlcXVpcmVkIiwiYXdhaXRpbmdJbnB1dCIsInF1ZXJ5U2VsZWN0b3IiLCJoYW5kbGVVc2VySW5wdXQiLCJpbnB1dEZvcm0iLCJwYXJlbnRFbGVtZW50IiwicHJvamVjdEl0ZW0iLCJwcm9qZWN0U3BhbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJwcm9qZWN0TmFtZSIsInZhbHVlIiwibWF0Y2giLCJhbGVydCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGROb2RlcyIsImFkZFByb2plY3QiLCJwcm9qZWN0c0NvbnRhaW5lciIsInByb2plY3RMaXN0RWxlbWVudCIsInByb2plY3RJbnB1dEZvcm0iLCJwcm9qZWN0TmFtZUlucHV0IiwiYXBwZW5kIiwiaWNvblNwYW4iLCJlZGl0SWNvbiIsImRlbGV0ZUljb24iLCJsYXN0RWxlbWVudENoaWxkIiwiY3JlYXRlUHJvamVjdERPTSIsIm1vYmlsZVRvZ2dsZUJ0biIsImdldEVsZW1lbnRCeUlkIiwic2NyZWVuIiwid2lkdGgiLCJjb250YWlucyIsInRvZ2dsZSIsInNpZGViYXIiLCJ0b2dnbGVTaWRlYmFyIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidXR0b24iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiY2xhc3NOYW1lIiwiaW5wdXRGaWVsZCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJlZGl0UHJvamVjdCIsInRhc2tFbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==