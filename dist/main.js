(()=>{"use strict";const e=(()=>{const e=()=>JSON.parse(localStorage.getItem("projects")||"[]"),t=t=>{const n=e(),r=n.find((e=>e.id==t.id));r?(r.projectName=t.projectName,r.tasks=t.tasks):(t.id=Math.floor(1e6*Math.random()),n.push(t)),localStorage.setItem("projects",JSON.stringify(n))};return{getProjects:e,getTasks:t=>e().find((e=>e.id==t)).tasks,saveProject:t,deleteProject:t=>{const n=e().filter((e=>e.id!=t));localStorage.setItem("projects",JSON.stringify(n))},deleteTask:(n,r)=>{const a=e().find((e=>e.id==n)),o=a.tasks.filter((e=>e.taskId!=r));a.tasks=o,t(a)},findTaskToUpdate:(t,n)=>e().find((e=>e.id==t)).tasks.find((e=>e.taskId==n)),updateTask:(t,n)=>{const r=e(),a=r.find((e=>e.id==t)),o=a.tasks,s=o.findIndex((e=>e.taskId==n.taskId));o[s]=n,a.tasks=o,localStorage.setItem("projects",JSON.stringify(r))}}})();function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(e){t(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function r(e){t(1,arguments);var r=n(e);return r.setHours(0,0,0,0),r}function a(e,n){t(2,arguments);var a=r(e),o=r(n);return a.getTime()===o.getTime()}function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var s=36e5,i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e,n){t(1,arguments);var r=n||{},a=null==r.additionalDigits?2:o(r.additionalDigits);if(2!==a&&1!==a&&0!==a)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var s,i=m(e);if(i.date){var c=p(i.date,a);s=f(c.restDateString,c.year)}if(isNaN(s)||!s)return new Date(NaN);var d,l=s.getTime(),u=0;if(i.time&&(u=k(i.time),isNaN(u)||null===u))return new Date(NaN);if(!i.timezone){var g=new Date(l+u),E=new Date(0);return E.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),E.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),E}return d=y(i.timezone),isNaN(d)?new Date(NaN):new Date(l+u+d)}function m(e){var t,n={},r=e.split(i.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var a=i.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function p(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:null};var a=r[1]&&parseInt(r[1]),o=r[2]&&parseInt(r[2]);return{year:null==o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function f(e,t){if(null===t)return null;var n=e.match(c);if(!n)return null;var r=!!n[4],a=g(n[1]),o=g(n[2])-1,s=g(n[3]),i=g(n[4]),d=g(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,i,d)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(t,i,d):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(v[t]||(j(e)?29:28))}(t,o,s)&&function(e,t){return t>=1&&t<=(j(e)?366:365)}(t,a)?(l.setUTCFullYear(t,o,Math.max(a,s)),l):new Date(NaN)}function g(e){return e?parseInt(e):1}function k(e){var t=e.match(d);if(!t)return null;var n=E(t[1]),r=E(t[2]),a=E(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a)?n*s+6e4*r+1e3*a:NaN}function E(e){return e&&parseFloat(e.replace(",","."))||0}function y(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,a)?n*(r*s+6e4*a):NaN}var v=[31,null,31,30,31,30,31,31,30,31,30,31];function j(e){return e%400==0||e%4==0&&e%100}function S(e,r){t(1,arguments);var a=r||{},s=a.locale,i=s&&s.options&&s.options.weekStartsOn,c=null==i?0:o(i),d=null==a.weekStartsOn?c:o(a.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=n(e),u=l.getDay(),m=(u<d?7:0)+u-d;return l.setDate(l.getDate()-m),l.setHours(0,0,0,0),l}function h(e,n,r){t(2,arguments);var a=S(e,r),o=S(n,r);return a.getTime()===o.getTime()}const T=(()=>{const n=()=>{const t=e.getProjects();r(t)},r=e=>{N(e)},o=e=>{C(e)},s=e=>{if(function(e){return t(1,arguments),a(e,Date.now())}(u(e.dueDate)))return e},i=e=>{if(function(e,n){return t(1,arguments),h(e,Date.now(),n)}(u(e.dueDate)))return e},c=e=>{d();const t=document.querySelector(".notepad");e.forEach((e=>{D(e.id);const n=e.tasks,r=t.querySelector(`[data-project-id="${e.id}"]`),a=r.querySelector("ul"),o=r.querySelector(".add-task");n.forEach((e=>{const t=w(e);a.insertBefore(t,o.parentElement)}))}))},d=()=>{document.querySelector("#writing-area").querySelectorAll(".project").forEach((e=>e.remove()))};return{onProjectSelect:t=>{const n=e.getProjects().find((e=>e.id==t)),r=document.querySelector(`[data-project-id='${n.id}']`);o(r)},onProjectAdd:t=>{const r={projectName:t,tasks:[]};e.saveProject(r),n();const a=document.querySelector(`[data-project-id='${r.id}']`);o(a)},onProjectNameEdit:(t,r,a=e.getTasks(t))=>{e.saveProject({id:t,projectName:r,tasks:a}),n()},onTaskAdd:(t,n)=>{const r={item:t,taskId:Math.floor(1e6*Math.random()),priority:"low",dueDate:null,isComplete:!1},a=e.getProjects().find((e=>e.id==n));return a.tasks.push(r),e.saveProject(a),r},onTaskNameEdit:(t,n,r)=>{const a=e.findTaskToUpdate(t,n);e.updateTask(t,{item:r,taskId:a.taskId,priority:a.priority,dueDate:a.dueDate,isComplete:a.isComplete})},onTaskPriorityEdit:(t,n,r)=>{const a=e.findTaskToUpdate(t,n);e.updateTask(t,{item:a.item,taskId:a.taskId,priority:r,dueDate:a.dueDate,isComplete:a.isComplete})},onTaskDueDateEdit:(t,n,r)=>{const a=e.findTaskToUpdate(t,n);e.updateTask(t,{item:a.item,taskId:a.taskId,priority:a.priority,dueDate:r,isComplete:a.isComplete})},onTaskCompleteEdit:(t,n,r)=>{const a=e.findTaskToUpdate(t,n);e.updateTask(t,{item:a.item,taskId:a.taskId,priority:a.priority,dueDate:a.dueDate,isComplete:r})},onHomeTabSelect:(e,t)=>{c(e),C(t)},onTodayTabSelect:(e,t)=>{c(e),e.forEach((e=>{const t=e.tasks;0===t.filter((e=>s(e))).length&&document.querySelector(".notepad").querySelector(`[data-project-id="${e.id}"]`).remove(),t.filter((e=>!s(e))).forEach((e=>{const t=document.querySelector(`[data-task-id="${e.taskId}"]`);t&&t.remove()}))})),C(t)},onThisWeekTabSelect:(e,t)=>{c(e),e.forEach((e=>{const t=e.tasks;0===t.filter((e=>i(e))).length&&document.querySelector(".notepad").querySelector(`[data-project-id="${e.id}"]`).remove(),t.filter((e=>!i(e))).forEach((e=>{const t=document.querySelector(`[data-task-id="${e.taskId}"]`);t&&t.remove()}))})),C(t)}}})(),I=()=>({createListElement:e=>{const t=document.createElement("li");return t.setAttribute("class",e),t},createSpanElement:e=>{const t=document.createElement("span");return t.classList.add(e),t},createImageElement:(e,t)=>{const n=document.createElement("img");return n.classList.add(t),n.setAttribute("src",e),n.setAttribute("draggable","false"),n},createInputField:e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},createForm:()=>document.createElement("form"),createDiv:e=>{const t=document.createElement("div");return t.setAttribute("class",e),t}}),b=()=>{const e=I(),t=e.createSpanElement("icons"),n=e.createImageElement("images/edit-icon.svg","edit-icon"),r=e.createImageElement("images/delete-icon.svg","delete-icon");return n.classList.add("edit-project"),r.classList.add("delete-project"),t.append(n,r),t},D=t=>{const n=I(),r=e.getProjects().find((e=>e.id==t)).projectName,a=document.querySelector("#writing-area"),o=n.createDiv("project");o.setAttribute("data-project-id",t);const s=n.createDiv("skip-line"),i=n.createDiv("project-heading"),c=document.createElement("h2");c.setAttribute("class","notepad-text"),c.textContent=r;const d=document.createElement("h3");d.setAttribute("class","notepad-text"),d.textContent="Due Date";const l=document.createElement("ul");l.classList.add("notepad-text","todos");const u=n.createListElement("task"),m=n.createSpanElement("add-task"),p=n.createImageElement("images/add-icon.svg","add-icon");m.append(p,"Add Task"),u.append(m),l.append(u,s),i.append(c,d),o.append(i,l),a.append(o)},q=()=>{const e=I().createSpanElement("due-date"),t=I().createImageElement("images/priority-icon.svg","priority-icon");t.classList.add("priority-low");const n=document.createElement("label");n.classList.add("date-label");const r=document.createElement("input");r.setAttribute("type","date"),r.required=!0;const a=I().createImageElement("images/calendar-icon.svg","calendar-icon");return n.append(r,a),e.append(t,n),r.addEventListener("change",(()=>{const e=r.closest(".project").dataset.projectId,t=r.closest("[data-task-id]").dataset.taskId,n=r.value;return T.onTaskDueDateEdit(e,t,n)})),e},L=(e,t)=>{const n=I(),r=n.createListElement("project-item");r.setAttribute("data-project-id",e);const a=n.createSpanElement("project-name");a.textContent=t;const o=b();return r.append(a,o),r},N=e=>{const t=document.querySelector(".project-list"),n=document.querySelector("[data-add-project]");[].slice.call(t.children).forEach((e=>{e.classList.contains("project-item")&&e.remove()}));for(const r of e){const e=L(r.id,r.projectName);t.insertBefore(e,n)}t.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",(()=>{T.onProjectSelect(e.dataset.projectId)}))}))},w=e=>{const t=I(),n=t.createListElement("task");n.setAttribute("data-task-id",e.taskId);const r=t.createSpanElement("task-item"),a=t.createSpanElement("task-text");a.textContent=e.item;const o=b();r.append(a,o);const s=q();return s.querySelector(".priority-icon").classList.add(`priority-${e.priority}`),s.querySelector("input").value=e.dueDate,e.isComplete&&n.classList.add("completed"),n.append(r,s),n},C=e=>{const t=document.querySelector(".active");t&&t.classList.remove("active"),e.classList.add("active"),e.children.item(0)},P=()=>null!=document.querySelector("#user-input"),A=()=>{const e=document.querySelector("#user-input"),t=e.parentElement.parentElement,n=I().createSpanElement("project-name"),r=e.value.trim();r&&(n.textContent=r,e.parentElement.remove(),t.insertBefore(n,t.childNodes[0]))},x=()=>{if(P())return;(()=>{const e=I(),t=document.querySelector(".project-list"),n=e.createListElement("project-item"),r=e.createForm(),a=e.createInputField("Project name...");r.append(a);const o=b();n.append(r,o),t.insertBefore(n,t.lastElementChild),setTimeout((()=>{a.focus()}),0)})();const e=document.querySelector("#user-input"),t=e.parentElement,n=t.parentElement;e.addEventListener("blur",(function(){if(""==e.value.trim())return void n.remove();A();const t=n.firstElementChild.textContent;T.onProjectAdd(t);const r=document.querySelector(".project-list"),a=r.children[r.childElementCount-2].getAttribute("data-project-id");P()||D(a)})),t.addEventListener("submit",(function(e){e.preventDefault(),A();const t=n.firstElementChild.textContent;T.onProjectAdd(t);const r=document.querySelector(".project-list"),a=r.children[r.childElementCount-2].getAttribute("data-project-id");P()||D(a)}))},U=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,n=t.parentElement.parentElement;e.addEventListener("blur",(function(){const t=n.closest("[data-project-id]").dataset.projectId,r=e.value;F(),r&&$(r,t,n)})),t.addEventListener("submit",(function(t){t.preventDefault();const r=n.closest("[data-project-id]").dataset.projectId,a=e.value;F(),a&&$(a,r,n)}))},$=(e,t,n)=>{if(n.dataset.taskId)return T.onTaskNameEdit(t,n.dataset.taskId,e);const r=T.onTaskAdd(e,t);n.setAttribute("data-task-id",r.taskId)},F=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,n=t.parentElement,r=n.parentElement,a=e.value.trim(),o=I().createSpanElement("task-text");o.append(a),""!=a||r.dataset.taskId?""==a&&r.dataset.taskId||(t.remove(),n.prepend(o)):r.remove()};window.onload=()=>{const t=e.getProjects(),n=document.querySelector('[data-tab="home"]');N(t),T.onHomeTabSelect(t,n)},(()=>{const t=document.getElementById("bars-icon-mobile");window.innerWidth<=1024&&t.classList.contains("hidden")&&t.classList.toggle("hidden");const n=document.getElementById("sidebar"),r=()=>{n.classList.toggle("toggle-sidebar"),window.innerWidth<=1024&&t.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",r)}));const a=n.querySelector('[data-tab="home"]'),o=n.querySelector('[data-tab="today"]'),s=n.querySelector('[data-tab="this-week"]');a.addEventListener("click",(()=>{const t=e.getProjects();T.onHomeTabSelect(t,a)})),o.addEventListener("click",(()=>{const t=e.getProjects();T.onTodayTabSelect(t,o)})),s.addEventListener("click",(()=>{const t=e.getProjects();T.onThisWeekTabSelect(t,s)}))})(),document.querySelector(".project-list").addEventListener("click",(t=>{if(t.target.closest(".delete-project")){if(!confirm("Are you sure you want to delete this project and all its tasks? This action cannot be undone."))return;const n=t.target.closest("[data-project-id]").dataset.projectId;document.querySelectorAll(`[data-project-id="${n}"]`).forEach((e=>e.remove())),e.deleteProject(n)}})),document.querySelector("[data-add-project]").addEventListener("click",x),document.querySelector(".project-list").addEventListener("click",(e=>{e.target.classList.contains("edit-project")&&(e=>{if(P())return;const t=I().createForm(),n=I().createInputField("Project name..."),r=e.target.parentElement.previousElementSibling;n.value=r.textContent,r.remove(),t.append(n);const a=e.target.closest(".project-item");a.insertBefore(t,a.childNodes[0]);const o=document.querySelector("#user-input");o.focus();const s=a.dataset.projectId;o.addEventListener("blur",(function(){""!=o.value&&A();const e=a.firstElementChild.textContent;i(s,e),T.onProjectNameEdit(s,e)})),t.addEventListener("submit",(function(e){e.preventDefault(),A();const t=a.firstElementChild.textContent;i(s,t),T.onProjectNameEdit(s,t)}));const i=(e,t)=>{const n=document.querySelector(".notepad").querySelector(`[data-project-id="${e}"]`);n&&(n.childNodes[0].childNodes[0].textContent=t)}})(e)})),document.querySelector(".notepad").addEventListener("click",(t=>{var n,r;t.target.classList.contains("task-text")?(e=>{e.classList.toggle("completed");let t=!1;e.classList.contains("completed")&&(t=!0);const n=e.closest(".project").dataset.projectId,r=e.dataset.taskId;T.onTaskCompleteEdit(n,r,t)})(t.target.closest(".task")):t.target.classList.contains("add-task")?((e=>{if(document.getElementById("user-input"))return;const t=I().createListElement("task"),n=I().createSpanElement("task-item"),r=I().createForm(),a=I().createInputField("Enter Task...");r.append(a),n.append(r);const o=I().createSpanElement("icons"),s=I().createImageElement("images/edit-icon.svg","edit-icon"),i=I().createImageElement("images/delete-icon.svg","delete-icon");o.append(s,i),n.append(o);const c=q();t.append(n,c);const d=e.closest(".todos"),l=d.childElementCount-2;d.insertBefore(t,d.children[l]),setTimeout((()=>{a.focus()}),0)})(t.target),U()):t.target.classList.contains("priority-icon")?(e=>{if(e.parentElement.parentElement.classList.contains("completed"))return;const t=e.closest(".project").dataset.projectId,n=e.closest("[data-task-id]").dataset.taskId,r=e.classList;r.contains("priority-low")?(r.remove("priority-low"),r.add("priority-medium"),T.onTaskPriorityEdit(t,n,"medium")):r.contains("priority-medium")?(r.remove("priority-medium"),r.add("priority-high"),T.onTaskPriorityEdit(t,n,"high")):r.contains("priority-high")&&(r.remove("priority-high"),r.add("priority-low"),T.onTaskPriorityEdit(t,n,"low"))})(t.target):t.target.classList.contains("edit-icon")?(e=>{if(e.classList.contains("completed"))return;const t=e.querySelector(".task-text"),n=t.textContent;t.remove();const r=I().createForm(),a=I().createInputField("Enter Task...");a.value=n,r.append(a);const o=e.querySelector(".task-item"),s=e.querySelector(".icons");o.insertBefore(r,s),e.prepend(o),a.focus(),U()})(t.target.closest(".task")):t.target.classList.contains("delete-icon")&&(n=t.target.closest("[data-project-id]").dataset.projectId,r=t.target.closest("[data-task-id]").dataset.taskId,document.querySelector(`[data-task-id="${r}"]`).remove(),e.deleteTask(n,r))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckQySixTQUFTQyxjQUFjLGtCQUFrQjVKLE9BQ2pEd0ssU0FDTCxhQUF5QjdLLEVBQVdLLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vdG9EYXRlL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZkRheS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzU2FtZURheS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vcGFyc2VJU08vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9zdGFydE9mV2Vlay9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzU2FtZVdlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2hhbmRsZXJzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNUb2RheS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzVGhpc1dlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NyZWF0ZURPTUVsZW1lbnRzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdGFza3MuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVwZGF0ZVN0b3JhZ2UgPSAoKSA9PiB7XG4gICAgXG4gICAgY29uc3QgZ2V0UHJvamVjdHMgPSAoKSA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZXMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpIHx8ICdbXScpO1xuICAgICAgICByZXR1cm4gcHJvamVjdHM7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0VGFza3MgPSAocHJvamVjdElkKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFByb2plY3QgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCB0YXNrcyA9IGN1cnJlbnRQcm9qZWN0LnRhc2tzO1xuICAgICAgICByZXR1cm4gdGFza3M7XG4gICAgfVxuXG4gICAgY29uc3Qgc2F2ZVByb2plY3QgPSAocHJvamVjdFRvU2F2ZSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG5cbiAgICAgICAgLy8gZmluZCBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3Qgb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGUgaWRcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0VG9TYXZlLmlkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgZXhpc3RpbmcucHJvamVjdE5hbWUgPSBwcm9qZWN0VG9TYXZlLnByb2plY3ROYW1lO1xuICAgICAgICAgICAgZXhpc3RpbmcudGFza3MgPSBwcm9qZWN0VG9TYXZlLnRhc2tzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvamVjdFRvU2F2ZS5pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApO1xuICAgICAgICAgICAgLy8gQWRkIHByb2plY3ROYW1lXG4gICAgICAgICAgICAvLyBBZGQgVGFza3MgYXJyYXkgY29udGFpbmluZyBhbm90aGVyIGFycmF5IHdoaWNoIGluY2x1ZGVzIHRhc2ssIHByaW9yaXR5LCBkdWVEYXRlLCBhbmQgdHJ1ZS9mYWxzZSBmb3IgY29tcGxldGVkIG9yIG5vdFxuICAgICAgICAgICAgcHJvamVjdHMucHVzaChwcm9qZWN0VG9TYXZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlVGFzayA9IChwcm9qZWN0SWQsIHVwZGF0ZWRUYXNrKSA9PiB7XG4gICAgICAgIC8vIHRhc2tzIGZvciBjdXJyZW50IHByb2plY3RcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VG9VcGRhdGUgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCB0YXNrc0FycmF5ID0gcHJvamVjdFRvVXBkYXRlLnRhc2tzO1xuICAgICAgICBcbiAgICAgICAgLy8gZmluZCB0YXNrIGluZGV4IGFuZCByZXBsYWNlIHRoZSB0YXNrIGF0IHRoYXQgaW5kZXggdG8gdXBkYXRlXG4gICAgICAgIGNvbnN0IGluZGV4T2ZVcGRhdGVkVGFzayA9IHRhc2tzQXJyYXkuZmluZEluZGV4KCh0YXNrT2JqKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iai50YXNrSWQgPT0gdXBkYXRlZFRhc2sudGFza0lkO1xuICAgICAgICB9KTtcblxuICAgICAgICB0YXNrc0FycmF5W2luZGV4T2ZVcGRhdGVkVGFza10gPSB1cGRhdGVkVGFzaztcbiAgICAgICAgLy8gU2F2ZSB1cGRhdGVkIHRhc2tzIGFycmF5IHRvIHRoZSBwcm9qZWN0IG9iamVjdFxuICAgICAgICBwcm9qZWN0VG9VcGRhdGUudGFza3MgPSB0YXNrc0FycmF5O1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbmRUYXNrVG9VcGRhdGUgPSAocHJvamVjdElkLCBleGlzdGluZ1Rhc2tJZCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7ICAgICBcbiAgICAgICAgY29uc3QgcHJvamVjdFRvVXBkYXRlID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdElkKTtcbiAgICAgICAgY29uc3QgdGFza3NBcnJheSA9IHByb2plY3RUb1VwZGF0ZS50YXNrc1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB0YXNrc0FycmF5LmZpbmQodGFzayA9PiB0YXNrLnRhc2tJZCA9PSBleGlzdGluZ1Rhc2tJZCk7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Rhc2s7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlUHJvamVjdCA9IChpZCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9qZWN0TGlzdCA9IHByb2plY3RzLmZpbHRlcihwcm9qZWN0ID0+IHByb2plY3QuaWQgIT0gaWQpO1xuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9qZWN0TGlzdCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZVRhc2sgPSAoaWQsIHRhc2tJZCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RXaXRoVGFzayA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IGlkKTtcbiAgICAgICAgY29uc3QgYWxsVGFza3MgPSBwcm9qZWN0V2l0aFRhc2sudGFza3M7XG4gICAgICAgIC8vIEVhY2ggdGFzayBpcyBhbiBvYmplY3RcbiAgICAgICAgY29uc3QgdXBkYXRlZFRhc2tPYmogPSBhbGxUYXNrcy5maWx0ZXIodGFza09iaiA9PiB0YXNrT2JqLnRhc2tJZCAhPSB0YXNrSWQpO1xuICAgICAgICBwcm9qZWN0V2l0aFRhc2sudGFza3MgPSB1cGRhdGVkVGFza09iajtcblxuICAgICAgICBzYXZlUHJvamVjdChwcm9qZWN0V2l0aFRhc2spO1xuICAgIH1cblxuICAgIHJldHVybiB7IGdldFByb2plY3RzLCBnZXRUYXNrcywgc2F2ZVByb2plY3QsIGRlbGV0ZVByb2plY3QsIGRlbGV0ZVRhc2ssIGZpbmRUYXNrVG9VcGRhdGUsIHVwZGF0ZVRhc2sgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB1cGRhdGVTdG9yYWdlKCk7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWlyZWRBcmdzKHJlcXVpcmVkLCBhcmdzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCA8IHJlcXVpcmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihyZXF1aXJlZCArICcgYXJndW1lbnQnICsgKHJlcXVpcmVkID4gMSA/ICdzJyA6ICcnKSArICcgcmVxdWlyZWQsIGJ1dCBvbmx5ICcgKyBhcmdzLmxlbmd0aCArICcgcHJlc2VudCcpO1xuICB9XG59IiwiaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7IC8vIENsb25lIHRoZSBkYXRlXG5cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgYXJndW1lbnQgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0LmlvL2ZqdWxlXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG4gICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCkuc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHN0YXJ0IG9mIGEgZGF5XG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgZGF5IGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZkRheShuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBUdWUgU2VwIDAyIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mRGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGRhdGU7XG59IiwiaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSBcIi4uL3N0YXJ0T2ZEYXkvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGlzU2FtZURheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIGRheT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5P1xuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSBkYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIDA2OjAwOjAwIGFuZCA0IFNlcHRlbWJlciAxODowMDowMCBpbiB0aGUgc2FtZSBkYXk/XG4gKiB2YXIgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQsIDYsIDApLCBuZXcgRGF0ZSgyMDE0LCA4LCA0LCAxOCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1NhbWVEYXkoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZGlydHlEYXRlUmlnaHQpO1xuICByZXR1cm4gZGF0ZUxlZnRTdGFydE9mRGF5LmdldFRpbWUoKSA9PT0gZGF0ZVJpZ2h0U3RhcnRPZkRheS5nZXRUaW1lKCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9JbnRlZ2VyKGRpcnR5TnVtYmVyKSB7XG4gIGlmIChkaXJ0eU51bWJlciA9PT0gbnVsbCB8fCBkaXJ0eU51bWJlciA9PT0gdHJ1ZSB8fCBkaXJ0eU51bWJlciA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG5cbiAgdmFyIG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7XG5cbiAgaWYgKGlzTmFOKG51bWJlcikpIHtcbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG5cbiAgcmV0dXJuIG51bWJlciA8IDAgPyBNYXRoLmNlaWwobnVtYmVyKSA6IE1hdGguZmxvb3IobnVtYmVyKTtcbn0iLCJpbXBvcnQgdG9JbnRlZ2VyIGZyb20gXCIuLi9fbGliL3RvSW50ZWdlci9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbnZhciBNSUxMSVNFQ09ORFNfSU5fSE9VUiA9IDM2MDAwMDA7XG52YXIgTUlMTElTRUNPTkRTX0lOX01JTlVURSA9IDYwMDAwO1xudmFyIERFRkFVTFRfQURESVRJT05BTF9ESUdJVFMgPSAyO1xudmFyIHBhdHRlcm5zID0ge1xuICBkYXRlVGltZURlbGltaXRlcjogL1tUIF0vLFxuICB0aW1lWm9uZURlbGltaXRlcjogL1taIF0vaSxcbiAgdGltZXpvbmU6IC8oW1orLV0uKikkL1xufTtcbnZhciBkYXRlUmVnZXggPSAvXi0/KD86KFxcZHszfSl8KFxcZHsyfSkoPzotPyhcXGR7Mn0pKT98VyhcXGR7Mn0pKD86LT8oXFxkezF9KSk/fCkkLztcbnZhciB0aW1lUmVnZXggPSAvXihcXGR7Mn0oPzpbLixdXFxkKik/KSg/Ojo/KFxcZHsyfSg/OlsuLF1cXGQqKT8pKT8oPzo6PyhcXGR7Mn0oPzpbLixdXFxkKik/KSk/JC87XG52YXIgdGltZXpvbmVSZWdleCA9IC9eKFsrLV0pKFxcZHsyfSkoPzo6PyhcXGR7Mn0pKT8kLztcbi8qKlxuICogQG5hbWUgcGFyc2VJU09cbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgUGFyc2UgSVNPIHN0cmluZ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUGFyc2UgdGhlIGdpdmVuIHN0cmluZyBpbiBJU08gODYwMSBmb3JtYXQgYW5kIHJldHVybiBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIEZ1bmN0aW9uIGFjY2VwdHMgY29tcGxldGUgSVNPIDg2MDEgZm9ybWF0cyBhcyB3ZWxsIGFzIHBhcnRpYWwgaW1wbGVtZW50YXRpb25zLlxuICogSVNPIDg2MDE6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDFcbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXNuJ3QgYSBzdHJpbmcsIHRoZSBmdW5jdGlvbiBjYW5ub3QgcGFyc2UgdGhlIHN0cmluZyBvclxuICogdGhlIHZhbHVlcyBhcmUgaW52YWxpZCwgaXQgcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiAtIFRoZSBwcmV2aW91cyBgcGFyc2VgIGltcGxlbWVudGF0aW9uIHdhcyByZW5hbWVkIHRvIGBwYXJzZUlTT2AuXG4gKlxuICogICBgYGBqYXZhc2NyaXB0XG4gKiAgIC8vIEJlZm9yZSB2Mi4wLjBcbiAqICAgcGFyc2UoJzIwMTYtMDEtMDEnKVxuICpcbiAqICAgLy8gdjIuMC4wIG9ud2FyZFxuICogICBwYXJzZUlTTygnMjAxNi0wMS0wMScpXG4gKiAgIGBgYFxuICpcbiAqIC0gYHBhcnNlSVNPYCBub3cgdmFsaWRhdGVzIHNlcGFyYXRlIGRhdGUgYW5kIHRpbWUgdmFsdWVzIGluIElTTy04NjAxIHN0cmluZ3NcbiAqICAgYW5kIHJldHVybnMgYEludmFsaWQgRGF0ZWAgaWYgdGhlIGRhdGUgaXMgaW52YWxpZC5cbiAqXG4gKiAgIGBgYGphdmFzY3JpcHRcbiAqICAgcGFyc2VJU08oJzIwMTgtMTMtMzInKVxuICogICAvLz0+IEludmFsaWQgRGF0ZVxuICogICBgYGBcbiAqXG4gKiAtIGBwYXJzZUlTT2Agbm93IGRvZXNuJ3QgZmFsbCBiYWNrIHRvIGBuZXcgRGF0ZWAgY29uc3RydWN0b3JcbiAqICAgaWYgaXQgZmFpbHMgdG8gcGFyc2UgYSBzdHJpbmcgYXJndW1lbnQuIEluc3RlYWQsIGl0IHJldHVybnMgYEludmFsaWQgRGF0ZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHswfDF8Mn0gW29wdGlvbnMuYWRkaXRpb25hbERpZ2l0cz0yXSAtIHRoZSBhZGRpdGlvbmFsIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGV4dGVuZGVkIHllYXIgZm9ybWF0XG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHBhcnNlZCBkYXRlIGluIHRoZSBsb2NhbCB0aW1lIHpvbmVcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMuYWRkaXRpb25hbERpZ2l0c2AgbXVzdCBiZSAwLCAxIG9yIDJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCBzdHJpbmcgJzIwMTQtMDItMTFUMTE6MzA6MzAnIHRvIGRhdGU6XG4gKiB2YXIgcmVzdWx0ID0gcGFyc2VJU08oJzIwMTQtMDItMTFUMTE6MzA6MzAnKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCBzdHJpbmcgJyswMjAxNDEwMScgdG8gZGF0ZSxcbiAqIC8vIGlmIHRoZSBhZGRpdGlvbmFsIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGV4dGVuZGVkIHllYXIgZm9ybWF0IGlzIDE6XG4gKiB2YXIgcmVzdWx0ID0gcGFyc2VJU08oJyswMjAxNDEwMScsIHsgYWRkaXRpb25hbERpZ2l0czogMSB9KVxuICogLy89PiBGcmkgQXByIDExIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUlTTyhhcmd1bWVudCwgZGlydHlPcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgdmFyIGFkZGl0aW9uYWxEaWdpdHMgPSBvcHRpb25zLmFkZGl0aW9uYWxEaWdpdHMgPT0gbnVsbCA/IERFRkFVTFRfQURESVRJT05BTF9ESUdJVFMgOiB0b0ludGVnZXIob3B0aW9ucy5hZGRpdGlvbmFsRGlnaXRzKTtcblxuICBpZiAoYWRkaXRpb25hbERpZ2l0cyAhPT0gMiAmJiBhZGRpdGlvbmFsRGlnaXRzICE9PSAxICYmIGFkZGl0aW9uYWxEaWdpdHMgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYWRkaXRpb25hbERpZ2l0cyBtdXN0IGJlIDAsIDEgb3IgMicpO1xuICB9XG5cbiAgaWYgKCEodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpID09PSAnW29iamVjdCBTdHJpbmddJykpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxuXG4gIHZhciBkYXRlU3RyaW5ncyA9IHNwbGl0RGF0ZVN0cmluZyhhcmd1bWVudCk7XG4gIHZhciBkYXRlO1xuXG4gIGlmIChkYXRlU3RyaW5ncy5kYXRlKSB7XG4gICAgdmFyIHBhcnNlWWVhclJlc3VsdCA9IHBhcnNlWWVhcihkYXRlU3RyaW5ncy5kYXRlLCBhZGRpdGlvbmFsRGlnaXRzKTtcbiAgICBkYXRlID0gcGFyc2VEYXRlKHBhcnNlWWVhclJlc3VsdC5yZXN0RGF0ZVN0cmluZywgcGFyc2VZZWFyUmVzdWx0LnllYXIpO1xuICB9XG5cbiAgaWYgKGlzTmFOKGRhdGUpIHx8ICFkYXRlKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cblxuICB2YXIgdGltZXN0YW1wID0gZGF0ZS5nZXRUaW1lKCk7XG4gIHZhciB0aW1lID0gMDtcbiAgdmFyIG9mZnNldDtcblxuICBpZiAoZGF0ZVN0cmluZ3MudGltZSkge1xuICAgIHRpbWUgPSBwYXJzZVRpbWUoZGF0ZVN0cmluZ3MudGltZSk7XG5cbiAgICBpZiAoaXNOYU4odGltZSkgfHwgdGltZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGVTdHJpbmdzLnRpbWV6b25lKSB7XG4gICAgb2Zmc2V0ID0gcGFyc2VUaW1lem9uZShkYXRlU3RyaW5ncy50aW1lem9uZSk7XG5cbiAgICBpZiAoaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBkaXJ0eURhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXAgKyB0aW1lKTsgLy8ganMgcGFyc2VkIHN0cmluZyBhc3N1bWluZyBpdCdzIGluIFVUQyB0aW1lem9uZVxuICAgIC8vIGJ1dCB3ZSBuZWVkIGl0IHRvIGJlIHBhcnNlZCBpbiBvdXIgdGltZXpvbmVcbiAgICAvLyBzbyB3ZSB1c2UgdXRjIHZhbHVlcyB0byBidWlsZCBkYXRlIGluIG91ciB0aW1lem9uZS5cbiAgICAvLyBZZWFyIHZhbHVlcyBmcm9tIDAgdG8gOTkgbWFwIHRvIHRoZSB5ZWFycyAxOTAwIHRvIDE5OTlcbiAgICAvLyBzbyBzZXQgeWVhciBleHBsaWNpdGx5IHdpdGggc2V0RnVsbFllYXIuXG5cbiAgICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoMCk7XG4gICAgcmVzdWx0LnNldEZ1bGxZZWFyKGRpcnR5RGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkaXJ0eURhdGUuZ2V0VVRDTW9udGgoKSwgZGlydHlEYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgcmVzdWx0LnNldEhvdXJzKGRpcnR5RGF0ZS5nZXRVVENIb3VycygpLCBkaXJ0eURhdGUuZ2V0VVRDTWludXRlcygpLCBkaXJ0eURhdGUuZ2V0VVRDU2Vjb25kcygpLCBkaXJ0eURhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wICsgdGltZSArIG9mZnNldCk7XG59XG5cbmZ1bmN0aW9uIHNwbGl0RGF0ZVN0cmluZyhkYXRlU3RyaW5nKSB7XG4gIHZhciBkYXRlU3RyaW5ncyA9IHt9O1xuICB2YXIgYXJyYXkgPSBkYXRlU3RyaW5nLnNwbGl0KHBhdHRlcm5zLmRhdGVUaW1lRGVsaW1pdGVyKTtcbiAgdmFyIHRpbWVTdHJpbmc7IC8vIFRoZSByZWdleCBtYXRjaCBzaG91bGQgb25seSByZXR1cm4gYXQgbWF4aW11bSB0d28gYXJyYXkgZWxlbWVudHMuXG4gIC8vIFtkYXRlXSwgW3RpbWVdLCBvciBbZGF0ZSwgdGltZV0uXG5cbiAgaWYgKGFycmF5Lmxlbmd0aCA+IDIpIHtcbiAgICByZXR1cm4gZGF0ZVN0cmluZ3M7XG4gIH1cblxuICBpZiAoLzovLnRlc3QoYXJyYXlbMF0pKSB7XG4gICAgZGF0ZVN0cmluZ3MuZGF0ZSA9IG51bGw7XG4gICAgdGltZVN0cmluZyA9IGFycmF5WzBdO1xuICB9IGVsc2Uge1xuICAgIGRhdGVTdHJpbmdzLmRhdGUgPSBhcnJheVswXTtcbiAgICB0aW1lU3RyaW5nID0gYXJyYXlbMV07XG5cbiAgICBpZiAocGF0dGVybnMudGltZVpvbmVEZWxpbWl0ZXIudGVzdChkYXRlU3RyaW5ncy5kYXRlKSkge1xuICAgICAgZGF0ZVN0cmluZ3MuZGF0ZSA9IGRhdGVTdHJpbmcuc3BsaXQocGF0dGVybnMudGltZVpvbmVEZWxpbWl0ZXIpWzBdO1xuICAgICAgdGltZVN0cmluZyA9IGRhdGVTdHJpbmcuc3Vic3RyKGRhdGVTdHJpbmdzLmRhdGUubGVuZ3RoLCBkYXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRpbWVTdHJpbmcpIHtcbiAgICB2YXIgdG9rZW4gPSBwYXR0ZXJucy50aW1lem9uZS5leGVjKHRpbWVTdHJpbmcpO1xuXG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lID0gdGltZVN0cmluZy5yZXBsYWNlKHRva2VuWzFdLCAnJyk7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lem9uZSA9IHRva2VuWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lID0gdGltZVN0cmluZztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGF0ZVN0cmluZ3M7XG59XG5cbmZ1bmN0aW9uIHBhcnNlWWVhcihkYXRlU3RyaW5nLCBhZGRpdGlvbmFsRGlnaXRzKSB7XG4gIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ14oPzooXFxcXGR7NH18WystXVxcXFxkeycgKyAoNCArIGFkZGl0aW9uYWxEaWdpdHMpICsgJ30pfChcXFxcZHsyfXxbKy1dXFxcXGR7JyArICgyICsgYWRkaXRpb25hbERpZ2l0cykgKyAnfSkkKScpO1xuICB2YXIgY2FwdHVyZXMgPSBkYXRlU3RyaW5nLm1hdGNoKHJlZ2V4KTsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHllYXJcblxuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4ge1xuICAgIHllYXI6IG51bGxcbiAgfTtcbiAgdmFyIHllYXIgPSBjYXB0dXJlc1sxXSAmJiBwYXJzZUludChjYXB0dXJlc1sxXSk7XG4gIHZhciBjZW50dXJ5ID0gY2FwdHVyZXNbMl0gJiYgcGFyc2VJbnQoY2FwdHVyZXNbMl0pO1xuICByZXR1cm4ge1xuICAgIHllYXI6IGNlbnR1cnkgPT0gbnVsbCA/IHllYXIgOiBjZW50dXJ5ICogMTAwLFxuICAgIHJlc3REYXRlU3RyaW5nOiBkYXRlU3RyaW5nLnNsaWNlKChjYXB0dXJlc1sxXSB8fCBjYXB0dXJlc1syXSkubGVuZ3RoKVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZURhdGUoZGF0ZVN0cmluZywgeWVhcikge1xuICAvLyBJbnZhbGlkIElTTy1mb3JtYXR0ZWQgeWVhclxuICBpZiAoeWVhciA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjYXB0dXJlcyA9IGRhdGVTdHJpbmcubWF0Y2goZGF0ZVJlZ2V4KTsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHN0cmluZ1xuXG4gIGlmICghY2FwdHVyZXMpIHJldHVybiBudWxsO1xuICB2YXIgaXNXZWVrRGF0ZSA9ICEhY2FwdHVyZXNbNF07XG4gIHZhciBkYXlPZlllYXIgPSBwYXJzZURhdGVVbml0KGNhcHR1cmVzWzFdKTtcbiAgdmFyIG1vbnRoID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1syXSkgLSAxO1xuICB2YXIgZGF5ID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1szXSk7XG4gIHZhciB3ZWVrID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1s0XSk7XG4gIHZhciBkYXlPZldlZWsgPSBwYXJzZURhdGVVbml0KGNhcHR1cmVzWzVdKSAtIDE7XG5cbiAgaWYgKGlzV2Vla0RhdGUpIHtcbiAgICBpZiAoIXZhbGlkYXRlV2Vla0RhdGUoeWVhciwgd2VlaywgZGF5T2ZXZWVrKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRheU9mSVNPV2Vla1llYXIoeWVhciwgd2VlaywgZGF5T2ZXZWVrKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuXG4gICAgaWYgKCF2YWxpZGF0ZURhdGUoeWVhciwgbW9udGgsIGRheSkgfHwgIXZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICB9XG5cbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHllYXIsIG1vbnRoLCBNYXRoLm1heChkYXlPZlllYXIsIGRheSkpO1xuICAgIHJldHVybiBkYXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF0ZVVuaXQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gcGFyc2VJbnQodmFsdWUpIDogMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUaW1lKHRpbWVTdHJpbmcpIHtcbiAgdmFyIGNhcHR1cmVzID0gdGltZVN0cmluZy5tYXRjaCh0aW1lUmVnZXgpO1xuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4gbnVsbDsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHRpbWVcblxuICB2YXIgaG91cnMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzFdKTtcbiAgdmFyIG1pbnV0ZXMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzJdKTtcbiAgdmFyIHNlY29uZHMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzNdKTtcblxuICBpZiAoIXZhbGlkYXRlVGltZShob3VycywgbWludXRlcywgc2Vjb25kcykpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG5cbiAgcmV0dXJuIGhvdXJzICogTUlMTElTRUNPTkRTX0lOX0hPVVIgKyBtaW51dGVzICogTUlMTElTRUNPTkRTX0lOX01JTlVURSArIHNlY29uZHMgKiAxMDAwO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRpbWVVbml0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJiBwYXJzZUZsb2F0KHZhbHVlLnJlcGxhY2UoJywnLCAnLicpKSB8fCAwO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRpbWV6b25lKHRpbWV6b25lU3RyaW5nKSB7XG4gIGlmICh0aW1lem9uZVN0cmluZyA9PT0gJ1onKSByZXR1cm4gMDtcbiAgdmFyIGNhcHR1cmVzID0gdGltZXpvbmVTdHJpbmcubWF0Y2godGltZXpvbmVSZWdleCk7XG4gIGlmICghY2FwdHVyZXMpIHJldHVybiAwO1xuICB2YXIgc2lnbiA9IGNhcHR1cmVzWzFdID09PSAnKycgPyAtMSA6IDE7XG4gIHZhciBob3VycyA9IHBhcnNlSW50KGNhcHR1cmVzWzJdKTtcbiAgdmFyIG1pbnV0ZXMgPSBjYXB0dXJlc1szXSAmJiBwYXJzZUludChjYXB0dXJlc1szXSkgfHwgMDtcblxuICBpZiAoIXZhbGlkYXRlVGltZXpvbmUoaG91cnMsIG1pbnV0ZXMpKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuXG4gIHJldHVybiBzaWduICogKGhvdXJzICogTUlMTElTRUNPTkRTX0lOX0hPVVIgKyBtaW51dGVzICogTUlMTElTRUNPTkRTX0lOX01JTlVURSk7XG59XG5cbmZ1bmN0aW9uIGRheU9mSVNPV2Vla1llYXIoaXNvV2Vla1llYXIsIHdlZWssIGRheSkge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGlzb1dlZWtZZWFyLCAwLCA0KTtcbiAgdmFyIGZvdXJ0aE9mSmFudWFyeURheSA9IGRhdGUuZ2V0VVRDRGF5KCkgfHwgNztcbiAgdmFyIGRpZmYgPSAod2VlayAtIDEpICogNyArIGRheSArIDEgLSBmb3VydGhPZkphbnVhcnlEYXk7XG4gIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSArIGRpZmYpO1xuICByZXR1cm4gZGF0ZTtcbn0gLy8gVmFsaWRhdGlvbiBmdW5jdGlvbnNcbi8vIEZlYnJ1YXJ5IGlzIG51bGwgdG8gaGFuZGxlIHRoZSBsZWFwIHllYXIgKHVzaW5nIHx8KVxuXG5cbnZhciBkYXlzSW5Nb250aHMgPSBbMzEsIG51bGwsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcblxuZnVuY3Rpb24gaXNMZWFwWWVhckluZGV4KHllYXIpIHtcbiAgcmV0dXJuIHllYXIgJSA0MDAgPT09IDAgfHwgeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVEYXRlKHllYXIsIG1vbnRoLCBkYXRlKSB7XG4gIHJldHVybiBtb250aCA+PSAwICYmIG1vbnRoIDw9IDExICYmIGRhdGUgPj0gMSAmJiBkYXRlIDw9IChkYXlzSW5Nb250aHNbbW9udGhdIHx8IChpc0xlYXBZZWFySW5kZXgoeWVhcikgPyAyOSA6IDI4KSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpIHtcbiAgcmV0dXJuIGRheU9mWWVhciA+PSAxICYmIGRheU9mWWVhciA8PSAoaXNMZWFwWWVhckluZGV4KHllYXIpID8gMzY2IDogMzY1KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVXZWVrRGF0ZShfeWVhciwgd2VlaywgZGF5KSB7XG4gIHJldHVybiB3ZWVrID49IDEgJiYgd2VlayA8PSA1MyAmJiBkYXkgPj0gMCAmJiBkYXkgPD0gNjtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVUaW1lKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKSB7XG4gIGlmIChob3VycyA9PT0gMjQpIHtcbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCAmJiBzZWNvbmRzID09PSAwO1xuICB9XG5cbiAgcmV0dXJuIHNlY29uZHMgPj0gMCAmJiBzZWNvbmRzIDwgNjAgJiYgbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCAmJiBob3VycyA+PSAwICYmIGhvdXJzIDwgMjU7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVGltZXpvbmUoX2hvdXJzLCBtaW51dGVzKSB7XG4gIHJldHVybiBtaW51dGVzID49IDAgJiYgbWludXRlcyA8PSA1OTtcbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gXCIuLi90b0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCB0b0ludGVnZXIgZnJvbSBcIi4uL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEBwYXJhbSB7MHwxfDJ8M3w0fDV8Nn0gW29wdGlvbnMud2Vla1N0YXJ0c09uPTBdIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgKDAgLSBTdW5kYXkpXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHN0YXJ0IG9mIGEgd2Vla1xuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBTdW4gQXVnIDMxIDIwMTQgMDA6MDA6MDBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdGhlIHdlZWsgc3RhcnRzIG9uIE1vbmRheSwgdGhlIHN0YXJ0IG9mIHRoZSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gTW9uIFNlcCAwMSAyMDE0IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRPZldlZWsoZGlydHlEYXRlLCBkaXJ0eU9wdGlvbnMpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICB2YXIgbG9jYWxlID0gb3B0aW9ucy5sb2NhbGU7XG4gIHZhciBsb2NhbGVXZWVrU3RhcnRzT24gPSBsb2NhbGUgJiYgbG9jYWxlLm9wdGlvbnMgJiYgbG9jYWxlLm9wdGlvbnMud2Vla1N0YXJ0c09uO1xuICB2YXIgZGVmYXVsdFdlZWtTdGFydHNPbiA9IGxvY2FsZVdlZWtTdGFydHNPbiA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihsb2NhbGVXZWVrU3RhcnRzT24pO1xuICB2YXIgd2Vla1N0YXJ0c09uID0gb3B0aW9ucy53ZWVrU3RhcnRzT24gPT0gbnVsbCA/IGRlZmF1bHRXZWVrU3RhcnRzT24gOiB0b0ludGVnZXIob3B0aW9ucy53ZWVrU3RhcnRzT24pOyAvLyBUZXN0IGlmIHdlZWtTdGFydHNPbiBpcyBiZXR3ZWVuIDAgYW5kIDYgX2FuZF8gaXMgbm90IE5hTlxuXG4gIGlmICghKHdlZWtTdGFydHNPbiA+PSAwICYmIHdlZWtTdGFydHNPbiA8PSA2KSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd3ZWVrU3RhcnRzT24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDYgaW5jbHVzaXZlbHknKTtcbiAgfVxuXG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICB2YXIgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG4gIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGRpZmYpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgc3RhcnRPZldlZWsgZnJvbSBcIi4uL3N0YXJ0T2ZXZWVrL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzU2FtZVdlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVMZWZ0IC0gdGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEBwYXJhbSB7MHwxfDJ8M3w0fDV8Nn0gW29wdGlvbnMud2Vla1N0YXJ0c09uPTBdIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgKDAgLSBTdW5kYXkpXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSB3ZWVrXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAzMSBBdWd1c3QgMjAxNCBhbmQgNCBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSB3ZWVrP1xuICogdmFyIHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB3ZWVrIHN0YXJ0cyB3aXRoIE1vbmRheSxcbiAqIC8vIGFyZSAzMSBBdWd1c3QgMjAxNCBhbmQgNCBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSB3ZWVrP1xuICogdmFyIHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSwge1xuICogICB3ZWVrU3RhcnRzT246IDFcbiAqIH0pXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzU2FtZVdlZWsoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQsIGRpcnR5T3B0aW9ucykge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGVMZWZ0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkaXJ0eURhdGVMZWZ0LCBkaXJ0eU9wdGlvbnMpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkaXJ0eURhdGVSaWdodCwgZGlydHlPcHRpb25zKTtcbiAgcmV0dXJuIGRhdGVMZWZ0U3RhcnRPZldlZWsuZ2V0VGltZSgpID09PSBkYXRlUmlnaHRTdGFydE9mV2Vlay5nZXRUaW1lKCk7XG59IiwiaW1wb3J0IHsgdXBkYXRlUHJvamVjdExpc3QsIHVwZGF0ZUFjdGl2ZVRhYiwgYWRkUHJvamVjdFRvTm90ZXBhZCwgbG9hZFRhc2sgfSBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuaW1wb3J0IHVwZGF0ZVN0b3JhZ2UgZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgaXNUaGlzV2VlaywgaXNUb2RheSwgcGFyc2VJU08gfSBmcm9tIFwiZGF0ZS1mbnNcIjtcblxuY29uc3QgaGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgXG4gICAgY29uc3QgX3JlZnJlc2hQcm9qZWN0TGlzdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7IC8vIFVwZGF0ZSBwcm9qZWN0cyBpbiBzdG9yYWdlICAgICAgICBcbiAgICAgICAgX3NldFByb2plY3RMaXN0KHByb2plY3RzKTsgLy8gVXBkYXRlIHByb2plY3RzIG9uIERPTVxuICAgIH1cblxuICAgIGNvbnN0IF9zZXRQcm9qZWN0TGlzdCA9IChwcm9qZWN0cykgPT4ge1xuICAgICAgICB1cGRhdGVQcm9qZWN0TGlzdChwcm9qZWN0cyk7XG4gICAgfVxuXG4gICAgY29uc3QgX3NldEFjdGl2ZVRhYiA9ICh0YWIpID0+IHtcbiAgICAgICAgdXBkYXRlQWN0aXZlVGFiKHRhYik7XG4gICAgfVxuXG4gICAgY29uc3Qgb25Ib21lVGFiU2VsZWN0ID0gKHByb2plY3RzLCB0YWIpID0+IHtcbiAgICAgICAgbG9hZEFsbFByb2plY3RzKHByb2plY3RzKTsgIFxuICAgICAgICB1cGRhdGVBY3RpdmVUYWIodGFiKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb25Ub2RheVRhYlNlbGVjdCA9IChwcm9qZWN0cywgdGFiKSA9PiB7XG4gICAgICAgIGxvYWRBbGxQcm9qZWN0cyhwcm9qZWN0cyk7XG4gICAgICAgIC8vIEZpbHRlciBwcm9qZWN0cyB0aGF0IGhhdmUgdGFza3MgZHVlIHRvZGF5XG4gICAgICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXNrcyA9IHByb2plY3QudGFza3M7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvZGF5c1Rhc2tzID0gdGFza3MuZmlsdGVyKHRhc2sgPT4gZHVlVG9kYXkodGFzaykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBIaWRlIHByb2plY3QgY29udGFpbmVyIGlmIG5vIHRhc2tzIGR1ZSB0b2RheVxuICAgICAgICAgICAgaWYgKHRvZGF5c1Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZXBhZCcpXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IG5vdGVwYWQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdC1pZD1cIiR7cHJvamVjdC5pZH1cIl1gKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0Q29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGFza3MgdGhhdCBhcmUgbm90IGR1ZSB0b2RheSBmcm9tIERPTVxuICAgICAgICAgICAgY29uc3Qgbm90RHVlVG9kYXkgPSB0YXNrcy5maWx0ZXIodGFzayA9PiAhZHVlVG9kYXkodGFzaykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBub3REdWVUb2RheS5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWlkPVwiJHt0YXNrLnRhc2tJZH1cIl1gKTtcbiAgICAgICAgICAgICAgICBpZiAodGFza0NvbnRhaW5lcikgdGFza0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlQWN0aXZlVGFiKHRhYik7XG4gICAgfVxuXG4gICAgY29uc3QgZHVlVG9kYXkgPSAodGFzaykgPT4ge1xuICAgICAgICBpZiAoaXNUb2RheShwYXJzZUlTTyh0YXNrLmR1ZURhdGUpKSkgcmV0dXJuIHRhc2s7XG4gICAgfVxuXG4gICAgY29uc3Qgb25UaGlzV2Vla1RhYlNlbGVjdCA9IChwcm9qZWN0cywgdGFiKSA9PiB7XG4gICAgICAgIGxvYWRBbGxQcm9qZWN0cyhwcm9qZWN0cyk7XG5cbiAgICAgICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gcHJvamVjdC50YXNrcztcbiAgICAgICAgICAgIGNvbnN0IHRoaXNXZWVrc1Rhc2tzID0gdGFza3MuZmlsdGVyKHRhc2sgPT4gZHVlVGhpc1dlZWsodGFzaykpO1xuXG4gICAgICAgICAgICAvLyBIaWRlIHByb2plY3QgY29udGFpbmVyIGlmIG5vIHRhc2tzIGR1ZSB0aGlzIHdlZWtcbiAgICAgICAgICAgIGlmICh0aGlzV2Vla3NUYXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGVwYWQnKVxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke3Byb2plY3QuaWR9XCJdYCk7XG4gICAgICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRhc2tzIHRoYXQgYXJlIG5vdCBkdWUgdGhpcyB3ZWVrIGZyb20gRE9NXG4gICAgICAgICAgICBjb25zdCBub3REdWVUaGlzV2VlayA9IHRhc2tzLmZpbHRlcih0YXNrID0+ICFkdWVUaGlzV2Vlayh0YXNrKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5vdER1ZVRoaXNXZWVrLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staWQ9XCIke3Rhc2sudGFza0lkfVwiXWApO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrQ29udGFpbmVyKSB0YXNrQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyAgIFxuICAgICAgICB1cGRhdGVBY3RpdmVUYWIodGFiKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdWVUaGlzV2VlayA9ICh0YXNrKSA9PiB7XG4gICAgICAgIGlmIChpc1RoaXNXZWVrKHBhcnNlSVNPKHRhc2suZHVlRGF0ZSkpKSByZXR1cm4gdGFzaztcbiAgICB9XG5cbiAgICBjb25zdCBsb2FkQWxsUHJvamVjdHMgPSAocHJvamVjdHMpID0+IHtcbiAgICAgICAgY2xlYXJQcm9qZWN0c0Zyb21ET00oKTtcbiAgICAgICAgY29uc3Qgbm90ZXBhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlcGFkJyk7XG4gICAgICAgIFxuICAgICAgICBwcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICAgICAgYWRkUHJvamVjdFRvTm90ZXBhZChwcm9qZWN0LmlkKTtcblxuICAgICAgICAgICAgY29uc3QgcHJvamVjdFRhc2tzID0gcHJvamVjdC50YXNrcztcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke3Byb2plY3QuaWR9XCJdYCk7XG4gICAgICAgICAgICBjb25zdCB0YXNrc0xpc3QgPSBwcm9qZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7XG4gICAgICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gcHJvamVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2snKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvamVjdFRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1RvQWRkID0gbG9hZFRhc2sodGFzayk7XG4gICAgICAgICAgICAgICAgdGFza3NMaXN0Lmluc2VydEJlZm9yZSh0YXNrVG9BZGQsIGFkZFRhc2tCdG4ucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSAgXG5cbiAgICBjb25zdCBjbGVhclByb2plY3RzRnJvbURPTSA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgd3JpdGluZ0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JpdGluZy1hcmVhJyk7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gd3JpdGluZ0FyZWEucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QnKTtcbiAgICAgICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHByb2plY3QucmVtb3ZlKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uUHJvamVjdFNlbGVjdCA9IChwcm9qZWN0SWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RPYmplY3QgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPScke3Byb2plY3RPYmplY3QuaWR9J11gKTtcbiAgICAgICAgX3NldEFjdGl2ZVRhYihzZWxlY3RlZFByb2plY3QpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uUHJvamVjdEFkZCA9IChwcm9qZWN0TmFtZSkgPT4ge1xuICAgICAgICAvLyBwYXNzIHVzZXIgaW5wdXQgaW50byBmdW5jdGlvblxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gIHtcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0TmFtZSxcbiAgICAgICAgICAgIHRhc2tzOiBbXVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2Uuc2F2ZVByb2plY3QobmV3UHJvamVjdCk7XG4gICAgICAgIC8vIGFkZCBpbnB1dCB0byBwYWdlXG4gICAgICAgIF9yZWZyZXNoUHJvamVjdExpc3QoKTtcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdERPTUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPScke25ld1Byb2plY3QuaWR9J11gKTtcbiAgICAgICAgX3NldEFjdGl2ZVRhYihuZXdQcm9qZWN0RE9NRWxlbWVudCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9uVGFza0FkZCA9ICh0YXNrLCBpZCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYXNrID0ge1xuICAgICAgICAgICAgaXRlbTogdGFzaywgXG4gICAgICAgICAgICB0YXNrSWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgICAgICAgICAgZHVlRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGlzQ29tcGxldGU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RUb1VwZGF0ZSA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IGlkKTtcbiAgICAgICAgcHJvamVjdFRvVXBkYXRlLnRhc2tzLnB1c2gobmV3VGFzayk7XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2Uuc2F2ZVByb2plY3QocHJvamVjdFRvVXBkYXRlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXdUYXNrO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBvblByb2plY3ROYW1lRWRpdCA9IChwcm9qZWN0SWQsIHByb2plY3ROYW1lLCB0YXNrcyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0VGFza3MocHJvamVjdElkKSkgPT4ge1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnNhdmVQcm9qZWN0KHtcbiAgICAgICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICAgICAgICBwcm9qZWN0TmFtZTogcHJvamVjdE5hbWUsXG4gICAgICAgICAgICB0YXNrczogdGFza3NcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3JlZnJlc2hQcm9qZWN0TGlzdCgpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uVGFza05hbWVFZGl0ID0gKHByb2plY3RJZCwgdGFza0lkLCBuZXdUYXNrTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogbmV3VGFza05hbWUsXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBleGlzdGluZ1Rhc2sucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgZHVlRGF0ZTogZXhpc3RpbmdUYXNrLmR1ZURhdGUsXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogZXhpc3RpbmdUYXNrLmlzQ29tcGxldGVcbiAgICAgICAgICAgIH0pOyAgXG4gICAgfVxuXG4gICAgY29uc3Qgb25UYXNrUHJpb3JpdHlFZGl0ID0gKHByb2plY3RJZCwgdGFza0lkLCBuZXdQcmlvcml0eSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogZXhpc3RpbmdUYXNrLml0ZW0sXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBuZXdQcmlvcml0eSxcbiAgICAgICAgICAgICAgICBkdWVEYXRlOiBleGlzdGluZ1Rhc2suZHVlRGF0ZSxcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBleGlzdGluZ1Rhc2suaXNDb21wbGV0ZVxuICAgICAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICBjb25zdCBvblRhc2tEdWVEYXRlRWRpdCA9IChwcm9qZWN0SWQsIHRhc2tJZCwgbmV3RHVlRGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogZXhpc3RpbmdUYXNrLml0ZW0sXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBleGlzdGluZ1Rhc2sucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgZHVlRGF0ZTogbmV3RHVlRGF0ZSxcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBleGlzdGluZ1Rhc2suaXNDb21wbGV0ZVxuICAgICAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICBjb25zdCBvblRhc2tDb21wbGV0ZUVkaXQgPSAocHJvamVjdElkLCB0YXNrSWQsIGlzQ29tcGxldGUpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gdXBkYXRlU3RvcmFnZS5maW5kVGFza1RvVXBkYXRlKHByb2plY3RJZCwgdGFza0lkKTtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS51cGRhdGVUYXNrKHByb2plY3RJZCwge1xuICAgICAgICAgICAgICAgIGl0ZW06IGV4aXN0aW5nVGFzay5pdGVtLFxuICAgICAgICAgICAgICAgIHRhc2tJZDogZXhpc3RpbmdUYXNrLnRhc2tJZCxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogZXhpc3RpbmdUYXNrLnByaW9yaXR5LFxuICAgICAgICAgICAgICAgIGR1ZURhdGU6IGV4aXN0aW5nVGFzay5kdWVEYXRlLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGlzQ29tcGxldGVcbiAgICAgICAgICAgIH0pOyAgXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb25Qcm9qZWN0U2VsZWN0LCBvblByb2plY3RBZGQsIG9uUHJvamVjdE5hbWVFZGl0LCBvblRhc2tBZGQsIG9uVGFza05hbWVFZGl0LCBvblRhc2tQcmlvcml0eUVkaXQsIG9uVGFza0R1ZURhdGVFZGl0LCBvblRhc2tDb21wbGV0ZUVkaXQsIG9uSG9tZVRhYlNlbGVjdCwgb25Ub2RheVRhYlNlbGVjdCwgb25UaGlzV2Vla1RhYlNlbGVjdCB9XG4gICAgXG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXJzKCk7IiwiaW1wb3J0IGlzU2FtZURheSBmcm9tIFwiLi4vaXNTYW1lRGF5L2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBpc1RvZGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IElzIHRoZSBnaXZlbiBkYXRlIHRvZGF5P1xuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIElzIHRoZSBnaXZlbiBkYXRlIHRvZGF5P1xuICpcbiAqID4g4pqg77iPIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBub3QgcHJlc2VudCBpbiB0aGUgRlAgc3VibW9kdWxlIGFzXG4gKiA+IGl0IHVzZXMgYERhdGUubm93KClgIGludGVybmFsbHkgaGVuY2UgaW1wdXJlIGFuZCBjYW4ndCBiZSBzYWZlbHkgY3VycmllZC5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlIGlzIHRvZGF5XG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgNiBPY3RvYmVyIDIwMTQsIGlzIDYgT2N0b2JlciAxNDowMDowMCB0b2RheT9cbiAqIHZhciByZXN1bHQgPSBpc1RvZGF5KG5ldyBEYXRlKDIwMTQsIDksIDYsIDE0LCAwKSlcbiAqIC8vPT4gdHJ1ZVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVG9kYXkoZGlydHlEYXRlKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICByZXR1cm4gaXNTYW1lRGF5KGRpcnR5RGF0ZSwgRGF0ZS5ub3coKSk7XG59IiwiaW1wb3J0IGlzU2FtZVdlZWsgZnJvbSBcIi4uL2lzU2FtZVdlZWsvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNUaGlzV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIGRhdGUgaW4gdGhlIHNhbWUgd2VlayBhcyB0aGUgY3VycmVudCBkYXRlP1xuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIElzIHRoZSBnaXZlbiBkYXRlIGluIHRoZSBzYW1lIHdlZWsgYXMgdGhlIGN1cnJlbnQgZGF0ZT9cbiAqXG4gKiA+IOKaoO+4jyBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgbm90IHByZXNlbnQgaW4gdGhlIEZQIHN1Ym1vZHVsZSBhc1xuICogPiBpdCB1c2VzIGBEYXRlLm5vdygpYCBpbnRlcm5hbGx5IGhlbmNlIGltcHVyZSBhbmQgY2FuJ3QgYmUgc2FmZWx5IGN1cnJpZWQuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSB0aGUgb2JqZWN0IHdpdGggb3B0aW9uc1xuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcGFyYW0gezB8MXwyfDN8NHw1fDZ9IFtvcHRpb25zLndlZWtTdGFydHNPbj0wXSAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwIC0gU3VuZGF5KVxuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlIGlzIGluIHRoaXMgd2Vla1xuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDI1IFNlcHRlbWJlciAyMDE0LCBpcyAyMSBTZXB0ZW1iZXIgMjAxNCBpbiB0aGlzIHdlZWs/XG4gKiB2YXIgcmVzdWx0ID0gaXNUaGlzV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyMSkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgMjUgU2VwdGVtYmVyIDIwMTQgYW5kIHdlZWsgc3RhcnRzIHdpdGggTW9uZGF5XG4gKiAvLyBpcyAyMSBTZXB0ZW1iZXIgMjAxNCBpbiB0aGlzIHdlZWs/XG4gKiB2YXIgcmVzdWx0ID0gaXNUaGlzV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyMSksIHsgd2Vla1N0YXJ0c09uOiAxIH0pXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVGhpc1dlZWsoZGlydHlEYXRlLCBvcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICByZXR1cm4gaXNTYW1lV2VlayhkaXJ0eURhdGUsIERhdGUubm93KCksIG9wdGlvbnMpO1xufSIsImltcG9ydCBoYW5kbGVycyBmcm9tIFwiLi9oYW5kbGVyc1wiXG5pbXBvcnQgdXBkYXRlU3RvcmFnZSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cbi8vIERPTSBFbGVtZW50cyBGYWN0b3J5IEZ1bmN0aW9uXG5jb25zdCBjcmVhdGVFbGVtZW50cyA9ICgpID0+IHtcbiAgICBcbiAgICBjb25zdCBjcmVhdGVMaXN0RWxlbWVudCA9IChodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgaHRtbENsYXNzKTtcbiAgICAgICAgcmV0dXJuIGxpO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZVNwYW5FbGVtZW50ID0gKGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoaHRtbENsYXNzKTtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlSW1hZ2VFbGVtZW50ID0gKHNyYywgaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChodG1sQ2xhc3MpO1xuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpO1xuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAnZmFsc2UnKTtcbiAgICAgICAgcmV0dXJuIGltZztcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY3JlYXRlRm9ybSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXRGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICByZXR1cm4gaW5wdXRGb3JtO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZUlucHV0RmllbGQgPSAocGxhY2Vob2xkZXJUZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHBsYWNlaG9sZGVyVGV4dCk7XG4gICAgICAgIHVzZXJJbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3VzZXItaW5wdXQnKTtcbiAgICAgICAgdXNlcklucHV0LnJlcXVpcmVkID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdXNlcklucHV0O1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZURpdiA9IChodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgaHRtbENsYXNzKTtcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG5cbiAgICByZXR1cm4ge2NyZWF0ZUxpc3RFbGVtZW50LCBjcmVhdGVTcGFuRWxlbWVudCwgY3JlYXRlSW1hZ2VFbGVtZW50LCBjcmVhdGVJbnB1dEZpZWxkLCBjcmVhdGVGb3JtLCBjcmVhdGVEaXZ9XG59XG5cbmNvbnN0IGNyZWF0ZUljb25TcGFuID0gKCkgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgY29uc3QgaWNvblNwYW4gPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCdpY29ucycpO1xuICAgIGNvbnN0IGVkaXRJY29uID0gdmlldy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9lZGl0LWljb24uc3ZnJywgJ2VkaXQtaWNvbicpO1xuICAgIGNvbnN0IGRlbGV0ZUljb24gPSB2aWV3LmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2RlbGV0ZS1pY29uLnN2ZycsICdkZWxldGUtaWNvbicpO1xuICAgIFxuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ2VkaXQtcHJvamVjdCcpO1xuICAgIGRlbGV0ZUljb24uY2xhc3NMaXN0LmFkZCgnZGVsZXRlLXByb2plY3QnKTtcbiAgICBcbiAgICBpY29uU3Bhbi5hcHBlbmQoZWRpdEljb24sIGRlbGV0ZUljb24pO1xuICAgIFxuICAgIHJldHVybiBpY29uU3Bhbjtcbn1cblxuY29uc3QgYWRkUHJvamVjdFRvU2lkZWJhciA9ICgpID0+IHtcbiAgICBjb25zdCB2aWV3ID0gY3JlYXRlRWxlbWVudHMoKTtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcblxuICAgIGNvbnN0IHByb2plY3RMaXN0RWxlbWVudCA9ICB2aWV3LmNyZWF0ZUxpc3RFbGVtZW50KCdwcm9qZWN0LWl0ZW0nKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SW5wdXRGb3JtID0gdmlldy5jcmVhdGVGb3JtKCk7XG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IHZpZXcuY3JlYXRlSW5wdXRGaWVsZCgnUHJvamVjdCBuYW1lLi4uJyk7XG4gICAgcHJvamVjdElucHV0Rm9ybS5hcHBlbmQocHJvamVjdE5hbWVJbnB1dCk7XG5cbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZUljb25TcGFuKCk7XG4gICAgcHJvamVjdExpc3RFbGVtZW50LmFwcGVuZChwcm9qZWN0SW5wdXRGb3JtLCBpY29uU3Bhbik7XG4gICAgcHJvamVjdHNDb250YWluZXIuaW5zZXJ0QmVmb3JlKHByb2plY3RMaXN0RWxlbWVudCwgcHJvamVjdHNDb250YWluZXIubGFzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcHJvamVjdE5hbWVJbnB1dC5mb2N1cygpO1xuICAgIH0sIDApO1xufVxuXG5jb25zdCBhZGRQcm9qZWN0VG9Ob3RlcGFkID0gKHByb2plY3RJZCkgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgY29uc3QgcHJvamVjdFRvQWRkID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdElkKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RUb0FkZC5wcm9qZWN0TmFtZTtcblxuICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JpdGluZy1hcmVhJyk7XG4gICAgY29uc3QgcHJvamVjdERpdiA9IHZpZXcuY3JlYXRlRGl2KCdwcm9qZWN0Jyk7XG4gICAgcHJvamVjdERpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIHByb2plY3RJZCk7XG4gICAgY29uc3Qgc2tpcExpbmUgPSB2aWV3LmNyZWF0ZURpdignc2tpcC1saW5lJyk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdEhlYWRpbmcgPSB2aWV3LmNyZWF0ZURpdigncHJvamVjdC1oZWFkaW5nJyk7XG4gICAgY29uc3QgaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIGgyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbm90ZXBhZC10ZXh0Jyk7XG4gICAgaDIudGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZTtcbiAgICBjb25zdCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgaDMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlcGFkLXRleHQnKTtcbiAgICBoMy50ZXh0Q29udGVudCA9ICdEdWUgRGF0ZSc7XG4gICAgICAgIFxuICAgIGNvbnN0IHRhc2tzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICB0YXNrc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdub3RlcGFkLXRleHQnLCAndG9kb3MnKTtcblxuICAgIGNvbnN0IGFkZFRhc2tMaXN0RWxlbWVudCA9IHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Rhc2snKTtcbiAgICBjb25zdCBhZGRUYXNrU3BhbiA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ2FkZC10YXNrJyk7XG4gICAgY29uc3QgYWRkSWNvbiA9IHZpZXcuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvYWRkLWljb24uc3ZnJywgJ2FkZC1pY29uJyk7XG4gICAgYWRkVGFza1NwYW4uYXBwZW5kKGFkZEljb24sICdBZGQgVGFzaycpO1xuXG4gICAgYWRkVGFza0xpc3RFbGVtZW50LmFwcGVuZChhZGRUYXNrU3Bhbik7XG4gICAgdGFza3NDb250YWluZXIuYXBwZW5kKGFkZFRhc2tMaXN0RWxlbWVudCwgc2tpcExpbmUpO1xuICAgIHByb2plY3RIZWFkaW5nLmFwcGVuZChoMiwgaDMpO1xuICAgIHByb2plY3REaXYuYXBwZW5kKHByb2plY3RIZWFkaW5nLCB0YXNrc0NvbnRhaW5lcik7XG4gICAgbm90ZXBhZC5hcHBlbmQocHJvamVjdERpdik7XG59XG5cbmNvbnN0IGFkZER1ZURhdGVUb0RPTSA9ICgpID0+IHtcbiAgICBjb25zdCBkdWVEYXRlU3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ2R1ZS1kYXRlJyk7XG5cbiAgICBjb25zdCBwcmlvcml0eUljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL3ByaW9yaXR5LWljb24uc3ZnJywgJ3ByaW9yaXR5LWljb24nKVxuICAgIHByaW9yaXR5SWNvbi5jbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1sb3cnKTtcbiAgICBcbiAgICBjb25zdCBkYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGRhdGVMYWJlbC5jbGFzc0xpc3QuYWRkKCdkYXRlLWxhYmVsJyk7XG4gICAgXG4gICAgY29uc3QgZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2RhdGUnKTtcbiAgICBkYXRlSW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuXG4gICAgY29uc3QgY2FsZW5kYXJJY29uID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9jYWxlbmRhci1pY29uLnN2ZycsICdjYWxlbmRhci1pY29uJyk7XG5cbiAgICBkYXRlTGFiZWwuYXBwZW5kKGRhdGVJbnB1dCwgY2FsZW5kYXJJY29uKTtcbiAgICBkdWVEYXRlU3Bhbi5hcHBlbmQocHJpb3JpdHlJY29uLCBkYXRlTGFiZWwpO1xuICAgIFxuICAgIC8vIHVwZGF0ZSBsb2NhbFN0b3JhZ2Ugb24gZHVlIGRhdGUgY2hhbmdlXG4gICAgZGF0ZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gZGF0ZUlucHV0LmNsb3Nlc3QoJy5wcm9qZWN0JykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGRhdGVJbnB1dC5jbG9zZXN0KCdbZGF0YS10YXNrLWlkXScpLmRhdGFzZXQudGFza0lkO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZGF0ZUlucHV0LnZhbHVlO1xuXG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tEdWVEYXRlRWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgbmV3RHVlRGF0ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZHVlRGF0ZVNwYW47XG59XG5cbi8vIGNyZWF0ZXMgSFRNTCBmb3IgcHJvamVjdCBpdGVtcyBpbiBzaWRlYmFyIGZyb20gbG9jYWxTdG9yYWdlIGl0ZW1cbmNvbnN0IF9jcmVhdGVQcm9qZWN0SXRlbUhUTUwgPSAoaWQsIG5hbWUpID0+IHtcbiAgICBjb25zdCB2aWV3ID0gY3JlYXRlRWxlbWVudHMoKTtcblxuICAgIGNvbnN0IHByb2plY3RJdGVtID0gdmlldy5jcmVhdGVMaXN0RWxlbWVudCgncHJvamVjdC1pdGVtJyk7XG4gICAgcHJvamVjdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnLCBpZCk7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCdwcm9qZWN0LW5hbWUnKTtcbiAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVJY29uU3BhbigpO1xuXG4gICAgcHJvamVjdEl0ZW0uYXBwZW5kKHByb2plY3ROYW1lLCBpY29uU3Bhbik7XG5cbiAgICByZXR1cm4gcHJvamVjdEl0ZW07XG59XG4vLyBVcGRhdGVzIHByb2plY3QgbGlzdCBpbiB0aGUgc2lkZWJhciBcbmNvbnN0IHVwZGF0ZVByb2plY3RMaXN0ID0gKHByb2plY3RzKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdHNMaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcHJvamVjdF0nKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbGwgZWxlbWVudHMgb2YgY2xhc3MgJy5wcm9qZWN0LWl0ZW0nXG4gICAgY29uc3QgcHJvamVjdHNBcnJheSA9IFtdLnNsaWNlLmNhbGwocHJvamVjdHNMaXN0Q29udGFpbmVyLmNoaWxkcmVuKTtcbiAgICBwcm9qZWN0c0FycmF5LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygncHJvamVjdC1pdGVtJykpIGl0ZW0ucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICBmb3IgKGNvbnN0IHByb2plY3Qgb2YgcHJvamVjdHMpIHtcbiAgICAgICAgY29uc3QgaHRtbCA9IF9jcmVhdGVQcm9qZWN0SXRlbUhUTUwocHJvamVjdC5pZCwgcHJvamVjdC5wcm9qZWN0TmFtZSk7XG4gICAgICAgIHByb2plY3RzTGlzdENvbnRhaW5lci5pbnNlcnRCZWZvcmUoaHRtbCwgYWRkUHJvamVjdEJ0bik7XG4gICAgfVxuXG4gICAgLy8gQWRkIGxpc3RlbmVycyBmb3IgZWRpdCwgZGVsZXRlID8/Pz9cbiAgICBwcm9qZWN0c0xpc3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QtaXRlbScpLmZvckVhY2gocHJvamVjdEl0ZW0gPT4ge1xuICAgICAgICBwcm9qZWN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdFNlbGVjdChwcm9qZWN0SXRlbS5kYXRhc2V0LnByb2plY3RJZCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5jb25zdCBsb2FkVGFzayA9ICAodGFza09iaikgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgY29uc3QgdGFzayA9IHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Rhc2snKTtcbiAgICB0YXNrLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrLWlkJywgdGFza09iai50YXNrSWQpO1xuXG4gICAgY29uc3QgdGFza0l0ZW0gPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLWl0ZW0nKTtcbiAgICBcbiAgICBjb25zdCB0YXNrTmFtZVNwYW4gPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLXRleHQnKTtcbiAgICB0YXNrTmFtZVNwYW4udGV4dENvbnRlbnQgPSB0YXNrT2JqLml0ZW07XG4gICAgXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVJY29uU3BhbigpO1xuICAgIHRhc2tJdGVtLmFwcGVuZCh0YXNrTmFtZVNwYW4sIGljb25TcGFuKTtcbiAgIFxuICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gYWRkRHVlRGF0ZVRvRE9NKCk7XG5cbiAgICBjb25zdCBwcmlvcml0eUljb24gPSBkdWVEYXRlU3Bhbi5xdWVyeVNlbGVjdG9yKCcucHJpb3JpdHktaWNvbicpO1xuICAgIHByaW9yaXR5SWNvbi5jbGFzc0xpc3QuYWRkKGBwcmlvcml0eS0ke3Rhc2tPYmoucHJpb3JpdHl9YCk7XG4gICAgXG4gICAgY29uc3QgZGF0ZUlucHV0ID0gZHVlRGF0ZVNwYW4ucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBkYXRlSW5wdXQudmFsdWUgPSB0YXNrT2JqLmR1ZURhdGU7XG4gIFxuICAgIGlmICh0YXNrT2JqLmlzQ29tcGxldGUpIHRhc2suY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkJyk7XG5cbiAgICB0YXNrLmFwcGVuZCh0YXNrSXRlbSwgZHVlRGF0ZVNwYW4pO1xuXG4gICAgcmV0dXJuIHRhc2s7XG59XG5cbmNvbnN0IHVwZGF0ZUFjdGl2ZVRhYiA9ICh0YWIpID0+IHtcbiAgICAvLyBmb3IgYWxsIG90aGVyIHByb2plY3RzLCBjaGFuZ2UgZGlzcGxheSB0byBub25lLCB0byBicmluZyBiYWNrIHNldCBkaXNwbGF5IHRvIGNvbnRlbnRzICBcbiAgICAgICAgLy8gaXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgLy8gcmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFueSBvdGhlciBzaWRlYmFyIGVsZW1lbnRcbiAgICBjb25zdCBjdXJyZW50QWN0aXZlVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpO1xuICAgIGlmIChjdXJyZW50QWN0aXZlVGFiKSBjdXJyZW50QWN0aXZlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZVNwYW4gPSB0YWIuY2hpbGRyZW4uaXRlbSgwKTsgLy8gVXBkYXRlIG5vdGVwYWQgaGVyZT9cbiAgICAvL2NvbnNvbGUubG9nKHByb2plY3ROYW1lU3Bhbik7XG59XG5cbmV4cG9ydCB7IGFkZFByb2plY3RUb1NpZGViYXIsIGFkZFByb2plY3RUb05vdGVwYWQsIGFkZER1ZURhdGVUb0RPTSwgY3JlYXRlRWxlbWVudHMsIHVwZGF0ZVByb2plY3RMaXN0LCB1cGRhdGVBY3RpdmVUYWIsIGxvYWRUYXNrIH07IiwiaW1wb3J0IHsgYWRkUHJvamVjdFRvU2lkZWJhciwgYWRkUHJvamVjdFRvTm90ZXBhZCwgY3JlYXRlRWxlbWVudHMgfSBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuaW1wb3J0IGhhbmRsZXJzIGZyb20gXCIuL2hhbmRsZXJzXCI7XG5pbXBvcnQgdXBkYXRlU3RvcmFnZSBmcm9tIFwiLi9zdG9yYWdlXCJcblxuY29uc3QgYXdhaXRpbmdJbnB1dCA9ICgpID0+IHtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIGlmICh1c2VySW5wdXQgIT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmNvbnN0IGhhbmRsZVVzZXJJbnB1dCA9ICgpID0+IHsgXG4gICAgLy8gVGhpcyBpcyBET00gU3R1ZmZcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpXG4gICAgY29uc3QgaW5wdXRGb3JtID0gdXNlcklucHV0LnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBwcm9qZWN0U3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ3Byb2plY3QtbmFtZScpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3ROYW1lID0gdXNlcklucHV0LnZhbHVlLnRyaW0oKTtcbiAgICBpZiAoIXByb2plY3ROYW1lKSByZXR1cm47XG5cbiAgICBwcm9qZWN0U3Bhbi50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgIHVzZXJJbnB1dC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHByb2plY3RJdGVtLmluc2VydEJlZm9yZShwcm9qZWN0U3BhbiwgcHJvamVjdEl0ZW0uY2hpbGROb2Rlc1swXSk7IFxufVxuXG5jb25zdCBhZGRQcm9qZWN0ID0gKCkgPT4ge1xuICAgIGlmIChhd2FpdGluZ0lucHV0KCkpIHJldHVybjtcbiAgICBhZGRQcm9qZWN0VG9TaWRlYmFyKCk7XG4gICAgXG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKTtcbiAgICBjb25zdCBpbnB1dEZvcm0gPSB1c2VySW5wdXQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGlucHV0Rm9ybS5wYXJlbnRFbGVtZW50O1xuXG4gICAgdXNlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh1c2VySW5wdXQudmFsdWUudHJpbSgpID09ICcnKSB7XG4gICAgICAgICAgICBwcm9qZWN0SXRlbS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVVc2VySW5wdXQoKTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RJdGVtLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xuICAgICAgICBoYW5kbGVycy5vblByb2plY3RBZGQocHJvamVjdE5hbWUpOyBcblxuICAgICAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcbiAgICAgICAgLy8gU2VsZWN0IGxhc3QgcHJvamVjdCBhZGRlZCBhbmQgZ2V0IGlkIGF0dHJpYnV0ZVxuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBwcm9qZWN0TGlzdC5jaGlsZHJlbltwcm9qZWN0TGlzdC5jaGlsZEVsZW1lbnRDb3VudCAtIDJdLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJyk7XG4gICAgICAgIGlmICghYXdhaXRpbmdJbnB1dCgpKSBhZGRQcm9qZWN0VG9Ob3RlcGFkKHByb2plY3RJZCk7XG4gICAgfSk7XG5cbiAgICBpbnB1dEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBoYW5kbGVVc2VySW5wdXQoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBwcm9qZWN0SXRlbS5maXJzdEVsZW1lbnRDaGlsZC50ZXh0Q29udGVudDtcbiAgICAgICAgaGFuZGxlcnMub25Qcm9qZWN0QWRkKHByb2plY3ROYW1lKTsgXG4gICAgICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBwcm9qZWN0TGlzdC5jaGlsZHJlbltwcm9qZWN0TGlzdC5jaGlsZEVsZW1lbnRDb3VudCAtIDJdLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJyk7XG4gICAgICAgIGlmICghYXdhaXRpbmdJbnB1dCgpKSBhZGRQcm9qZWN0VG9Ob3RlcGFkKHByb2plY3RJZCk7XG4gICAgfSk7XG59XG5cbmNvbnN0IGRlbGV0ZVByb2plY3QgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG4gICAgcHJvamVjdExpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLmRlbGV0ZS1wcm9qZWN0JykpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvRGVsZXRlID0gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHByb2plY3QgYW5kIGFsbCBpdHMgdGFza3M/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuJyk7XG4gICAgICAgICAgICBpZiAoIWRvRGVsZXRlKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9qZWN0LWlkXScpLmRhdGFzZXQucHJvamVjdElkO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtcHJvamVjdC1pZD1cIiR7cHJvamVjdElkfVwiXWApO1xuICAgICAgICAgICAgcHJvamVjdEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiBlbGVtZW50LnJlbW92ZSgpKTtcbiAgICAgICAgICAgIHVwZGF0ZVN0b3JhZ2UuZGVsZXRlUHJvamVjdChwcm9qZWN0SWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4gXG5jb25zdCBlZGl0UHJvamVjdCA9IChlKSA9PiB7XG4gICAgaWYgKGF3YWl0aW5nSW5wdXQoKSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFRoaXMgaXMgRE9NIFN0dWZmXG4gICAgY29uc3QgaW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVGb3JtKCk7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW5wdXRGaWVsZCgnUHJvamVjdCBuYW1lLi4uJyk7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cbiAgICBpbnB1dEZpZWxkLnZhbHVlID0gcHJvamVjdE5hbWUudGV4dENvbnRlbnQ7XG4gICAgcHJvamVjdE5hbWUucmVtb3ZlKCk7XG4gICAgaW5wdXRGb3JtLmFwcGVuZChpbnB1dEZpZWxkKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5wcm9qZWN0LWl0ZW0nKTtcbiAgICBwcm9qZWN0SXRlbS5pbnNlcnRCZWZvcmUoaW5wdXRGb3JtLCBwcm9qZWN0SXRlbS5jaGlsZE5vZGVzWzBdKTtcbiAgICBcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIHVzZXJJbnB1dC5mb2N1cygpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3RJZCA9IHByb2plY3RJdGVtLmRhdGFzZXQucHJvamVjdElkO1xuXG4gICAgdXNlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh1c2VySW5wdXQudmFsdWUgIT0gJycpIGhhbmRsZVVzZXJJbnB1dCgpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RJdGVtLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xuICAgICAgICB1cGRhdGVOYW1lT25Ob3RlcGFkKHByb2plY3RJZCwgcHJvamVjdE5hbWUpO1xuICAgICAgICBoYW5kbGVycy5vblByb2plY3ROYW1lRWRpdChwcm9qZWN0SWQsIHByb2plY3ROYW1lKTtcbiAgICB9KTtcblxuICAgIGlucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGhhbmRsZVVzZXJJbnB1dCgpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RJdGVtLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xuICAgICAgICB1cGRhdGVOYW1lT25Ob3RlcGFkKHByb2plY3RJZCwgcHJvamVjdE5hbWUpO1xuICAgICAgICBoYW5kbGVycy5vblByb2plY3ROYW1lRWRpdChwcm9qZWN0SWQsIHByb2plY3ROYW1lKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHVwZGF0ZU5hbWVPbk5vdGVwYWQgPSAocHJvamVjdElkLCBwcm9qZWN0TmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGVwYWQnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdFRhc2tzQ29udGFpbmVyID0gbm90ZXBhZC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPVwiJHtwcm9qZWN0SWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9qZWN0VGFza3NDb250YWluZXIpIHtcbiAgICAgICAgICAgIHByb2plY3RUYXNrc0NvbnRhaW5lci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHsgXG4gICAgYWRkUHJvamVjdCxcbiAgICBkZWxldGVQcm9qZWN0LFxuICAgIGVkaXRQcm9qZWN0XG59IiwiaW1wb3J0IHtjcmVhdGVFbGVtZW50cywgYWRkRHVlRGF0ZVRvRE9NfSBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuaW1wb3J0IHtmb3JtYXR9IGZyb20gXCJkYXRlLWZuc1wiO1xuaW1wb3J0IGhhbmRsZXJzIGZyb20gXCIuL2hhbmRsZXJzXCI7XG5pbXBvcnQgdXBkYXRlU3RvcmFnZSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5cbmNvbnN0IHRvZ2dsZVRhc2sgPSAodGFza0VsZW1lbnQpID0+IHtcbiAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdjb21wbGV0ZWQnKTtcbiAgICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgaWYgKHRhc2tFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY29tcGxldGVkJykpIHtcbiAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHByb2plY3RJZCA9IHRhc2tFbGVtZW50LmNsb3Nlc3QoJy5wcm9qZWN0JykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgY29uc3QgdGFza0lkID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSWQ7XG5cbiAgICByZXR1cm4gaGFuZGxlcnMub25UYXNrQ29tcGxldGVFZGl0KHByb2plY3RJZCwgdGFza0lkLCBpc0NvbXBsZXRlKTtcbn1cblxuY29uc3QgYWRkVGFza1RvRE9NID0gKGFkZFRhc2tCdG4pID0+IHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXItaW5wdXQnKSkgcmV0dXJuO1xuICAgIGNvbnN0IHRhc2tMaXN0RWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlTGlzdEVsZW1lbnQoJ3Rhc2snKTtcbiAgICBjb25zdCB0YXNrU3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ3Rhc2staXRlbScpO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlRm9ybSgpO1xuICAgIGNvbnN0IGlucHV0RmllbGQgPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUlucHV0RmllbGQoJ0VudGVyIFRhc2suLi4nKTtcbiAgICBcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuICAgIHRhc2tTcGFuLmFwcGVuZChpbnB1dEZvcm0pO1xuXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZVNwYW5FbGVtZW50KCdpY29ucycpO1xuICAgIGNvbnN0IGVkaXRJY29uID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9lZGl0LWljb24uc3ZnJywgJ2VkaXQtaWNvbicpO1xuICAgIGNvbnN0IGRlbGV0ZUljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2RlbGV0ZS1pY29uLnN2ZycsICdkZWxldGUtaWNvbicpO1xuXG4gICAgaWNvblNwYW4uYXBwZW5kKGVkaXRJY29uLCBkZWxldGVJY29uKTtcbiAgICB0YXNrU3Bhbi5hcHBlbmQoaWNvblNwYW4pO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBhZGREdWVEYXRlVG9ET00oKTtcbiAgICB0YXNrTGlzdEVsZW1lbnQuYXBwZW5kKHRhc2tTcGFuLCBkdWVEYXRlKTtcbiAgICBcbiAgICBjb25zdCBjb250YWluZXIgPSBhZGRUYXNrQnRuLmNsb3Nlc3QoJy50b2RvcycpO1xuICAgIGNvbnN0IG51bWJlck9mVGFza3MgPSBjb250YWluZXIuY2hpbGRFbGVtZW50Q291bnQgLSAyO1xuXG4gICAgY29udGFpbmVyLmluc2VydEJlZm9yZSh0YXNrTGlzdEVsZW1lbnQsIGNvbnRhaW5lci5jaGlsZHJlbltudW1iZXJPZlRhc2tzXSk7XG4gICAgXG4gICAgLy8gV2hhdCBpcyB0aGlzPz8/XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlucHV0RmllbGQuZm9jdXMoKTtcbiAgICB9LCAwKTtcblxuICAgIHJldHVybiB0YXNrU3Bhbjtcbn1cblxuY29uc3QgZWRpdFRhc2sgPSAodGFzaykgPT4ge1xuICAgIGlmICh0YXNrLmNsYXNzTGlzdC5jb250YWlucygnY29tcGxldGVkJykpIHJldHVybjtcbiAgICBjb25zdCB0YXNrVGV4dFNwYW4gPSB0YXNrLnF1ZXJ5U2VsZWN0b3IoJy50YXNrLXRleHQnKTtcbiAgICBjb25zdCB0YXNrTmFtZSA9IHRhc2tUZXh0U3Bhbi50ZXh0Q29udGVudDtcbiAgICB0YXNrVGV4dFNwYW4ucmVtb3ZlKCk7XG4gICAgXG4gICAgY29uc3QgaW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVGb3JtKCk7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW5wdXRGaWVsZCgnRW50ZXIgVGFzay4uLicpO1xuICAgIFxuICAgIGlucHV0RmllbGQudmFsdWUgPSB0YXNrTmFtZTtcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuXG4gICAgY29uc3QgdGFza1NwYW4gPSB0YXNrLnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWl0ZW0nKTtcbiAgICBjb25zdCBpY29uU3BhbiA9IHRhc2sucXVlcnlTZWxlY3RvcignLmljb25zJyk7XG5cbiAgICB0YXNrU3Bhbi5pbnNlcnRCZWZvcmUoaW5wdXRGb3JtLCBpY29uU3Bhbik7XG5cbiAgICB0YXNrLnByZXBlbmQodGFza1NwYW4pO1xuICAgIGlucHV0RmllbGQuZm9jdXMoKTtcbiAgICBhZGRUYXNrKCk7XG59XG5cbmNvbnN0IGRlbGV0ZVRhc2sgPSAocHJvamVjdElkLCB0YXNrSWQpID0+IHtcbiAgICBjb25zdCB0YXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzay1pZD1cIiR7dGFza0lkfVwiXWApO1xuICAgIHRhc2sucmVtb3ZlKCk7XG4gICAgdXBkYXRlU3RvcmFnZS5kZWxldGVUYXNrKHByb2plY3RJZCwgdGFza0lkKTtcbn1cblxuY29uc3QgYWRkVGFzayA9ICgpID0+IHtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKTtcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBpbnB1dEZpZWxkLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgdGFza0NvbnRhaW5lciA9IGlucHV0Rm9ybS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgXG4gICAgaW5wdXRGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSB0YXNrQ29udGFpbmVyLmNsb3Nlc3QoJ1tkYXRhLXByb2plY3QtaWRdJykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBpbnB1dEZpZWxkLnZhbHVlO1xuICAgICAgICB2YWxpZGF0ZVVzZXJJbnB1dCgpO1xuICAgICAgICBpZiAodGFzaykgY3JlYXRlVGFzayh0YXNrLCBwcm9qZWN0SWQsIHRhc2tDb250YWluZXIpO1xuICAgIH0pO1xuICAgIFxuICAgIGlucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHRhc2tDb250YWluZXIuY2xvc2VzdCgnW2RhdGEtcHJvamVjdC1pZF0nKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICAgICAgY29uc3QgdGFzayA9IGlucHV0RmllbGQudmFsdWU7XG4gICAgICAgIHZhbGlkYXRlVXNlcklucHV0KCk7XG4gICAgICAgIGlmICh0YXNrKSBjcmVhdGVUYXNrKHRhc2ssIHByb2plY3RJZCwgdGFza0NvbnRhaW5lcik7XG4gICAgfSk7XG59XG5cbmNvbnN0IGNyZWF0ZVRhc2sgPSAodGFzaywgcHJvamVjdElkLCB0YXNrQ29udGFpbmVyKSA9PiB7XG4gICAgaWYgKHRhc2tDb250YWluZXIuZGF0YXNldC50YXNrSWQpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza05hbWVFZGl0KHByb2plY3RJZCwgdGFza0NvbnRhaW5lci5kYXRhc2V0LnRhc2tJZCwgdGFzayk7XG4gICAgfVxuICAgIGNvbnN0IHRhc2tPYmogPSBoYW5kbGVycy5vblRhc2tBZGQodGFzaywgcHJvamVjdElkKTtcbiAgICB0YXNrQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrLWlkJywgdGFza09iai50YXNrSWQpO1xufVxuXG5jb25zdCB2YWxpZGF0ZVVzZXJJbnB1dCA9ICgpID0+IHtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItaW5wdXQnKTtcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBpbnB1dEZpZWxkLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgdGFza0l0ZW0gPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gdGFza0l0ZW0ucGFyZW50RWxlbWVudDtcblxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGlucHV0RmllbGQudmFsdWUudHJpbSgpO1xuICAgIGNvbnN0IHRhc2tUZXh0U3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ3Rhc2stdGV4dCcpO1xuICAgIHRhc2tUZXh0U3Bhbi5hcHBlbmQodXNlcklucHV0KTtcblxuICAgIC8vIFJlbW92ZXMgdGFzayBjb250YWluZXIgaWYgdGFzayBpc24ndCB5ZXQgaW4gbG9jYWxTdG9yYWdlIChoYXMgYSB0YXNrSWQgZGF0YSBhdHRyaWJ1dGUpXG4gICAgaWYgKHVzZXJJbnB1dCA9PSAnJyAmJiAhdGFza0NvbnRhaW5lci5kYXRhc2V0LnRhc2tJZCkge1xuICAgICAgICB0YXNrQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfSBcbiAgICBlbHNlIGlmICh1c2VySW5wdXQgPT0gJycgJiYgdGFza0NvbnRhaW5lci5kYXRhc2V0LnRhc2tJZCkgcmV0dXJuO1xuICAgIGlucHV0Rm9ybS5yZW1vdmUoKTtcbiAgICB0YXNrSXRlbS5wcmVwZW5kKHRhc2tUZXh0U3Bhbik7XG59XG5cbmNvbnN0IHVwZGF0ZVByaW9yaXR5ID0gKGV2ZW50VGFyZ2V0KSA9PiB7XG4gICAgY29uc3QgdGFza0l0ZW1DbGFzc0xpc3QgPSBldmVudFRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0O1xuICAgIGlmICh0YXNrSXRlbUNsYXNzTGlzdC5jb250YWlucygnY29tcGxldGVkJykpIHJldHVybjtcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBldmVudFRhcmdldC5jbG9zZXN0KCcucHJvamVjdCcpLmRhdGFzZXQucHJvamVjdElkO1xuICAgIGNvbnN0IHRhc2tJZCA9IGV2ZW50VGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXRhc2staWRdJykuZGF0YXNldC50YXNrSWQ7XG5cbiAgICBjb25zdCBwcmlvcml0eUNsYXNzTGlzdCA9IGV2ZW50VGFyZ2V0LmNsYXNzTGlzdDtcblxuICAgIGlmIChwcmlvcml0eUNsYXNzTGlzdC5jb250YWlucygncHJpb3JpdHktbG93JykpIHtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QucmVtb3ZlKCdwcmlvcml0eS1sb3cnKTtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1tZWRpdW0nKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza1ByaW9yaXR5RWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgJ21lZGl1bScpOyBcbiAgICB9XG4gICAgaWYgKHByaW9yaXR5Q2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1tZWRpdW0nKSkge1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LW1lZGl1bScpO1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LWhpZ2gnKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza1ByaW9yaXR5RWRpdChwcm9qZWN0SWQsIHRhc2tJZCwgJ2hpZ2gnKTtcbiAgICB9XG4gICAgaWYgKHByaW9yaXR5Q2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1oaWdoJykpIHtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QucmVtb3ZlKCdwcmlvcml0eS1oaWdoJyk7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LmFkZCgncHJpb3JpdHktbG93Jyk7XG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tQcmlvcml0eUVkaXQocHJvamVjdElkLCB0YXNrSWQsICdsb3cnKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7XG4gICAgdG9nZ2xlVGFzayxcbiAgICBhZGRUYXNrVG9ET00sXG4gICAgYWRkVGFzayxcbiAgICB1cGRhdGVQcmlvcml0eSxcbiAgICBkZWxldGVUYXNrLFxuICAgIGVkaXRUYXNrXG59IiwiaW1wb3J0IHsgYWRkUHJvamVjdCwgZGVsZXRlUHJvamVjdCwgZWRpdFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0c1wiO1xuaW1wb3J0IHVwZGF0ZVN0b3JhZ2UgZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgdXBkYXRlUHJvamVjdExpc3QgfSBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuaW1wb3J0IHsgdG9nZ2xlVGFzaywgYWRkVGFza1RvRE9NLCBhZGRUYXNrLCB1cGRhdGVQcmlvcml0eSwgZGVsZXRlVGFzaywgZWRpdFRhc2sgfSBmcm9tIFwiLi90YXNrc1wiO1xuaW1wb3J0IGhhbmRsZXJzIGZyb20gXCIuL2hhbmRsZXJzXCI7XG5cbi8vIExvYWQgbG9jYWxTdG9yYWdlIGl0ZW1zIG9uIHBhZ2UgbG9hZFxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcbiAgICBjb25zdCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YWI9XCJob21lXCJdJyk7XG5cbiAgICB1cGRhdGVQcm9qZWN0TGlzdChwcm9qZWN0cyk7XG4gICAgaGFuZGxlcnMub25Ib21lVGFiU2VsZWN0KHByb2plY3RzLCB0YWIpO1xufVxuXG4vLyBTaWRlYmFyIE1vZHVsZVxuY29uc3Qgc2lkZWJhckNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgbW9iaWxlVG9nZ2xlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhcnMtaWNvbi1tb2JpbGUnKTtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gMTAyNCAmJiBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyJyk7XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlU2lkZWJhciA9ICgpID0+IHtcbiAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKCd0b2dnbGUtc2lkZWJhcicpO1xuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gMTAyNCkgbW9iaWxlVG9nZ2xlQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFycy1pY29uJyk7XG4gICAgdG9nZ2xlQnRuLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2lkZWJhcik7XG4gICAgfSk7ICAgICAgICBcblxuICAgIGNvbnN0IGhvbWVUYWIgPSBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRhYj1cImhvbWVcIl0nKTtcbiAgICBjb25zdCB0b2RheVRhYiA9IHNpZGViYXIucXVlcnlTZWxlY3RvcignW2RhdGEtdGFiPVwidG9kYXlcIl0nKTtcbiAgICBjb25zdCB0aGlzV2Vla1RhYiA9IHNpZGViYXIucXVlcnlTZWxlY3RvcignW2RhdGEtdGFiPVwidGhpcy13ZWVrXCJdJyk7XG5cbiAgICBcbiAgICBob21lVGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgaGFuZGxlcnMub25Ib21lVGFiU2VsZWN0KHByb2plY3RzLCBob21lVGFiKTtcbiAgICB9KTtcblxuICAgIHRvZGF5VGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgaGFuZGxlcnMub25Ub2RheVRhYlNlbGVjdChwcm9qZWN0cywgdG9kYXlUYWIpO1xuICAgIH0pO1xuXG4gICAgdGhpc1dlZWtUYWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gdXBkYXRlU3RvcmFnZS5nZXRQcm9qZWN0cygpO1xuICAgICAgICBoYW5kbGVycy5vblRoaXNXZWVrVGFiU2VsZWN0KHByb2plY3RzLCB0aGlzV2Vla1RhYik7XG4gICAgfSk7XG5cbn0pKCk7XG5cbmNvbnN0IHByb2plY3RDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBkZWxldGVQcm9qZWN0KCk7XG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wcm9qZWN0XScpO1xuICAgIGFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRQcm9qZWN0KTtcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcblxuICAgIHByb2plY3RMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWRpdC1wcm9qZWN0JykpIHtcbiAgICAgICAgICAgIGVkaXRQcm9qZWN0KGUpO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5jb25zdCB0YXNrQ29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgY29uc3Qgbm90ZXBhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlcGFkJyk7XG4gICAgbm90ZXBhZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Rhc2stdGV4dCcpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy50YXNrJyk7XG4gICAgICAgICAgICB0b2dnbGVUYXNrKHRhc2tFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FkZC10YXNrJykpIHtcbiAgICAgICAgICAgIGFkZFRhc2tUb0RPTShlLnRhcmdldCk7XG4gICAgICAgICAgICBhZGRUYXNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1pY29uJykpIHtcbiAgICAgICAgICAgIHVwZGF0ZVByaW9yaXR5KGUudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWRpdC1pY29uJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBlLnRhcmdldC5jbG9zZXN0KCcudGFzaycpO1xuICAgICAgICAgICAgZWRpdFRhc2sodGFzayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZS1pY29uJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb2plY3QtaWRdJykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgICAgICBjb25zdCB0YXNrSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS10YXNrLWlkXScpLmRhdGFzZXQudGFza0lkO1xuICAgICAgICAgICAgZGVsZXRlVGFzayhwcm9qZWN0SWQsIHRhc2tJZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7Il0sIm5hbWVzIjpbImdldFByb2plY3RzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNhdmVQcm9qZWN0IiwicHJvamVjdFRvU2F2ZSIsInByb2plY3RzIiwiZXhpc3RpbmciLCJmaW5kIiwicHJvamVjdCIsImlkIiwicHJvamVjdE5hbWUiLCJ0YXNrcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZ2V0VGFza3MiLCJwcm9qZWN0SWQiLCJkZWxldGVQcm9qZWN0IiwidXBkYXRlZFByb2plY3RMaXN0IiwiZmlsdGVyIiwiZGVsZXRlVGFzayIsInRhc2tJZCIsInByb2plY3RXaXRoVGFzayIsInVwZGF0ZWRUYXNrT2JqIiwidGFza09iaiIsImZpbmRUYXNrVG9VcGRhdGUiLCJleGlzdGluZ1Rhc2tJZCIsInRhc2siLCJ1cGRhdGVUYXNrIiwidXBkYXRlZFRhc2siLCJwcm9qZWN0VG9VcGRhdGUiLCJ0YXNrc0FycmF5IiwiaW5kZXhPZlVwZGF0ZWRUYXNrIiwiZmluZEluZGV4IiwicmVxdWlyZWRBcmdzIiwicmVxdWlyZWQiLCJhcmdzIiwibGVuZ3RoIiwiVHlwZUVycm9yIiwidG9EYXRlIiwiYXJndW1lbnQiLCJhcmd1bWVudHMiLCJhcmdTdHIiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJEYXRlIiwiZ2V0VGltZSIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJzdGFjayIsIk5hTiIsInN0YXJ0T2ZEYXkiLCJkaXJ0eURhdGUiLCJkYXRlIiwic2V0SG91cnMiLCJpc1NhbWVEYXkiLCJkaXJ0eURhdGVMZWZ0IiwiZGlydHlEYXRlUmlnaHQiLCJkYXRlTGVmdFN0YXJ0T2ZEYXkiLCJkYXRlUmlnaHRTdGFydE9mRGF5IiwidG9JbnRlZ2VyIiwiZGlydHlOdW1iZXIiLCJudW1iZXIiLCJOdW1iZXIiLCJpc05hTiIsImNlaWwiLCJNSUxMSVNFQ09ORFNfSU5fSE9VUiIsInBhdHRlcm5zIiwiZGF0ZVRpbWVEZWxpbWl0ZXIiLCJ0aW1lWm9uZURlbGltaXRlciIsInRpbWV6b25lIiwiZGF0ZVJlZ2V4IiwidGltZVJlZ2V4IiwidGltZXpvbmVSZWdleCIsInBhcnNlSVNPIiwiZGlydHlPcHRpb25zIiwib3B0aW9ucyIsImFkZGl0aW9uYWxEaWdpdHMiLCJSYW5nZUVycm9yIiwiZGF0ZVN0cmluZ3MiLCJzcGxpdERhdGVTdHJpbmciLCJwYXJzZVllYXJSZXN1bHQiLCJwYXJzZVllYXIiLCJwYXJzZURhdGUiLCJyZXN0RGF0ZVN0cmluZyIsInllYXIiLCJvZmZzZXQiLCJ0aW1lc3RhbXAiLCJ0aW1lIiwicGFyc2VUaW1lIiwicmVzdWx0Iiwic2V0RnVsbFllYXIiLCJnZXRVVENGdWxsWWVhciIsImdldFVUQ01vbnRoIiwiZ2V0VVRDRGF0ZSIsImdldFVUQ0hvdXJzIiwiZ2V0VVRDTWludXRlcyIsImdldFVUQ1NlY29uZHMiLCJnZXRVVENNaWxsaXNlY29uZHMiLCJwYXJzZVRpbWV6b25lIiwiZGF0ZVN0cmluZyIsInRpbWVTdHJpbmciLCJhcnJheSIsInNwbGl0IiwidGVzdCIsInN1YnN0ciIsInRva2VuIiwiZXhlYyIsInJlcGxhY2UiLCJyZWdleCIsIlJlZ0V4cCIsImNhcHR1cmVzIiwibWF0Y2giLCJwYXJzZUludCIsImNlbnR1cnkiLCJzbGljZSIsImlzV2Vla0RhdGUiLCJkYXlPZlllYXIiLCJwYXJzZURhdGVVbml0IiwibW9udGgiLCJkYXkiLCJ3ZWVrIiwiZGF5T2ZXZWVrIiwiX3llYXIiLCJ2YWxpZGF0ZVdlZWtEYXRlIiwiaXNvV2Vla1llYXIiLCJzZXRVVENGdWxsWWVhciIsImRpZmYiLCJnZXRVVENEYXkiLCJzZXRVVENEYXRlIiwiZGF5T2ZJU09XZWVrWWVhciIsImRheXNJbk1vbnRocyIsImlzTGVhcFllYXJJbmRleCIsInZhbGlkYXRlRGF0ZSIsInZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSIsIm1heCIsInZhbHVlIiwiaG91cnMiLCJwYXJzZVRpbWVVbml0IiwibWludXRlcyIsInNlY29uZHMiLCJ2YWxpZGF0ZVRpbWUiLCJwYXJzZUZsb2F0IiwidGltZXpvbmVTdHJpbmciLCJzaWduIiwiX2hvdXJzIiwidmFsaWRhdGVUaW1lem9uZSIsInN0YXJ0T2ZXZWVrIiwibG9jYWxlIiwibG9jYWxlV2Vla1N0YXJ0c09uIiwid2Vla1N0YXJ0c09uIiwiZGVmYXVsdFdlZWtTdGFydHNPbiIsImdldERheSIsInNldERhdGUiLCJnZXREYXRlIiwiaXNTYW1lV2VlayIsImRhdGVMZWZ0U3RhcnRPZldlZWsiLCJkYXRlUmlnaHRTdGFydE9mV2VlayIsIl9yZWZyZXNoUHJvamVjdExpc3QiLCJfc2V0UHJvamVjdExpc3QiLCJ1cGRhdGVQcm9qZWN0TGlzdCIsIl9zZXRBY3RpdmVUYWIiLCJ0YWIiLCJ1cGRhdGVBY3RpdmVUYWIiLCJkdWVUb2RheSIsIm5vdyIsImlzVG9kYXkiLCJkdWVEYXRlIiwiZHVlVGhpc1dlZWsiLCJpc1RoaXNXZWVrIiwibG9hZEFsbFByb2plY3RzIiwiY2xlYXJQcm9qZWN0c0Zyb21ET00iLCJub3RlcGFkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWFjaCIsImFkZFByb2plY3RUb05vdGVwYWQiLCJwcm9qZWN0VGFza3MiLCJwcm9qZWN0Q29udGFpbmVyIiwidGFza3NMaXN0IiwiYWRkVGFza0J0biIsInRhc2tUb0FkZCIsImxvYWRUYXNrIiwiaW5zZXJ0QmVmb3JlIiwicGFyZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmUiLCJvblByb2plY3RTZWxlY3QiLCJwcm9qZWN0T2JqZWN0Iiwic2VsZWN0ZWRQcm9qZWN0Iiwib25Qcm9qZWN0QWRkIiwibmV3UHJvamVjdCIsIm5ld1Byb2plY3RET01FbGVtZW50Iiwib25Qcm9qZWN0TmFtZUVkaXQiLCJvblRhc2tBZGQiLCJuZXdUYXNrIiwiaXRlbSIsInByaW9yaXR5IiwiaXNDb21wbGV0ZSIsIm9uVGFza05hbWVFZGl0IiwibmV3VGFza05hbWUiLCJleGlzdGluZ1Rhc2siLCJvblRhc2tQcmlvcml0eUVkaXQiLCJuZXdQcmlvcml0eSIsIm9uVGFza0R1ZURhdGVFZGl0IiwibmV3RHVlRGF0ZSIsIm9uVGFza0NvbXBsZXRlRWRpdCIsIm9uSG9tZVRhYlNlbGVjdCIsIm9uVG9kYXlUYWJTZWxlY3QiLCJ0YXNrQ29udGFpbmVyIiwib25UaGlzV2Vla1RhYlNlbGVjdCIsImNyZWF0ZUVsZW1lbnRzIiwiY3JlYXRlTGlzdEVsZW1lbnQiLCJodG1sQ2xhc3MiLCJsaSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVTcGFuRWxlbWVudCIsInNwYW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJjcmVhdGVJbWFnZUVsZW1lbnQiLCJzcmMiLCJpbWciLCJjcmVhdGVJbnB1dEZpZWxkIiwicGxhY2Vob2xkZXJUZXh0IiwidXNlcklucHV0IiwiY3JlYXRlRm9ybSIsImNyZWF0ZURpdiIsImRpdiIsImNyZWF0ZUljb25TcGFuIiwidmlldyIsImljb25TcGFuIiwiZWRpdEljb24iLCJkZWxldGVJY29uIiwiYXBwZW5kIiwicHJvamVjdERpdiIsInNraXBMaW5lIiwicHJvamVjdEhlYWRpbmciLCJoMiIsInRleHRDb250ZW50IiwiaDMiLCJ0YXNrc0NvbnRhaW5lciIsImFkZFRhc2tMaXN0RWxlbWVudCIsImFkZFRhc2tTcGFuIiwiYWRkSWNvbiIsImFkZER1ZURhdGVUb0RPTSIsImR1ZURhdGVTcGFuIiwicHJpb3JpdHlJY29uIiwiZGF0ZUxhYmVsIiwiZGF0ZUlucHV0IiwiY2FsZW5kYXJJY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3Nlc3QiLCJkYXRhc2V0IiwiX2NyZWF0ZVByb2plY3RJdGVtSFRNTCIsIm5hbWUiLCJwcm9qZWN0SXRlbSIsInByb2plY3RzTGlzdENvbnRhaW5lciIsImFkZFByb2plY3RCdG4iLCJjaGlsZHJlbiIsImNvbnRhaW5zIiwiaHRtbCIsInRhc2tJdGVtIiwidGFza05hbWVTcGFuIiwiY3VycmVudEFjdGl2ZVRhYiIsImF3YWl0aW5nSW5wdXQiLCJoYW5kbGVVc2VySW5wdXQiLCJwcm9qZWN0U3BhbiIsInRyaW0iLCJjaGlsZE5vZGVzIiwiYWRkUHJvamVjdCIsInByb2plY3RzQ29udGFpbmVyIiwicHJvamVjdExpc3RFbGVtZW50IiwicHJvamVjdElucHV0Rm9ybSIsInByb2plY3ROYW1lSW5wdXQiLCJsYXN0RWxlbWVudENoaWxkIiwic2V0VGltZW91dCIsImZvY3VzIiwiYWRkUHJvamVjdFRvU2lkZWJhciIsImlucHV0Rm9ybSIsImZpcnN0RWxlbWVudENoaWxkIiwicHJvamVjdExpc3QiLCJjaGlsZEVsZW1lbnRDb3VudCIsImdldEF0dHJpYnV0ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZFRhc2siLCJpbnB1dEZpZWxkIiwidmFsaWRhdGVVc2VySW5wdXQiLCJjcmVhdGVUYXNrIiwidGFza1RleHRTcGFuIiwicHJlcGVuZCIsIndpbmRvdyIsIm9ubG9hZCIsIm1vYmlsZVRvZ2dsZUJ0biIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJXaWR0aCIsInRvZ2dsZSIsInNpZGViYXIiLCJ0b2dnbGVTaWRlYmFyIiwiYnV0dG9uIiwiaG9tZVRhYiIsInRvZGF5VGFiIiwidGhpc1dlZWtUYWIiLCJ0YXJnZXQiLCJjb25maXJtIiwiZWxlbWVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJ1cGRhdGVOYW1lT25Ob3RlcGFkIiwicHJvamVjdFRhc2tzQ29udGFpbmVyIiwiZWRpdFByb2plY3QiLCJ0YXNrRWxlbWVudCIsInRvZ2dsZVRhc2siLCJ0YXNrTGlzdEVsZW1lbnQiLCJ0YXNrU3BhbiIsImNvbnRhaW5lciIsIm51bWJlck9mVGFza3MiLCJhZGRUYXNrVG9ET00iLCJldmVudFRhcmdldCIsInByaW9yaXR5Q2xhc3NMaXN0IiwidXBkYXRlUHJpb3JpdHkiLCJ0YXNrTmFtZSIsImVkaXRUYXNrIl0sInNvdXJjZVJvb3QiOiIifQ==