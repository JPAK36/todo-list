(()=>{"use strict";const e=e=>{const t=document.createElement("li");return t.setAttribute("class",e),t},t=e=>{const t=document.createElement("span");return t.classList.add(e),t},n=(e,t)=>{const n=document.createElement("img");return n.classList.add(t),n.setAttribute("src",e),n.setAttribute("draggable","false"),n},s=e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},c=()=>document.createElement("form"),r=e=>{const t=document.createElement("div");return t.setAttribute("class",e),t},o=()=>null!=document.querySelector("#user-input"),a=()=>{const e=document.querySelector("#user-input"),n=e.parentElement,s=n.parentElement,c=t("project-name");n.addEventListener("submit",(function(t){t.preventDefault();const n=e.value;if(n.match(/^[\s]/))return alert("Project name cannot start with a space");c.textContent=n,e.parentElement.remove(),s.insertBefore(c,s.childNodes[0]),i(n)}))},i=e=>{const t=document.querySelector("#writing-area"),n=r("project"),s=r("skip-line"),c=r("project-heading"),o=document.createElement("h2");o.setAttribute("class","notepad-text"),o.textContent=e;const a=document.createElement("h3");a.setAttribute("class","notepad-text"),a.textContent="Due Date",c.append(o,a),n.append(c),t.append(n,s)},d=()=>{o()||((()=>{const r=document.querySelector(".project-list"),o=e("project-item"),a=c(),i=s("Project name...");a.append(i);const d=t("icons"),l=n("images/edit-icon.svg","edit-icon"),u=n("images/delete-icon.svg","delete-icon");l.classList.add("edit-project"),u.classList.add("delete-project"),d.append(l,u),o.append(a,d),r.insertBefore(o,r.lastElementChild)})(),a())};(()=>{const e=document.getElementById("bars-icon-mobile");screen.width<=1024&&e.classList.contains("hidden")&&e.classList.toggle("hidden");const t=document.getElementById("sidebar"),n=()=>{t.classList.toggle("toggle-sidebar"),screen.width<=1024&&e.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",n)}))})(),document.addEventListener("click",(e=>{e.target.closest(".delete-project")&&e.target.closest(".project-item").remove()})),document.querySelector("[data-add-project]").addEventListener("click",d),document.addEventListener("click",(e=>{e.target.classList.contains("edit-project")&&(e=>{if(o())return;const t=c(),n=s("Project name..."),r=e.target.parentElement.previousElementSibling;n.value=r.textContent,r.remove(),t.append(n);const i=e.target.closest(".project-item");i.insertBefore(t,i.childNodes[0]),a()})(e)})),document.addEventListener("click",(e=>{e.target.classList.contains("task-item")&&e.target.parentElement.classList.toggle("completed")})),document.addEventListener("click",(e=>{e.target.classList.contains("add-task")&&(console.log("add task"),(()=>{const e=t("task-item");e.textContent="user input";const s=t("icons"),c=n("images/edit-icon.svg","edit-icon"),r=n("images/delete-icon.svg","delete-icon");s.append(c,r),e.append(s)})())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElEeUJSd0IsUSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jcmVhdGVET01FbGVtZW50cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90YXNrcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBET00gRWxlbWVudHMgRmFjdG9yeSBGdW5jdGlvblxuY29uc3QgY3JlYXRlRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgXG4gICAgY29uc3QgY3JlYXRlTGlzdEVsZW1lbnQgPSAoaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKCdjbGFzcycsIGh0bWxDbGFzcyk7XG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVTcGFuRWxlbWVudCA9IChodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKGh0bWxDbGFzcyk7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZUltYWdlRWxlbWVudCA9IChzcmMsIGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoaHRtbENsYXNzKTtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgIHJldHVybiBpbWc7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUZvcm0gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgcmV0dXJuIGlucHV0Rm9ybTtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVJbnB1dEZpZWxkID0gKHBsYWNlaG9sZGVyVGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBwbGFjZWhvbGRlclRleHQpO1xuICAgICAgICB1c2VySW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsICd1c2VyLWlucHV0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHVzZXJJbnB1dDtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVEaXYgPSAoaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsIGh0bWxDbGFzcyk7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtjcmVhdGVMaXN0RWxlbWVudCwgY3JlYXRlU3BhbkVsZW1lbnQsIGNyZWF0ZUltYWdlRWxlbWVudCwgY3JlYXRlSW5wdXRGaWVsZCwgY3JlYXRlRm9ybSwgY3JlYXRlRGl2fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtZW50cygpOyIsImltcG9ydCBjcmVhdGVFbGVtZW50cyBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuXG5jb25zdCBhZGRQcm9qZWN0VG9TaWRlYmFyID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuXG4gICAgY29uc3QgcHJvamVjdExpc3RFbGVtZW50ID0gIGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZUxpc3RFbGVtZW50KCdwcm9qZWN0LWl0ZW0nKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlRm9ybSgpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lSW5wdXQgPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBwcm9qZWN0SW5wdXRGb3JtLmFwcGVuZChwcm9qZWN0TmFtZUlucHV0KTtcblxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSAobmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlU3BhbkVsZW1lbnQoJ3Byb2plY3QtbmFtZScpO1xuICAgICAgICBuZXdQcm9qZWN0LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIG5ld1Byb2plY3Q7XG4gICAgfVxuXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVTcGFuRWxlbWVudCgnaWNvbnMnKTtcbiAgICBjb25zdCBlZGl0SWNvbiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2VkaXQtaWNvbi5zdmcnLCAnZWRpdC1pY29uJyk7XG4gICAgY29uc3QgZGVsZXRlSWNvbiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2RlbGV0ZS1pY29uLnN2ZycsICdkZWxldGUtaWNvbicpO1xuICAgIFxuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ2VkaXQtcHJvamVjdCcpO1xuICAgIGRlbGV0ZUljb24uY2xhc3NMaXN0LmFkZCgnZGVsZXRlLXByb2plY3QnKTtcbiAgICBcbiAgICBpY29uU3Bhbi5hcHBlbmQoZWRpdEljb24sIGRlbGV0ZUljb24pO1xuICAgIHByb2plY3RMaXN0RWxlbWVudC5hcHBlbmQocHJvamVjdElucHV0Rm9ybSwgaWNvblNwYW4pO1xuICAgIHByb2plY3RzQ29udGFpbmVyLmluc2VydEJlZm9yZShwcm9qZWN0TGlzdEVsZW1lbnQsIHByb2plY3RzQ29udGFpbmVyLmxhc3RFbGVtZW50Q2hpbGQpO1xuXG4gICAgcmV0dXJuIHtuZXdQcm9qZWN0LCBwcm9qZWN0TmFtZUlucHV0LCBwcm9qZWN0SW5wdXRGb3JtLCBpY29uU3BhbiwgcHJvamVjdExpc3RFbGVtZW50fVxufVxuXG5jb25zdCBhd2FpdGluZ0lucHV0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgaWYgKHVzZXJJbnB1dCAhPSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuY29uc3QgaGFuZGxlVXNlcklucHV0ID0gKCkgPT4geyBcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpXG4gICAgY29uc3QgaW5wdXRGb3JtID0gdXNlcklucHV0LnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBwcm9qZWN0U3BhbiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZVNwYW5FbGVtZW50KCdwcm9qZWN0LW5hbWUnKTtcblxuICAgIGlucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gdXNlcklucHV0LnZhbHVlO1xuICAgICAgICBpZiAocHJvamVjdE5hbWUubWF0Y2goL15bXFxzXS8pKSByZXR1cm4gYWxlcnQoJ1Byb2plY3QgbmFtZSBjYW5ub3Qgc3RhcnQgd2l0aCBhIHNwYWNlJyk7XG4gICAgICAgIHByb2plY3RTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdE5hbWU7XG4gICAgICAgIHVzZXJJbnB1dC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICBwcm9qZWN0SXRlbS5pbnNlcnRCZWZvcmUocHJvamVjdFNwYW4sIHByb2plY3RJdGVtLmNoaWxkTm9kZXNbMF0pOyBcbiAgICAgICAgLy8gVE9ETzogQ29uc2lkZXIgaW1wbGVtZW50aW5nIGFkZFByb2plY3RUb05vdGVwYWQgc2VwYXJhdGUgZnJvbSB0aGlzIGZ1bmN0aW9uIG9uIHN1Ym1pdFxuICAgICAgICBhZGRQcm9qZWN0VG9Ob3RlcGFkKHByb2plY3ROYW1lKTtcbiAgICB9KTtcbn1cblxuY29uc3QgYWRkUHJvamVjdFRvTm90ZXBhZCA9IChwcm9qZWN0TmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JpdGluZy1hcmVhJyk7XG4gICAgY29uc3QgcHJvamVjdERpdiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZURpdigncHJvamVjdCcpO1xuICAgIGNvbnN0IHNraXBMaW5lID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlRGl2KCdza2lwLWxpbmUnKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SGVhZGluZyA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZURpdigncHJvamVjdC1oZWFkaW5nJyk7XG4gICAgY29uc3QgaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIC8vY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1uYW1lJyk7XG4gICAgaDIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlcGFkLXRleHQnKTtcbiAgICBoMi50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgIGNvbnN0IGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBoMy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ25vdGVwYWQtdGV4dCcpO1xuICAgIGgzLnRleHRDb250ZW50ID0gJ0R1ZSBEYXRlJztcbiAgICBcbiAgICBwcm9qZWN0SGVhZGluZy5hcHBlbmQoaDIsIGgzKTtcbiAgICBwcm9qZWN0RGl2LmFwcGVuZChwcm9qZWN0SGVhZGluZyk7XG4gICAgbm90ZXBhZC5hcHBlbmQocHJvamVjdERpdiwgc2tpcExpbmUpO1xuICAgIC8vIFRPRE86IGFkZCBBZGQgVGFzayBidXR0b25cbn1cbi8vIFRPRE86IGNyZWF0ZSBmdW5jdGlvbiB0byB1cGRhdGUgcHJvamVjdCBuYW1lIG9uIG5vdGVwYWQgd2hlbiB1c2VyIGVkaXRzIGl0XG5cbmNvbnN0IGFkZFByb2plY3QgPSAoKSA9PiB7XG4gICAgaWYgKGF3YWl0aW5nSW5wdXQoKSkgcmV0dXJuO1xuICAgIGFkZFByb2plY3RUb1NpZGViYXIoKTtcbiAgICBoYW5kbGVVc2VySW5wdXQoKTtcbn1cblxuY29uc3QgZGVsZXRlUHJvamVjdCA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZGVsZXRlLXByb2plY3QnKSkge1xuICAgICAgICAgICAgZS50YXJnZXQuY2xvc2VzdCgnLnByb2plY3QtaXRlbScpLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4gXG5jb25zdCBlZGl0UHJvamVjdCA9IChlKSA9PiB7XG4gICAgaWYgKGF3YWl0aW5nSW5wdXQoKSkgcmV0dXJuO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlSW5wdXRGaWVsZCgnUHJvamVjdCBuYW1lLi4uJyk7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cbiAgICBpbnB1dEZpZWxkLnZhbHVlID0gcHJvamVjdE5hbWUudGV4dENvbnRlbnQ7XG4gICAgcHJvamVjdE5hbWUucmVtb3ZlKCk7XG4gICAgaW5wdXRGb3JtLmFwcGVuZChpbnB1dEZpZWxkKTtcblxuICAgIGNvbnN0IHByb2plY3RJdGVtID0gZS50YXJnZXQuY2xvc2VzdCgnLnByb2plY3QtaXRlbScpO1xuICAgIHByb2plY3RJdGVtLmluc2VydEJlZm9yZShpbnB1dEZvcm0sIHByb2plY3RJdGVtLmNoaWxkTm9kZXNbMF0pO1xuXG4gICAgaGFuZGxlVXNlcklucHV0KCk7XG59XG5cbmV4cG9ydCB7IFxuICAgIGFkZFByb2plY3QsXG4gICAgZGVsZXRlUHJvamVjdCxcbiAgICBlZGl0UHJvamVjdCxcbiAgICBjcmVhdGVFbGVtZW50c1xufSIsImltcG9ydCB7YWRkUHJvamVjdCwgZGVsZXRlUHJvamVjdCwgZWRpdFByb2plY3R9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5pbXBvcnQge3RvZ2dsZVRhc2ssIGFkZFRhc2tUb0RPTX0gZnJvbSBcIi4vdGFza3NcIjtcblxuLy8gU2lkZWJhciBNb2R1bGVcbmNvbnN0IHNpZGViYXJDb250cm9sbGVyID0gKCgpID0+IHtcblxuICAgIGNvbnN0IG1vYmlsZVRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJzLWljb24tbW9iaWxlJyk7XG4gICAgaWYgKHNjcmVlbi53aWR0aCA8PSAxMDI0ICYmIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGViYXInKTtcbiAgICBcbiAgICBjb25zdCB0b2dnbGVTaWRlYmFyID0gKCkgPT4ge1xuICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoJ3RvZ2dsZS1zaWRlYmFyJyk7XG4gICAgICAgIGlmIChzY3JlZW4ud2lkdGggPD0gMTAyNCkgbW9iaWxlVG9nZ2xlQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFycy1pY29uJyk7XG4gICAgdG9nZ2xlQnRuLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2lkZWJhcik7XG4gICAgfSk7ICAgICAgICBcbn0pKCk7XG5cbmNvbnN0IHByb2plY3RDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBkZWxldGVQcm9qZWN0KCk7XG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wcm9qZWN0XScpO1xuICAgIGFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRQcm9qZWN0KTtcbiAgICBcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQtcHJvamVjdCcpKSB7XG4gICAgICAgICAgICBlZGl0UHJvamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcblxuY29uc3QgdGFza0NvbnRyb2xsZXIgPSAoKCkgPT4ge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFzay1pdGVtJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIHRvZ2dsZVRhc2sodGFza0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FkZC10YXNrJykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZGQgdGFzaycpO1xuICAgICAgICAgICAgYWRkVGFza1RvRE9NKCk7XG4gICAgICAgIH1cblxuICAgIH0pO1xufSkoKTsiLCJpbXBvcnQgY3JlYXRlRWxlbWVudHMgZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcblxuY29uc3QgdG9nZ2xlVGFzayA9ICh0YXNrRWxlbWVudCkgPT4ge1xuICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2NvbXBsZXRlZCcpO1xufVxuXG4vLyBUT0RPOiBCZWZvcmUgY29udGludWluZyB3aXRoIHRoaXMgc3R1ZmYsIGdldCB0aGUgcHJvamVjdCBkaXYgc3R1ZmYgb24gbm90ZXBhZCB3aGVuIHVzZXIgYWRkcyBuZXcgcHJvamVjdFxuY29uc3QgYWRkVGFza1RvRE9NID0gKCkgPT4ge1xuICAgIC8vIGNyZWF0ZSBzcGFuIHdpdGggY2xhc3MgJ3Rhc2staXRlbSdcbiAgICAvLyBzcGFuIHNob3VsZCBnZXQgdXNlciBpbnB1dCBhbmQgc2F2ZSBpdCBhcyBzcGFuLnRleHRDb250ZW50XG4gICAgLy8gY3JlYXRlIHNwYW4gd2l0aCBjbGFzcyAnaWNvbnMnXG4gICAgLy8gYWRkIGVkaXQgYW5kIGRlbGV0ZSBpY29uc1xuXG4gICAgY29uc3QgdGFza1NwYW4gPSBjcmVhdGVFbGVtZW50cy5jcmVhdGVTcGFuRWxlbWVudCgndGFzay1pdGVtJyk7XG4gICAgdGFza1NwYW4udGV4dENvbnRlbnQgPSAndXNlciBpbnB1dCc7IC8vIFRPRE86IEdldCB1c2VyIGlucHV0XG5cbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZUVsZW1lbnRzLmNyZWF0ZVNwYW5FbGVtZW50KCdpY29ucycpO1xuICAgIC8vIFRPRE86IENhbid0IGFkZCBzZWNvbmQgY2xhc3Mgd2l0aCB0aGlzIG1ldGhvZCBzbyBmaWd1cmUgb3V0IGFub3RoZXIgd2F5IHRvIGFkZCBhIHNlY29uZCBjbGFzcyB0byBpY29uc1xuICAgIGNvbnN0IGVkaXRJY29uID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvZWRpdC1pY29uLnN2ZycsICdlZGl0LWljb24nKTtcbiAgICBjb25zdCBkZWxldGVJY29uID0gY3JlYXRlRWxlbWVudHMuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvZGVsZXRlLWljb24uc3ZnJywgJ2RlbGV0ZS1pY29uJyk7XG5cbiAgICBpY29uU3Bhbi5hcHBlbmQoZWRpdEljb24sIGRlbGV0ZUljb24pO1xuICAgIHRhc2tTcGFuLmFwcGVuZChpY29uU3Bhbik7XG5cbiAgICByZXR1cm4gdGFza1NwYW47XG59XG5cbmNvbnN0IGFkZER1ZURhdGVUb0RPTSA9ICgpID0+IHtcbiAgICAvLyBjcmVhdGUgc3BhbiB3aXRoIGNsYXNzICdkdWUtZGF0ZSdcbiAgICAvLyBjcmVhdGUgcHJpb3JpdHkgaWNvbiB3aXRoIGNsYXNzICdwcmlvcml0eS1pY29uIHByaW9yaXR5LWxvdydcbiAgICAvLyBjcmVhdGUgc3BhbiB3aXRoIGNsYXNzICdkYXRlJyBhbmQgc2V0IHRleHRDb250ZW50IHRvIGRlZmF1bHQgZGF0ZSAoY3VycmVudCBkYXRlKVxuICAgIC8vIGNyZWF0ZSBjYWxlbmRhciBpY29uIHdpdGggY2xhc3MgJ2NhbGVuZGFyLWljb24nXG4gICAgY29uc3QgY3JlYXRlRHVlRGF0ZSA9IGNyZWF0ZUVsZW1lbnRzKCk7XG5cbiAgICAvL2NvbnN0IGR1ZURhdGVTcGFuID0gY3JlYXRlRHVlRGF0ZS5cbn1cblxuY29uc3QgYWRkVGFzayA9ICgpID0+IHtcbiAgICAvLyBjcmVhdGUgbGkgd2l0aCBjbGFzcyAndGFzaycgYW5kIGFwcGVuZCBldmVyeXRoaW5nIHRvIGl0XG5cbn1cblxuZXhwb3J0IHtcbiAgICB0b2dnbGVUYXNrLFxuICAgIGFkZFRhc2tUb0RPTSxcbn0iXSwibmFtZXMiOlsiaHRtbENsYXNzIiwibGkiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJzcGFuIiwiY2xhc3NMaXN0IiwiYWRkIiwic3JjIiwiaW1nIiwicGxhY2Vob2xkZXJUZXh0IiwidXNlcklucHV0IiwicmVxdWlyZWQiLCJkaXYiLCJhd2FpdGluZ0lucHV0IiwicXVlcnlTZWxlY3RvciIsImhhbmRsZVVzZXJJbnB1dCIsImlucHV0Rm9ybSIsInBhcmVudEVsZW1lbnQiLCJwcm9qZWN0SXRlbSIsInByb2plY3RTcGFuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInByb2plY3ROYW1lIiwidmFsdWUiLCJtYXRjaCIsImFsZXJ0IiwidGV4dENvbnRlbnQiLCJyZW1vdmUiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZE5vZGVzIiwiYWRkUHJvamVjdFRvTm90ZXBhZCIsIm5vdGVwYWQiLCJwcm9qZWN0RGl2Iiwic2tpcExpbmUiLCJwcm9qZWN0SGVhZGluZyIsImgyIiwiaDMiLCJhcHBlbmQiLCJhZGRQcm9qZWN0IiwicHJvamVjdHNDb250YWluZXIiLCJwcm9qZWN0TGlzdEVsZW1lbnQiLCJwcm9qZWN0SW5wdXRGb3JtIiwicHJvamVjdE5hbWVJbnB1dCIsImljb25TcGFuIiwiZWRpdEljb24iLCJkZWxldGVJY29uIiwibGFzdEVsZW1lbnRDaGlsZCIsImFkZFByb2plY3RUb1NpZGViYXIiLCJtb2JpbGVUb2dnbGVCdG4iLCJnZXRFbGVtZW50QnlJZCIsInNjcmVlbiIsIndpZHRoIiwiY29udGFpbnMiLCJ0b2dnbGUiLCJzaWRlYmFyIiwidG9nZ2xlU2lkZWJhciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYnV0dG9uIiwidGFyZ2V0IiwiY2xvc2VzdCIsImlucHV0RmllbGQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZWRpdFByb2plY3QiLCJjb25zb2xlIiwibG9nIiwidGFza1NwYW4iLCJhZGRUYXNrVG9ET00iXSwic291cmNlUm9vdCI6IiJ9