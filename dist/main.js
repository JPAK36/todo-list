(()=>{"use strict";const e=(()=>{const e=()=>JSON.parse(localStorage.getItem("projects")||"[]"),t=t=>{const n=e(),r=n.find((e=>e.id==t.id));r?(r.projectName=t.projectName,r.tasks=t.tasks):(t.id=Math.floor(1e6*Math.random()),n.push(t)),localStorage.setItem("projects",JSON.stringify(n))};return{getProjects:e,getTasks:t=>e().find((e=>e.id==t)).tasks,saveProject:t,deleteProject:t=>{const n=e().filter((e=>e.id!=t));localStorage.setItem("projects",JSON.stringify(n))},deleteTask:(n,r)=>{const a=e().find((e=>e.id==n)),o=a.tasks.filter((e=>e.taskId!=r));a.tasks=o,t(a)},findTaskToUpdate:(t,n)=>e().find((e=>e.id==t)).tasks.find((e=>e.taskId==n)),updateTask:(t,n)=>{const r=e(),a=r.find((e=>e.id==t)),o=a.tasks,s=o.findIndex((e=>e.taskId==n.taskId));o[s]=n,a.tasks=o,localStorage.setItem("projects",JSON.stringify(r))}}})();function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(e){t(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function r(e){t(1,arguments);var r=n(e);return r.setHours(0,0,0,0),r}function a(e,n){t(2,arguments);var a=r(e),o=r(n);return a.getTime()===o.getTime()}function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var s=36e5,i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e,n){t(1,arguments);var r=n||{},a=null==r.additionalDigits?2:o(r.additionalDigits);if(2!==a&&1!==a&&0!==a)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var s,i=m(e);if(i.date){var c=p(i.date,a);s=g(c.restDateString,c.year)}if(isNaN(s)||!s)return new Date(NaN);var d,l=s.getTime(),u=0;if(i.time&&(u=E(i.time),isNaN(u)||null===u))return new Date(NaN);if(!i.timezone){var f=new Date(l+u),k=new Date(0);return k.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),k.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),k}return d=y(i.timezone),isNaN(d)?new Date(NaN):new Date(l+u+d)}function m(e){var t,n={},r=e.split(i.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var a=i.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function p(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:null};var a=r[1]&&parseInt(r[1]),o=r[2]&&parseInt(r[2]);return{year:null==o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function g(e,t){if(null===t)return null;var n=e.match(c);if(!n)return null;var r=!!n[4],a=f(n[1]),o=f(n[2])-1,s=f(n[3]),i=f(n[4]),d=f(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,i,d)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(t,i,d):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(v[t]||(j(e)?29:28))}(t,o,s)&&function(e,t){return t>=1&&t<=(j(e)?366:365)}(t,a)?(l.setUTCFullYear(t,o,Math.max(a,s)),l):new Date(NaN)}function f(e){return e?parseInt(e):1}function E(e){var t=e.match(d);if(!t)return null;var n=k(t[1]),r=k(t[2]),a=k(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a)?n*s+6e4*r+1e3*a:NaN}function k(e){return e&&parseFloat(e.replace(",","."))||0}function y(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,a)?n*(r*s+6e4*a):NaN}var v=[31,null,31,30,31,30,31,31,30,31,30,31];function j(e){return e%400==0||e%4==0&&e%100}function S(e,r){t(1,arguments);var a=r||{},s=a.locale,i=s&&s.options&&s.options.weekStartsOn,c=null==i?0:o(i),d=null==a.weekStartsOn?c:o(a.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=n(e),u=l.getDay(),m=(u<d?7:0)+u-d;return l.setDate(l.getDate()-m),l.setHours(0,0,0,0),l}function h(e,n,r){t(2,arguments);var a=S(e,r),o=S(n,r);return a.getTime()===o.getTime()}const T=(()=>{const n=()=>{const t=e.getProjects();w(t)},r=e=>{if(function(e){return t(1,arguments),a(e,Date.now())}(u(e.dueDate)))return e},o=e=>{if(function(e,n){return t(1,arguments),h(e,Date.now(),n)}(u(e.dueDate)))return e},s=e=>{i();const t=document.querySelector(".notepad");e.forEach((e=>{D(e.id);const n=e.tasks,r=t.querySelector(`[data-project-id="${e.id}"]`),a=r.querySelector("ul"),o=r.querySelector(".add-task");n.forEach((e=>{const t=N(e);a.insertBefore(t,o.parentElement)}))}))},i=()=>{document.querySelector("#writing-area").querySelectorAll(".project").forEach((e=>e.remove()))};return{onProjectSelect:t=>{const n=e.getProjects();s(n);const r=n.find((e=>e.id==t)),a=document.querySelector("#sidebar").querySelector(`[data-project-id='${r.id}']`);document.querySelectorAll(".project").forEach((e=>{e.dataset.projectId!=t&&e.remove()})),C(a)},onProjectAdd:t=>{const r={projectName:t,tasks:[]};e.saveProject(r),n(),document.querySelector(`[data-project-id='${r.id}']`)},onProjectNameEdit:(t,r,a=e.getTasks(t))=>{e.saveProject({id:t,projectName:r,tasks:a}),n()},onTaskAdd:(t,n)=>{const r={item:t,taskId:Math.floor(1e6*Math.random()),priority:"low",dueDate:null,isComplete:!1},a=e.getProjects().find((e=>e.id==n));return a.tasks.push(r),e.saveProject(a),r},onTaskNameEdit:(t,n,r)=>{const a=e.findTaskToUpdate(t,n);e.updateTask(t,{item:r,taskId:a.taskId,priority:a.priority,dueDate:a.dueDate,isComplete:a.isComplete})},onTaskPriorityEdit:(t,n,r)=>{const a=e.findTaskToUpdate(t,n);e.updateTask(t,{item:a.item,taskId:a.taskId,priority:r,dueDate:a.dueDate,isComplete:a.isComplete})},onTaskDueDateEdit:(t,n,r)=>{const a=e.findTaskToUpdate(t,n);e.updateTask(t,{item:a.item,taskId:a.taskId,priority:a.priority,dueDate:r,isComplete:a.isComplete})},onTaskCompleteEdit:(t,n,r)=>{const a=e.findTaskToUpdate(t,n);e.updateTask(t,{item:a.item,taskId:a.taskId,priority:a.priority,dueDate:a.dueDate,isComplete:r})},onHomeTabSelect:(e,t)=>{s(e),C(t)},onTodayTabSelect:(e,t)=>{s(e),e.forEach((e=>{const t=e.tasks;0===t.filter((e=>r(e))).length&&document.querySelector(".notepad").querySelector(`[data-project-id="${e.id}"]`).remove(),t.filter((e=>!r(e))).forEach((e=>{const t=document.querySelector(`[data-task-id="${e.taskId}"]`);t&&t.remove()}))})),C(t)},onThisWeekTabSelect:(e,t)=>{s(e),e.forEach((e=>{const t=e.tasks;0===t.filter((e=>o(e))).length&&document.querySelector(".notepad").querySelector(`[data-project-id="${e.id}"]`).remove(),t.filter((e=>!o(e))).forEach((e=>{const t=document.querySelector(`[data-task-id="${e.taskId}"]`);t&&t.remove()}))})),C(t)}}})(),I=()=>({createListElement:e=>{const t=document.createElement("li");return t.setAttribute("class",e),t},createSpanElement:e=>{const t=document.createElement("span");return t.classList.add(e),t},createImageElement:(e,t)=>{const n=document.createElement("img");return n.classList.add(t),n.setAttribute("src",e),n.setAttribute("draggable","false"),n},createInputField:e=>{const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("placeholder",e),t.setAttribute("id","user-input"),t.required=!0,t},createForm:()=>document.createElement("form"),createDiv:e=>{const t=document.createElement("div");return t.setAttribute("class",e),t}}),b=()=>{const e=I(),t=e.createSpanElement("icons"),n=e.createImageElement("images/edit-icon.svg","edit-icon"),r=e.createImageElement("images/delete-icon.svg","delete-icon");return n.classList.add("edit-project"),r.classList.add("delete-project"),t.append(n,r),t},D=t=>{const n=I(),r=e.getProjects().find((e=>e.id==t)).projectName,a=document.querySelector("#writing-area"),o=n.createDiv("project");o.setAttribute("data-project-id",t);const s=n.createDiv("skip-line"),i=n.createDiv("project-heading"),c=document.createElement("h2");c.setAttribute("class","notepad-text"),c.textContent=r;const d=document.createElement("h3");d.setAttribute("class","notepad-text"),d.textContent="Due Date";const l=document.createElement("ul");l.classList.add("notepad-text","todos");const u=n.createListElement("task"),m=n.createSpanElement("add-task"),p=n.createImageElement("images/add-icon.svg","add-icon");m.append(p,"Add Task"),u.append(m),l.append(u,s),i.append(c,d),o.append(i,l),a.append(o)},L=()=>{const e=I().createSpanElement("due-date"),t=I().createImageElement("images/priority-icon.svg","priority-icon");t.classList.add("priority-low");const n=document.createElement("label");n.classList.add("date-label");const r=document.createElement("input");r.setAttribute("type","date"),r.required=!0;const a=I().createImageElement("images/calendar-icon.svg","calendar-icon");return n.append(r,a),e.append(t,n),r.addEventListener("change",(()=>{const e=r.closest(".project").dataset.projectId,t=r.closest("[data-task-id]").dataset.taskId,n=r.value;return T.onTaskDueDateEdit(e,t,n)})),e},q=(e,t)=>{const n=I(),r=n.createListElement("project-item");r.setAttribute("data-project-id",e);const a=n.createSpanElement("project-name");a.textContent=t;const o=b();return r.append(a,o),r},w=e=>{const t=document.querySelector(".project-list"),n=document.querySelector("[data-add-project]");[].slice.call(t.children).forEach((e=>{e.classList.contains("project-item")&&e.remove()}));for(const r of e){const e=q(r.id,r.projectName);t.insertBefore(e,n)}t.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",(t=>{const n=document.querySelector("#user-input");"IMG"===t.target.nodeName||n||T.onProjectSelect(e.dataset.projectId)}))}))},N=e=>{const t=I(),n=t.createListElement("task");n.setAttribute("data-task-id",e.taskId);const r=t.createSpanElement("task-item"),a=t.createSpanElement("task-text");a.textContent=e.item;const o=b();r.append(a,o);const s=L();return s.querySelector(".priority-icon").classList.add(`priority-${e.priority}`),s.querySelector("input").value=e.dueDate,e.isComplete&&n.classList.add("completed"),n.append(r,s),n},C=e=>{const t=document.querySelector(".active");t&&t.classList.remove("active"),e.classList.add("active"),e.children.item(0)},P=()=>null!=document.querySelector("#user-input"),A=()=>{const e=document.querySelector("#user-input"),t=e.parentElement.parentElement,n=I().createSpanElement("project-name"),r=e.value.trim();r&&(n.textContent=r,e.parentElement.remove(),t.insertBefore(n,t.childNodes[0]))},x=()=>{if(P())return;(()=>{const e=I(),t=document.querySelector(".project-list"),n=e.createListElement("project-item"),r=e.createForm(),a=e.createInputField("Project name...");r.append(a);const o=b();n.append(r,o),t.insertBefore(n,t.lastElementChild),setTimeout((()=>{a.focus()}),0)})();const e=document.querySelector("#user-input"),t=e.parentElement,n=t.parentElement;e.addEventListener("blur",(function(){if(""==e.value.trim())return void n.remove();A();const t=n.firstElementChild.textContent;T.onProjectAdd(t);const r=document.querySelector(".project-list"),a=r.children[r.childElementCount-2].getAttribute("data-project-id");P()||D(a)})),t.addEventListener("submit",(function(e){e.preventDefault(),A();const t=n.firstElementChild.textContent;T.onProjectAdd(t);const r=document.querySelector(".project-list"),a=r.children[r.childElementCount-2].getAttribute("data-project-id");P()||D(a)}))},U=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,n=t.parentElement.parentElement;e.addEventListener("blur",(function(){const t=n.closest("[data-project-id]").dataset.projectId,r=e.value;F(),r&&$(r,t,n)})),t.addEventListener("submit",(function(t){t.preventDefault();const r=n.closest("[data-project-id]").dataset.projectId,a=e.value;F(),a&&$(a,r,n)}))},$=(e,t,n)=>{if(n.dataset.taskId)return T.onTaskNameEdit(t,n.dataset.taskId,e);const r=T.onTaskAdd(e,t);n.setAttribute("data-task-id",r.taskId)},F=()=>{const e=document.querySelector("#user-input"),t=e.parentElement,n=t.parentElement,r=n.parentElement,a=e.value.trim(),o=I().createSpanElement("task-text");o.append(a),""!=a||r.dataset.taskId?""==a&&r.dataset.taskId||(t.remove(),n.prepend(o)):r.remove()};window.onload=()=>{const t=e.getProjects(),n=document.querySelector('[data-tab="home"]');w(t),T.onHomeTabSelect(t,n)},(()=>{const t=document.getElementById("bars-icon-mobile"),n=document.getElementById("sidebar");window.innerWidth<=1024&&t.classList.contains("hidden")&&t.classList.toggle("hidden"),window.addEventListener("resize",(()=>{n.classList.contains("toggle-sidebar")||window.innerWidth<=1024&&t.classList.contains("hidden")&&t.classList.toggle("hidden")}));const r=()=>{n.classList.toggle("toggle-sidebar"),window.innerWidth<=1024&&t.classList.toggle("hidden")};document.querySelectorAll(".bars-icon").forEach((e=>{e.addEventListener("click",r)}));const a=n.querySelector('[data-tab="home"]'),o=n.querySelector('[data-tab="today"]'),s=n.querySelector('[data-tab="this-week"]');a.addEventListener("click",(()=>{const t=e.getProjects();T.onHomeTabSelect(t,a)})),o.addEventListener("click",(()=>{const t=e.getProjects();T.onTodayTabSelect(t,o)})),s.addEventListener("click",(()=>{const t=e.getProjects();T.onThisWeekTabSelect(t,s)}))})(),document.querySelector(".project-list").addEventListener("click",(t=>{if(t.target.closest(".delete-project")){if(!confirm("Are you sure you want to delete this project and all its tasks? This action cannot be undone."))return;const n=t.target.closest("[data-project-id]").dataset.projectId;document.querySelectorAll(`[data-project-id="${n}"]`).forEach((e=>e.remove())),e.deleteProject(n)}})),document.querySelector("[data-add-project]").addEventListener("click",x),document.querySelector(".project-list").addEventListener("click",(e=>{e.target.classList.contains("edit-project")&&(e=>{if(P())return;const t=I().createForm(),n=I().createInputField("Project name..."),r=e.target.parentElement.previousElementSibling;n.value=r.textContent,r.remove(),t.append(n);const a=e.target.closest(".project-item");a.insertBefore(t,a.childNodes[0]);const o=document.querySelector("#user-input");o.focus();const s=a.dataset.projectId;o.addEventListener("blur",(function(){""!=o.value&&A();const e=a.firstElementChild.textContent;i(s,e),T.onProjectNameEdit(s,e)})),t.addEventListener("submit",(function(e){e.preventDefault(),A();const t=a.firstElementChild.textContent;i(s,t),T.onProjectNameEdit(s,t)}));const i=(e,t)=>{const n=document.querySelector(".notepad").querySelector(`[data-project-id="${e}"]`);n&&(n.childNodes[0].childNodes[0].textContent=t)}})(e)})),document.querySelector(".notepad").addEventListener("click",(t=>{var n,r;t.target.classList.contains("task-text")?(e=>{e.classList.toggle("completed");let t=!1;e.classList.contains("completed")&&(t=!0);const n=e.closest(".project").dataset.projectId,r=e.dataset.taskId;T.onTaskCompleteEdit(n,r,t)})(t.target.closest(".task")):t.target.classList.contains("add-task")?((e=>{if(document.getElementById("user-input"))return;const t=I().createListElement("task"),n=I().createSpanElement("task-item"),r=I().createForm(),a=I().createInputField("Enter Task...");r.append(a),n.append(r);const o=I().createSpanElement("icons"),s=I().createImageElement("images/edit-icon.svg","edit-icon"),i=I().createImageElement("images/delete-icon.svg","delete-icon");o.append(s,i),n.append(o);const c=L();t.append(n,c);const d=e.closest(".todos"),l=d.childElementCount-2;d.insertBefore(t,d.children[l]),a.focus()})(t.target),U()):t.target.classList.contains("priority-icon")?(e=>{if(e.parentElement.parentElement.classList.contains("completed"))return;const t=e.closest(".project").dataset.projectId,n=e.closest("[data-task-id]").dataset.taskId,r=e.classList;r.contains("priority-low")?(r.remove("priority-low"),r.add("priority-medium"),T.onTaskPriorityEdit(t,n,"medium")):r.contains("priority-medium")?(r.remove("priority-medium"),r.add("priority-high"),T.onTaskPriorityEdit(t,n,"high")):r.contains("priority-high")&&(r.remove("priority-high"),r.add("priority-low"),T.onTaskPriorityEdit(t,n,"low"))})(t.target):t.target.classList.contains("edit-icon")?(e=>{if(e.classList.contains("completed"))return;const t=e.querySelector(".task-text"),n=t.textContent;t.remove();const r=I().createForm(),a=I().createInputField("Enter Task...");a.value=n,r.append(a);const o=e.querySelector(".task-item"),s=e.querySelector(".icons");o.insertBefore(r,s),e.prepend(o),a.focus(),U()})(t.target.closest(".task")):t.target.classList.contains("delete-icon")&&(n=t.target.closest("[data-project-id]").dataset.projectId,r=t.target.closest("[data-task-id]").dataset.taskId,document.querySelector(`[data-task-id="${r}"]`).remove(),e.deleteTask(n,r))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRc0IsR0FDYjFCLEVBQVdULFFBQ1hRLEtDNEJRbUMsQ0FEYTdELEVBQUVDLE9BQU9WLFFBQVEsVUFHMUJTLEVBQUVDLE9BQU81QyxVQUFVeUMsU0FBUyxpQkQzQnhCclAsRUM0QlV1UCxFQUFFQyxPQUFPVixRQUFRLHFCQUFxQmpFLFFBQVE3SyxVRDVCN0NLLEVDNkJKa1AsRUFBRUMsT0FBT1YsUUFBUSxrQkFBa0JqRSxRQUFReEssT0Q1QnJEdUosU0FBU0MsY0FBYyxrQkFBa0J4SixPQUNqRG9LLFNBQ0wsYUFBeUJ6SyxFQUFXSyxRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3RvRGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3N0YXJ0T2ZEYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1NhbWVEYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3RvSW50ZWdlci9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3BhcnNlSVNPL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZldlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1NhbWVXZWVrL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9oYW5kbGVycy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzVG9kYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1RoaXNXZWVrL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jcmVhdGVET01FbGVtZW50cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2tzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB1cGRhdGVTdG9yYWdlID0gKCkgPT4ge1xuICAgIFxuICAgIGNvbnN0IGdldFByb2plY3RzID0gKCkgPT4ge1xuICAgICAgICAvLyBjcmVhdGVzIGFuIGFycmF5IG9mIG9iamVjdHMgXG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdHMnKSB8fCAnW10nKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RzO1xuICAgIH1cblxuICAgIGNvbnN0IGdldFRhc2tzID0gKHByb2plY3RJZCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGdldFByb2plY3RzKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdElkKTtcbiAgICAgICAgY29uc3QgdGFza3MgPSBjdXJyZW50UHJvamVjdC50YXNrcztcbiAgICAgICAgcmV0dXJuIHRhc2tzO1xuICAgIH1cblxuICAgIGNvbnN0IHNhdmVQcm9qZWN0ID0gKHByb2plY3RUb1NhdmUpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuXG4gICAgICAgIC8vIGZpbmQgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IG9iamVjdCB0aGF0IG1hdGNoZXMgdGhlIGlkXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdFRvU2F2ZS5pZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nLnByb2plY3ROYW1lID0gcHJvamVjdFRvU2F2ZS5wcm9qZWN0TmFtZTtcbiAgICAgICAgICAgIGV4aXN0aW5nLnRhc2tzID0gcHJvamVjdFRvU2F2ZS50YXNrcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3RUb1NhdmUuaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKTtcbiAgICAgICAgICAgIHByb2plY3RzLnB1c2gocHJvamVjdFRvU2F2ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZVRhc2sgPSAocHJvamVjdElkLCB1cGRhdGVkVGFzaykgPT4ge1xuICAgICAgICAvLyB0YXNrcyBmb3IgY3VycmVudCBwcm9qZWN0XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdFRvVXBkYXRlID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gcHJvamVjdElkKTtcbiAgICAgICAgY29uc3QgdGFza3NBcnJheSA9IHByb2plY3RUb1VwZGF0ZS50YXNrcztcbiAgICAgICAgXG4gICAgICAgIC8vIGZpbmQgdGFzayBpbmRleCBhbmQgcmVwbGFjZSB0aGUgdGFzayBhdCB0aGF0IGluZGV4IHRvIHVwZGF0ZVxuICAgICAgICBjb25zdCBpbmRleE9mVXBkYXRlZFRhc2sgPSB0YXNrc0FycmF5LmZpbmRJbmRleCgodGFza09iaikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tPYmoudGFza0lkID09IHVwZGF0ZWRUYXNrLnRhc2tJZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGFza3NBcnJheVtpbmRleE9mVXBkYXRlZFRhc2tdID0gdXBkYXRlZFRhc2s7XG4gICAgICAgIC8vIFNhdmUgdXBkYXRlZCB0YXNrcyBhcnJheSB0byB0aGUgcHJvamVjdCBvYmplY3RcbiAgICAgICAgcHJvamVjdFRvVXBkYXRlLnRhc2tzID0gdGFza3NBcnJheTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpKTtcbiAgICB9XG5cbiAgICBjb25zdCBmaW5kVGFza1RvVXBkYXRlID0gKHByb2plY3RJZCwgZXhpc3RpbmdUYXNrSWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpOyAgICAgXG4gICAgICAgIGNvbnN0IHByb2plY3RUb1VwZGF0ZSA9IHByb2plY3RzLmZpbmQocHJvamVjdCA9PiBwcm9qZWN0LmlkID09IHByb2plY3RJZCk7XG4gICAgICAgIGNvbnN0IHRhc2tzQXJyYXkgPSBwcm9qZWN0VG9VcGRhdGUudGFza3NcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrID0gdGFza3NBcnJheS5maW5kKHRhc2sgPT4gdGFzay50YXNrSWQgPT0gZXhpc3RpbmdUYXNrSWQpO1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdUYXNrO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZVByb2plY3QgPSAoaWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCB1cGRhdGVkUHJvamVjdExpc3QgPSBwcm9qZWN0cy5maWx0ZXIocHJvamVjdCA9PiBwcm9qZWN0LmlkICE9IGlkKTtcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkUHJvamVjdExpc3QpKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVUYXNrID0gKGlkLCB0YXNrSWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSBnZXRQcm9qZWN0cygpO1xuICAgICAgICBjb25zdCBwcm9qZWN0V2l0aFRhc2sgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBpZCk7XG4gICAgICAgIGNvbnN0IGFsbFRhc2tzID0gcHJvamVjdFdpdGhUYXNrLnRhc2tzO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFRhc2tPYmogPSBhbGxUYXNrcy5maWx0ZXIodGFza09iaiA9PiB0YXNrT2JqLnRhc2tJZCAhPSB0YXNrSWQpO1xuICAgICAgICBwcm9qZWN0V2l0aFRhc2sudGFza3MgPSB1cGRhdGVkVGFza09iajtcblxuICAgICAgICBzYXZlUHJvamVjdChwcm9qZWN0V2l0aFRhc2spO1xuICAgIH1cblxuICAgIHJldHVybiB7IGdldFByb2plY3RzLCBnZXRUYXNrcywgc2F2ZVByb2plY3QsIGRlbGV0ZVByb2plY3QsIGRlbGV0ZVRhc2ssIGZpbmRUYXNrVG9VcGRhdGUsIHVwZGF0ZVRhc2sgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB1cGRhdGVTdG9yYWdlKCk7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWlyZWRBcmdzKHJlcXVpcmVkLCBhcmdzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCA8IHJlcXVpcmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihyZXF1aXJlZCArICcgYXJndW1lbnQnICsgKHJlcXVpcmVkID4gMSA/ICdzJyA6ICcnKSArICcgcmVxdWlyZWQsIGJ1dCBvbmx5ICcgKyBhcmdzLmxlbmd0aCArICcgcHJlc2VudCcpO1xuICB9XG59IiwiaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7IC8vIENsb25lIHRoZSBkYXRlXG5cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgYXJndW1lbnQgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0LmlvL2ZqdWxlXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG4gICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCkuc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHN0YXJ0IG9mIGEgZGF5XG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgZGF5IGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZkRheShuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBUdWUgU2VwIDAyIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mRGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGRhdGU7XG59IiwiaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSBcIi4uL3N0YXJ0T2ZEYXkvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGlzU2FtZURheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIGRheT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5P1xuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSBkYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIDA2OjAwOjAwIGFuZCA0IFNlcHRlbWJlciAxODowMDowMCBpbiB0aGUgc2FtZSBkYXk/XG4gKiB2YXIgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQsIDYsIDApLCBuZXcgRGF0ZSgyMDE0LCA4LCA0LCAxOCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1NhbWVEYXkoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZGlydHlEYXRlUmlnaHQpO1xuICByZXR1cm4gZGF0ZUxlZnRTdGFydE9mRGF5LmdldFRpbWUoKSA9PT0gZGF0ZVJpZ2h0U3RhcnRPZkRheS5nZXRUaW1lKCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9JbnRlZ2VyKGRpcnR5TnVtYmVyKSB7XG4gIGlmIChkaXJ0eU51bWJlciA9PT0gbnVsbCB8fCBkaXJ0eU51bWJlciA9PT0gdHJ1ZSB8fCBkaXJ0eU51bWJlciA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG5cbiAgdmFyIG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7XG5cbiAgaWYgKGlzTmFOKG51bWJlcikpIHtcbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG5cbiAgcmV0dXJuIG51bWJlciA8IDAgPyBNYXRoLmNlaWwobnVtYmVyKSA6IE1hdGguZmxvb3IobnVtYmVyKTtcbn0iLCJpbXBvcnQgdG9JbnRlZ2VyIGZyb20gXCIuLi9fbGliL3RvSW50ZWdlci9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbnZhciBNSUxMSVNFQ09ORFNfSU5fSE9VUiA9IDM2MDAwMDA7XG52YXIgTUlMTElTRUNPTkRTX0lOX01JTlVURSA9IDYwMDAwO1xudmFyIERFRkFVTFRfQURESVRJT05BTF9ESUdJVFMgPSAyO1xudmFyIHBhdHRlcm5zID0ge1xuICBkYXRlVGltZURlbGltaXRlcjogL1tUIF0vLFxuICB0aW1lWm9uZURlbGltaXRlcjogL1taIF0vaSxcbiAgdGltZXpvbmU6IC8oW1orLV0uKikkL1xufTtcbnZhciBkYXRlUmVnZXggPSAvXi0/KD86KFxcZHszfSl8KFxcZHsyfSkoPzotPyhcXGR7Mn0pKT98VyhcXGR7Mn0pKD86LT8oXFxkezF9KSk/fCkkLztcbnZhciB0aW1lUmVnZXggPSAvXihcXGR7Mn0oPzpbLixdXFxkKik/KSg/Ojo/KFxcZHsyfSg/OlsuLF1cXGQqKT8pKT8oPzo6PyhcXGR7Mn0oPzpbLixdXFxkKik/KSk/JC87XG52YXIgdGltZXpvbmVSZWdleCA9IC9eKFsrLV0pKFxcZHsyfSkoPzo6PyhcXGR7Mn0pKT8kLztcbi8qKlxuICogQG5hbWUgcGFyc2VJU09cbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgUGFyc2UgSVNPIHN0cmluZ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUGFyc2UgdGhlIGdpdmVuIHN0cmluZyBpbiBJU08gODYwMSBmb3JtYXQgYW5kIHJldHVybiBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIEZ1bmN0aW9uIGFjY2VwdHMgY29tcGxldGUgSVNPIDg2MDEgZm9ybWF0cyBhcyB3ZWxsIGFzIHBhcnRpYWwgaW1wbGVtZW50YXRpb25zLlxuICogSVNPIDg2MDE6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDFcbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXNuJ3QgYSBzdHJpbmcsIHRoZSBmdW5jdGlvbiBjYW5ub3QgcGFyc2UgdGhlIHN0cmluZyBvclxuICogdGhlIHZhbHVlcyBhcmUgaW52YWxpZCwgaXQgcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiAtIFRoZSBwcmV2aW91cyBgcGFyc2VgIGltcGxlbWVudGF0aW9uIHdhcyByZW5hbWVkIHRvIGBwYXJzZUlTT2AuXG4gKlxuICogICBgYGBqYXZhc2NyaXB0XG4gKiAgIC8vIEJlZm9yZSB2Mi4wLjBcbiAqICAgcGFyc2UoJzIwMTYtMDEtMDEnKVxuICpcbiAqICAgLy8gdjIuMC4wIG9ud2FyZFxuICogICBwYXJzZUlTTygnMjAxNi0wMS0wMScpXG4gKiAgIGBgYFxuICpcbiAqIC0gYHBhcnNlSVNPYCBub3cgdmFsaWRhdGVzIHNlcGFyYXRlIGRhdGUgYW5kIHRpbWUgdmFsdWVzIGluIElTTy04NjAxIHN0cmluZ3NcbiAqICAgYW5kIHJldHVybnMgYEludmFsaWQgRGF0ZWAgaWYgdGhlIGRhdGUgaXMgaW52YWxpZC5cbiAqXG4gKiAgIGBgYGphdmFzY3JpcHRcbiAqICAgcGFyc2VJU08oJzIwMTgtMTMtMzInKVxuICogICAvLz0+IEludmFsaWQgRGF0ZVxuICogICBgYGBcbiAqXG4gKiAtIGBwYXJzZUlTT2Agbm93IGRvZXNuJ3QgZmFsbCBiYWNrIHRvIGBuZXcgRGF0ZWAgY29uc3RydWN0b3JcbiAqICAgaWYgaXQgZmFpbHMgdG8gcGFyc2UgYSBzdHJpbmcgYXJndW1lbnQuIEluc3RlYWQsIGl0IHJldHVybnMgYEludmFsaWQgRGF0ZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHswfDF8Mn0gW29wdGlvbnMuYWRkaXRpb25hbERpZ2l0cz0yXSAtIHRoZSBhZGRpdGlvbmFsIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGV4dGVuZGVkIHllYXIgZm9ybWF0XG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHBhcnNlZCBkYXRlIGluIHRoZSBsb2NhbCB0aW1lIHpvbmVcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMuYWRkaXRpb25hbERpZ2l0c2AgbXVzdCBiZSAwLCAxIG9yIDJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCBzdHJpbmcgJzIwMTQtMDItMTFUMTE6MzA6MzAnIHRvIGRhdGU6XG4gKiB2YXIgcmVzdWx0ID0gcGFyc2VJU08oJzIwMTQtMDItMTFUMTE6MzA6MzAnKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCBzdHJpbmcgJyswMjAxNDEwMScgdG8gZGF0ZSxcbiAqIC8vIGlmIHRoZSBhZGRpdGlvbmFsIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGV4dGVuZGVkIHllYXIgZm9ybWF0IGlzIDE6XG4gKiB2YXIgcmVzdWx0ID0gcGFyc2VJU08oJyswMjAxNDEwMScsIHsgYWRkaXRpb25hbERpZ2l0czogMSB9KVxuICogLy89PiBGcmkgQXByIDExIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUlTTyhhcmd1bWVudCwgZGlydHlPcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgdmFyIGFkZGl0aW9uYWxEaWdpdHMgPSBvcHRpb25zLmFkZGl0aW9uYWxEaWdpdHMgPT0gbnVsbCA/IERFRkFVTFRfQURESVRJT05BTF9ESUdJVFMgOiB0b0ludGVnZXIob3B0aW9ucy5hZGRpdGlvbmFsRGlnaXRzKTtcblxuICBpZiAoYWRkaXRpb25hbERpZ2l0cyAhPT0gMiAmJiBhZGRpdGlvbmFsRGlnaXRzICE9PSAxICYmIGFkZGl0aW9uYWxEaWdpdHMgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYWRkaXRpb25hbERpZ2l0cyBtdXN0IGJlIDAsIDEgb3IgMicpO1xuICB9XG5cbiAgaWYgKCEodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpID09PSAnW29iamVjdCBTdHJpbmddJykpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxuXG4gIHZhciBkYXRlU3RyaW5ncyA9IHNwbGl0RGF0ZVN0cmluZyhhcmd1bWVudCk7XG4gIHZhciBkYXRlO1xuXG4gIGlmIChkYXRlU3RyaW5ncy5kYXRlKSB7XG4gICAgdmFyIHBhcnNlWWVhclJlc3VsdCA9IHBhcnNlWWVhcihkYXRlU3RyaW5ncy5kYXRlLCBhZGRpdGlvbmFsRGlnaXRzKTtcbiAgICBkYXRlID0gcGFyc2VEYXRlKHBhcnNlWWVhclJlc3VsdC5yZXN0RGF0ZVN0cmluZywgcGFyc2VZZWFyUmVzdWx0LnllYXIpO1xuICB9XG5cbiAgaWYgKGlzTmFOKGRhdGUpIHx8ICFkYXRlKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cblxuICB2YXIgdGltZXN0YW1wID0gZGF0ZS5nZXRUaW1lKCk7XG4gIHZhciB0aW1lID0gMDtcbiAgdmFyIG9mZnNldDtcblxuICBpZiAoZGF0ZVN0cmluZ3MudGltZSkge1xuICAgIHRpbWUgPSBwYXJzZVRpbWUoZGF0ZVN0cmluZ3MudGltZSk7XG5cbiAgICBpZiAoaXNOYU4odGltZSkgfHwgdGltZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGVTdHJpbmdzLnRpbWV6b25lKSB7XG4gICAgb2Zmc2V0ID0gcGFyc2VUaW1lem9uZShkYXRlU3RyaW5ncy50aW1lem9uZSk7XG5cbiAgICBpZiAoaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBkaXJ0eURhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXAgKyB0aW1lKTsgLy8ganMgcGFyc2VkIHN0cmluZyBhc3N1bWluZyBpdCdzIGluIFVUQyB0aW1lem9uZVxuICAgIC8vIGJ1dCB3ZSBuZWVkIGl0IHRvIGJlIHBhcnNlZCBpbiBvdXIgdGltZXpvbmVcbiAgICAvLyBzbyB3ZSB1c2UgdXRjIHZhbHVlcyB0byBidWlsZCBkYXRlIGluIG91ciB0aW1lem9uZS5cbiAgICAvLyBZZWFyIHZhbHVlcyBmcm9tIDAgdG8gOTkgbWFwIHRvIHRoZSB5ZWFycyAxOTAwIHRvIDE5OTlcbiAgICAvLyBzbyBzZXQgeWVhciBleHBsaWNpdGx5IHdpdGggc2V0RnVsbFllYXIuXG5cbiAgICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoMCk7XG4gICAgcmVzdWx0LnNldEZ1bGxZZWFyKGRpcnR5RGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkaXJ0eURhdGUuZ2V0VVRDTW9udGgoKSwgZGlydHlEYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgcmVzdWx0LnNldEhvdXJzKGRpcnR5RGF0ZS5nZXRVVENIb3VycygpLCBkaXJ0eURhdGUuZ2V0VVRDTWludXRlcygpLCBkaXJ0eURhdGUuZ2V0VVRDU2Vjb25kcygpLCBkaXJ0eURhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wICsgdGltZSArIG9mZnNldCk7XG59XG5cbmZ1bmN0aW9uIHNwbGl0RGF0ZVN0cmluZyhkYXRlU3RyaW5nKSB7XG4gIHZhciBkYXRlU3RyaW5ncyA9IHt9O1xuICB2YXIgYXJyYXkgPSBkYXRlU3RyaW5nLnNwbGl0KHBhdHRlcm5zLmRhdGVUaW1lRGVsaW1pdGVyKTtcbiAgdmFyIHRpbWVTdHJpbmc7IC8vIFRoZSByZWdleCBtYXRjaCBzaG91bGQgb25seSByZXR1cm4gYXQgbWF4aW11bSB0d28gYXJyYXkgZWxlbWVudHMuXG4gIC8vIFtkYXRlXSwgW3RpbWVdLCBvciBbZGF0ZSwgdGltZV0uXG5cbiAgaWYgKGFycmF5Lmxlbmd0aCA+IDIpIHtcbiAgICByZXR1cm4gZGF0ZVN0cmluZ3M7XG4gIH1cblxuICBpZiAoLzovLnRlc3QoYXJyYXlbMF0pKSB7XG4gICAgZGF0ZVN0cmluZ3MuZGF0ZSA9IG51bGw7XG4gICAgdGltZVN0cmluZyA9IGFycmF5WzBdO1xuICB9IGVsc2Uge1xuICAgIGRhdGVTdHJpbmdzLmRhdGUgPSBhcnJheVswXTtcbiAgICB0aW1lU3RyaW5nID0gYXJyYXlbMV07XG5cbiAgICBpZiAocGF0dGVybnMudGltZVpvbmVEZWxpbWl0ZXIudGVzdChkYXRlU3RyaW5ncy5kYXRlKSkge1xuICAgICAgZGF0ZVN0cmluZ3MuZGF0ZSA9IGRhdGVTdHJpbmcuc3BsaXQocGF0dGVybnMudGltZVpvbmVEZWxpbWl0ZXIpWzBdO1xuICAgICAgdGltZVN0cmluZyA9IGRhdGVTdHJpbmcuc3Vic3RyKGRhdGVTdHJpbmdzLmRhdGUubGVuZ3RoLCBkYXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRpbWVTdHJpbmcpIHtcbiAgICB2YXIgdG9rZW4gPSBwYXR0ZXJucy50aW1lem9uZS5leGVjKHRpbWVTdHJpbmcpO1xuXG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lID0gdGltZVN0cmluZy5yZXBsYWNlKHRva2VuWzFdLCAnJyk7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lem9uZSA9IHRva2VuWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRlU3RyaW5ncy50aW1lID0gdGltZVN0cmluZztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGF0ZVN0cmluZ3M7XG59XG5cbmZ1bmN0aW9uIHBhcnNlWWVhcihkYXRlU3RyaW5nLCBhZGRpdGlvbmFsRGlnaXRzKSB7XG4gIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ14oPzooXFxcXGR7NH18WystXVxcXFxkeycgKyAoNCArIGFkZGl0aW9uYWxEaWdpdHMpICsgJ30pfChcXFxcZHsyfXxbKy1dXFxcXGR7JyArICgyICsgYWRkaXRpb25hbERpZ2l0cykgKyAnfSkkKScpO1xuICB2YXIgY2FwdHVyZXMgPSBkYXRlU3RyaW5nLm1hdGNoKHJlZ2V4KTsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHllYXJcblxuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4ge1xuICAgIHllYXI6IG51bGxcbiAgfTtcbiAgdmFyIHllYXIgPSBjYXB0dXJlc1sxXSAmJiBwYXJzZUludChjYXB0dXJlc1sxXSk7XG4gIHZhciBjZW50dXJ5ID0gY2FwdHVyZXNbMl0gJiYgcGFyc2VJbnQoY2FwdHVyZXNbMl0pO1xuICByZXR1cm4ge1xuICAgIHllYXI6IGNlbnR1cnkgPT0gbnVsbCA/IHllYXIgOiBjZW50dXJ5ICogMTAwLFxuICAgIHJlc3REYXRlU3RyaW5nOiBkYXRlU3RyaW5nLnNsaWNlKChjYXB0dXJlc1sxXSB8fCBjYXB0dXJlc1syXSkubGVuZ3RoKVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZURhdGUoZGF0ZVN0cmluZywgeWVhcikge1xuICAvLyBJbnZhbGlkIElTTy1mb3JtYXR0ZWQgeWVhclxuICBpZiAoeWVhciA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjYXB0dXJlcyA9IGRhdGVTdHJpbmcubWF0Y2goZGF0ZVJlZ2V4KTsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHN0cmluZ1xuXG4gIGlmICghY2FwdHVyZXMpIHJldHVybiBudWxsO1xuICB2YXIgaXNXZWVrRGF0ZSA9ICEhY2FwdHVyZXNbNF07XG4gIHZhciBkYXlPZlllYXIgPSBwYXJzZURhdGVVbml0KGNhcHR1cmVzWzFdKTtcbiAgdmFyIG1vbnRoID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1syXSkgLSAxO1xuICB2YXIgZGF5ID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1szXSk7XG4gIHZhciB3ZWVrID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1s0XSk7XG4gIHZhciBkYXlPZldlZWsgPSBwYXJzZURhdGVVbml0KGNhcHR1cmVzWzVdKSAtIDE7XG5cbiAgaWYgKGlzV2Vla0RhdGUpIHtcbiAgICBpZiAoIXZhbGlkYXRlV2Vla0RhdGUoeWVhciwgd2VlaywgZGF5T2ZXZWVrKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRheU9mSVNPV2Vla1llYXIoeWVhciwgd2VlaywgZGF5T2ZXZWVrKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuXG4gICAgaWYgKCF2YWxpZGF0ZURhdGUoeWVhciwgbW9udGgsIGRheSkgfHwgIXZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICB9XG5cbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHllYXIsIG1vbnRoLCBNYXRoLm1heChkYXlPZlllYXIsIGRheSkpO1xuICAgIHJldHVybiBkYXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF0ZVVuaXQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gcGFyc2VJbnQodmFsdWUpIDogMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUaW1lKHRpbWVTdHJpbmcpIHtcbiAgdmFyIGNhcHR1cmVzID0gdGltZVN0cmluZy5tYXRjaCh0aW1lUmVnZXgpO1xuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4gbnVsbDsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHRpbWVcblxuICB2YXIgaG91cnMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzFdKTtcbiAgdmFyIG1pbnV0ZXMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzJdKTtcbiAgdmFyIHNlY29uZHMgPSBwYXJzZVRpbWVVbml0KGNhcHR1cmVzWzNdKTtcblxuICBpZiAoIXZhbGlkYXRlVGltZShob3VycywgbWludXRlcywgc2Vjb25kcykpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG5cbiAgcmV0dXJuIGhvdXJzICogTUlMTElTRUNPTkRTX0lOX0hPVVIgKyBtaW51dGVzICogTUlMTElTRUNPTkRTX0lOX01JTlVURSArIHNlY29uZHMgKiAxMDAwO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRpbWVVbml0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJiBwYXJzZUZsb2F0KHZhbHVlLnJlcGxhY2UoJywnLCAnLicpKSB8fCAwO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRpbWV6b25lKHRpbWV6b25lU3RyaW5nKSB7XG4gIGlmICh0aW1lem9uZVN0cmluZyA9PT0gJ1onKSByZXR1cm4gMDtcbiAgdmFyIGNhcHR1cmVzID0gdGltZXpvbmVTdHJpbmcubWF0Y2godGltZXpvbmVSZWdleCk7XG4gIGlmICghY2FwdHVyZXMpIHJldHVybiAwO1xuICB2YXIgc2lnbiA9IGNhcHR1cmVzWzFdID09PSAnKycgPyAtMSA6IDE7XG4gIHZhciBob3VycyA9IHBhcnNlSW50KGNhcHR1cmVzWzJdKTtcbiAgdmFyIG1pbnV0ZXMgPSBjYXB0dXJlc1szXSAmJiBwYXJzZUludChjYXB0dXJlc1szXSkgfHwgMDtcblxuICBpZiAoIXZhbGlkYXRlVGltZXpvbmUoaG91cnMsIG1pbnV0ZXMpKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuXG4gIHJldHVybiBzaWduICogKGhvdXJzICogTUlMTElTRUNPTkRTX0lOX0hPVVIgKyBtaW51dGVzICogTUlMTElTRUNPTkRTX0lOX01JTlVURSk7XG59XG5cbmZ1bmN0aW9uIGRheU9mSVNPV2Vla1llYXIoaXNvV2Vla1llYXIsIHdlZWssIGRheSkge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGlzb1dlZWtZZWFyLCAwLCA0KTtcbiAgdmFyIGZvdXJ0aE9mSmFudWFyeURheSA9IGRhdGUuZ2V0VVRDRGF5KCkgfHwgNztcbiAgdmFyIGRpZmYgPSAod2VlayAtIDEpICogNyArIGRheSArIDEgLSBmb3VydGhPZkphbnVhcnlEYXk7XG4gIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSArIGRpZmYpO1xuICByZXR1cm4gZGF0ZTtcbn0gLy8gVmFsaWRhdGlvbiBmdW5jdGlvbnNcbi8vIEZlYnJ1YXJ5IGlzIG51bGwgdG8gaGFuZGxlIHRoZSBsZWFwIHllYXIgKHVzaW5nIHx8KVxuXG5cbnZhciBkYXlzSW5Nb250aHMgPSBbMzEsIG51bGwsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcblxuZnVuY3Rpb24gaXNMZWFwWWVhckluZGV4KHllYXIpIHtcbiAgcmV0dXJuIHllYXIgJSA0MDAgPT09IDAgfHwgeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVEYXRlKHllYXIsIG1vbnRoLCBkYXRlKSB7XG4gIHJldHVybiBtb250aCA+PSAwICYmIG1vbnRoIDw9IDExICYmIGRhdGUgPj0gMSAmJiBkYXRlIDw9IChkYXlzSW5Nb250aHNbbW9udGhdIHx8IChpc0xlYXBZZWFySW5kZXgoeWVhcikgPyAyOSA6IDI4KSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpIHtcbiAgcmV0dXJuIGRheU9mWWVhciA+PSAxICYmIGRheU9mWWVhciA8PSAoaXNMZWFwWWVhckluZGV4KHllYXIpID8gMzY2IDogMzY1KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVXZWVrRGF0ZShfeWVhciwgd2VlaywgZGF5KSB7XG4gIHJldHVybiB3ZWVrID49IDEgJiYgd2VlayA8PSA1MyAmJiBkYXkgPj0gMCAmJiBkYXkgPD0gNjtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVUaW1lKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKSB7XG4gIGlmIChob3VycyA9PT0gMjQpIHtcbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCAmJiBzZWNvbmRzID09PSAwO1xuICB9XG5cbiAgcmV0dXJuIHNlY29uZHMgPj0gMCAmJiBzZWNvbmRzIDwgNjAgJiYgbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCAmJiBob3VycyA+PSAwICYmIGhvdXJzIDwgMjU7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVGltZXpvbmUoX2hvdXJzLCBtaW51dGVzKSB7XG4gIHJldHVybiBtaW51dGVzID49IDAgJiYgbWludXRlcyA8PSA1OTtcbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gXCIuLi90b0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCB0b0ludGVnZXIgZnJvbSBcIi4uL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEBwYXJhbSB7MHwxfDJ8M3w0fDV8Nn0gW29wdGlvbnMud2Vla1N0YXJ0c09uPTBdIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgKDAgLSBTdW5kYXkpXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHN0YXJ0IG9mIGEgd2Vla1xuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBTdW4gQXVnIDMxIDIwMTQgMDA6MDA6MDBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdGhlIHdlZWsgc3RhcnRzIG9uIE1vbmRheSwgdGhlIHN0YXJ0IG9mIHRoZSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gTW9uIFNlcCAwMSAyMDE0IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRPZldlZWsoZGlydHlEYXRlLCBkaXJ0eU9wdGlvbnMpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICB2YXIgbG9jYWxlID0gb3B0aW9ucy5sb2NhbGU7XG4gIHZhciBsb2NhbGVXZWVrU3RhcnRzT24gPSBsb2NhbGUgJiYgbG9jYWxlLm9wdGlvbnMgJiYgbG9jYWxlLm9wdGlvbnMud2Vla1N0YXJ0c09uO1xuICB2YXIgZGVmYXVsdFdlZWtTdGFydHNPbiA9IGxvY2FsZVdlZWtTdGFydHNPbiA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihsb2NhbGVXZWVrU3RhcnRzT24pO1xuICB2YXIgd2Vla1N0YXJ0c09uID0gb3B0aW9ucy53ZWVrU3RhcnRzT24gPT0gbnVsbCA/IGRlZmF1bHRXZWVrU3RhcnRzT24gOiB0b0ludGVnZXIob3B0aW9ucy53ZWVrU3RhcnRzT24pOyAvLyBUZXN0IGlmIHdlZWtTdGFydHNPbiBpcyBiZXR3ZWVuIDAgYW5kIDYgX2FuZF8gaXMgbm90IE5hTlxuXG4gIGlmICghKHdlZWtTdGFydHNPbiA+PSAwICYmIHdlZWtTdGFydHNPbiA8PSA2KSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd3ZWVrU3RhcnRzT24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDYgaW5jbHVzaXZlbHknKTtcbiAgfVxuXG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICB2YXIgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG4gIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGRpZmYpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgc3RhcnRPZldlZWsgZnJvbSBcIi4uL3N0YXJ0T2ZXZWVrL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzU2FtZVdlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVMZWZ0IC0gdGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEBwYXJhbSB7MHwxfDJ8M3w0fDV8Nn0gW29wdGlvbnMud2Vla1N0YXJ0c09uPTBdIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgKDAgLSBTdW5kYXkpXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSB3ZWVrXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAzMSBBdWd1c3QgMjAxNCBhbmQgNCBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSB3ZWVrP1xuICogdmFyIHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB3ZWVrIHN0YXJ0cyB3aXRoIE1vbmRheSxcbiAqIC8vIGFyZSAzMSBBdWd1c3QgMjAxNCBhbmQgNCBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSB3ZWVrP1xuICogdmFyIHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSwge1xuICogICB3ZWVrU3RhcnRzT246IDFcbiAqIH0pXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzU2FtZVdlZWsoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQsIGRpcnR5T3B0aW9ucykge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGVMZWZ0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkaXJ0eURhdGVMZWZ0LCBkaXJ0eU9wdGlvbnMpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkaXJ0eURhdGVSaWdodCwgZGlydHlPcHRpb25zKTtcbiAgcmV0dXJuIGRhdGVMZWZ0U3RhcnRPZldlZWsuZ2V0VGltZSgpID09PSBkYXRlUmlnaHRTdGFydE9mV2Vlay5nZXRUaW1lKCk7XG59IiwiaW1wb3J0IHsgdXBkYXRlUHJvamVjdExpc3QsIHVwZGF0ZUFjdGl2ZVRhYiwgYWRkUHJvamVjdFRvTm90ZXBhZCwgbG9hZFRhc2sgfSBmcm9tIFwiLi9jcmVhdGVET01FbGVtZW50c1wiO1xuaW1wb3J0IHVwZGF0ZVN0b3JhZ2UgZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgaXNUaGlzV2VlaywgaXNUb2RheSwgcGFyc2VJU08gfSBmcm9tIFwiZGF0ZS1mbnNcIjtcblxuY29uc3QgaGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgXG4gICAgY29uc3QgX3JlZnJlc2hQcm9qZWN0TGlzdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7IC8vIFVwZGF0ZSBwcm9qZWN0cyBpbiBzdG9yYWdlICAgICAgICBcbiAgICAgICAgdXBkYXRlUHJvamVjdExpc3QocHJvamVjdHMpOyAvLyBVcGRhdGUgcHJvamVjdHMgb24gRE9NXG4gICAgfVxuXG4gICAgY29uc3Qgb25Ib21lVGFiU2VsZWN0ID0gKHByb2plY3RzLCB0YWIpID0+IHtcbiAgICAgICAgbG9hZEFsbFByb2plY3RzKHByb2plY3RzKTsgIFxuICAgICAgICB1cGRhdGVBY3RpdmVUYWIodGFiKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb25Ub2RheVRhYlNlbGVjdCA9IChwcm9qZWN0cywgdGFiKSA9PiB7XG4gICAgICAgIGxvYWRBbGxQcm9qZWN0cyhwcm9qZWN0cyk7XG4gICAgICAgIC8vIEZpbHRlciBwcm9qZWN0cyB0aGF0IGhhdmUgdGFza3MgZHVlIHRvZGF5XG4gICAgICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXNrcyA9IHByb2plY3QudGFza3M7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvZGF5c1Rhc2tzID0gdGFza3MuZmlsdGVyKHRhc2sgPT4gZHVlVG9kYXkodGFzaykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBIaWRlIHByb2plY3QgY29udGFpbmVyIGlmIG5vIHRhc2tzIGR1ZSB0b2RheVxuICAgICAgICAgICAgaWYgKHRvZGF5c1Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZXBhZCcpXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IG5vdGVwYWQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdC1pZD1cIiR7cHJvamVjdC5pZH1cIl1gKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0Q29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGFza3MgdGhhdCBhcmUgbm90IGR1ZSB0b2RheSBmcm9tIERPTVxuICAgICAgICAgICAgY29uc3Qgbm90RHVlVG9kYXkgPSB0YXNrcy5maWx0ZXIodGFzayA9PiAhZHVlVG9kYXkodGFzaykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBub3REdWVUb2RheS5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWlkPVwiJHt0YXNrLnRhc2tJZH1cIl1gKTtcbiAgICAgICAgICAgICAgICBpZiAodGFza0NvbnRhaW5lcikgdGFza0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlQWN0aXZlVGFiKHRhYik7XG4gICAgfVxuXG4gICAgY29uc3QgZHVlVG9kYXkgPSAodGFzaykgPT4ge1xuICAgICAgICBpZiAoaXNUb2RheShwYXJzZUlTTyh0YXNrLmR1ZURhdGUpKSkgcmV0dXJuIHRhc2s7XG4gICAgfVxuXG4gICAgY29uc3Qgb25UaGlzV2Vla1RhYlNlbGVjdCA9IChwcm9qZWN0cywgdGFiKSA9PiB7XG4gICAgICAgIGxvYWRBbGxQcm9qZWN0cyhwcm9qZWN0cyk7XG5cbiAgICAgICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gcHJvamVjdC50YXNrcztcbiAgICAgICAgICAgIGNvbnN0IHRoaXNXZWVrc1Rhc2tzID0gdGFza3MuZmlsdGVyKHRhc2sgPT4gZHVlVGhpc1dlZWsodGFzaykpO1xuXG4gICAgICAgICAgICAvLyBIaWRlIHByb2plY3QgY29udGFpbmVyIGlmIG5vIHRhc2tzIGR1ZSB0aGlzIHdlZWtcbiAgICAgICAgICAgIGlmICh0aGlzV2Vla3NUYXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGVwYWQnKVxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke3Byb2plY3QuaWR9XCJdYCk7XG4gICAgICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRhc2tzIHRoYXQgYXJlIG5vdCBkdWUgdGhpcyB3ZWVrIGZyb20gRE9NXG4gICAgICAgICAgICBjb25zdCBub3REdWVUaGlzV2VlayA9IHRhc2tzLmZpbHRlcih0YXNrID0+ICFkdWVUaGlzV2Vlayh0YXNrKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5vdER1ZVRoaXNXZWVrLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staWQ9XCIke3Rhc2sudGFza0lkfVwiXWApO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrQ29udGFpbmVyKSB0YXNrQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyAgIFxuICAgICAgICB1cGRhdGVBY3RpdmVUYWIodGFiKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdWVUaGlzV2VlayA9ICh0YXNrKSA9PiB7XG4gICAgICAgIGlmIChpc1RoaXNXZWVrKHBhcnNlSVNPKHRhc2suZHVlRGF0ZSkpKSByZXR1cm4gdGFzaztcbiAgICB9XG5cbiAgICBjb25zdCBsb2FkQWxsUHJvamVjdHMgPSAocHJvamVjdHMpID0+IHtcbiAgICAgICAgY2xlYXJQcm9qZWN0c0Zyb21ET00oKTtcbiAgICAgICAgY29uc3Qgbm90ZXBhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlcGFkJyk7XG4gICAgICAgIFxuICAgICAgICBwcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICAgICAgYWRkUHJvamVjdFRvTm90ZXBhZChwcm9qZWN0LmlkKTtcblxuICAgICAgICAgICAgY29uc3QgcHJvamVjdFRhc2tzID0gcHJvamVjdC50YXNrcztcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke3Byb2plY3QuaWR9XCJdYCk7XG4gICAgICAgICAgICBjb25zdCB0YXNrc0xpc3QgPSBwcm9qZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7XG4gICAgICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gcHJvamVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2snKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvamVjdFRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1RvQWRkID0gbG9hZFRhc2sodGFzayk7XG4gICAgICAgICAgICAgICAgdGFza3NMaXN0Lmluc2VydEJlZm9yZSh0YXNrVG9BZGQsIGFkZFRhc2tCdG4ucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSAgXG5cbiAgICBjb25zdCBjbGVhclByb2plY3RzRnJvbURPTSA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgd3JpdGluZ0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JpdGluZy1hcmVhJyk7XG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gd3JpdGluZ0FyZWEucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QnKTtcbiAgICAgICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHByb2plY3QucmVtb3ZlKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uUHJvamVjdFNlbGVjdCA9IChwcm9qZWN0SWQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGxvYWRBbGxQcm9qZWN0cyhwcm9qZWN0cyk7XG4gICAgICAgIGNvbnN0IHByb2plY3RPYmplY3QgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpZGViYXInKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQcm9qZWN0ID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPScke3Byb2plY3RPYmplY3QuaWR9J11gKTtcbiAgICAgICAgY29uc3QgcHJvamVjdHNPbk5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdCcpO1xuXG4gICAgICAgIHByb2plY3RzT25Ob3RlcGFkLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBpZiAocHJvamVjdC5kYXRhc2V0LnByb2plY3RJZCAhPSBwcm9qZWN0SWQpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0LnJlbW92ZSgpO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZUFjdGl2ZVRhYihzZWxlY3RlZFByb2plY3QpO1xuICAgIH1cblxuICAgIGNvbnN0IG9uUHJvamVjdEFkZCA9IChwcm9qZWN0TmFtZSkgPT4ge1xuICAgICAgICAvLyBwYXNzIHVzZXIgaW5wdXQgaW50byBmdW5jdGlvblxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gIHtcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0TmFtZSxcbiAgICAgICAgICAgIHRhc2tzOiBbXVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2Uuc2F2ZVByb2plY3QobmV3UHJvamVjdCk7XG4gICAgICAgIC8vIGFkZCBpbnB1dCB0byBwYWdlXG4gICAgICAgIF9yZWZyZXNoUHJvamVjdExpc3QoKTtcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdERPTUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPScke25ld1Byb2plY3QuaWR9J11gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb25UYXNrQWRkID0gKHRhc2ssIGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2sgPSB7XG4gICAgICAgICAgICBpdGVtOiB0YXNrLCBcbiAgICAgICAgICAgIHRhc2tJZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCksXG4gICAgICAgICAgICBwcmlvcml0eTogJ2xvdycsXG4gICAgICAgICAgICBkdWVEYXRlOiBudWxsLFxuICAgICAgICAgICAgaXNDb21wbGV0ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdFRvVXBkYXRlID0gcHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT0gaWQpO1xuICAgICAgICBwcm9qZWN0VG9VcGRhdGUudGFza3MucHVzaChuZXdUYXNrKTtcbiAgICAgICAgdXBkYXRlU3RvcmFnZS5zYXZlUHJvamVjdChwcm9qZWN0VG9VcGRhdGUpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2s7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9uUHJvamVjdE5hbWVFZGl0ID0gKHByb2plY3RJZCwgcHJvamVjdE5hbWUsIHRhc2tzID0gdXBkYXRlU3RvcmFnZS5nZXRUYXNrcyhwcm9qZWN0SWQpKSA9PiB7XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2Uuc2F2ZVByb2plY3Qoe1xuICAgICAgICAgICAgaWQ6IHByb2plY3RJZCxcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0TmFtZSxcbiAgICAgICAgICAgIHRhc2tzOiB0YXNrc1xuICAgICAgICB9KTtcblxuICAgICAgICBfcmVmcmVzaFByb2plY3RMaXN0KCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb25UYXNrTmFtZUVkaXQgPSAocHJvamVjdElkLCB0YXNrSWQsIG5ld1Rhc2tOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IHVwZGF0ZVN0b3JhZ2UuZmluZFRhc2tUb1VwZGF0ZShwcm9qZWN0SWQsIHRhc2tJZCk7XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2UudXBkYXRlVGFzayhwcm9qZWN0SWQsIHtcbiAgICAgICAgICAgICAgICBpdGVtOiBuZXdUYXNrTmFtZSxcbiAgICAgICAgICAgICAgICB0YXNrSWQ6IGV4aXN0aW5nVGFzay50YXNrSWQsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IGV4aXN0aW5nVGFzay5wcmlvcml0eSxcbiAgICAgICAgICAgICAgICBkdWVEYXRlOiBleGlzdGluZ1Rhc2suZHVlRGF0ZSxcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBleGlzdGluZ1Rhc2suaXNDb21wbGV0ZVxuICAgICAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICBjb25zdCBvblRhc2tQcmlvcml0eUVkaXQgPSAocHJvamVjdElkLCB0YXNrSWQsIG5ld1ByaW9yaXR5KSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IHVwZGF0ZVN0b3JhZ2UuZmluZFRhc2tUb1VwZGF0ZShwcm9qZWN0SWQsIHRhc2tJZCk7XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2UudXBkYXRlVGFzayhwcm9qZWN0SWQsIHtcbiAgICAgICAgICAgICAgICBpdGVtOiBleGlzdGluZ1Rhc2suaXRlbSxcbiAgICAgICAgICAgICAgICB0YXNrSWQ6IGV4aXN0aW5nVGFzay50YXNrSWQsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IG5ld1ByaW9yaXR5LFxuICAgICAgICAgICAgICAgIGR1ZURhdGU6IGV4aXN0aW5nVGFzay5kdWVEYXRlLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGV4aXN0aW5nVGFzay5pc0NvbXBsZXRlXG4gICAgICAgICAgICB9KTsgIFxuICAgIH1cblxuICAgIGNvbnN0IG9uVGFza0R1ZURhdGVFZGl0ID0gKHByb2plY3RJZCwgdGFza0lkLCBuZXdEdWVEYXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IHVwZGF0ZVN0b3JhZ2UuZmluZFRhc2tUb1VwZGF0ZShwcm9qZWN0SWQsIHRhc2tJZCk7XG4gICAgICAgIHVwZGF0ZVN0b3JhZ2UudXBkYXRlVGFzayhwcm9qZWN0SWQsIHtcbiAgICAgICAgICAgICAgICBpdGVtOiBleGlzdGluZ1Rhc2suaXRlbSxcbiAgICAgICAgICAgICAgICB0YXNrSWQ6IGV4aXN0aW5nVGFzay50YXNrSWQsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IGV4aXN0aW5nVGFzay5wcmlvcml0eSxcbiAgICAgICAgICAgICAgICBkdWVEYXRlOiBuZXdEdWVEYXRlLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGV4aXN0aW5nVGFzay5pc0NvbXBsZXRlXG4gICAgICAgICAgICB9KTsgIFxuICAgIH1cblxuICAgIGNvbnN0IG9uVGFza0NvbXBsZXRlRWRpdCA9IChwcm9qZWN0SWQsIHRhc2tJZCwgaXNDb21wbGV0ZSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Rhc2sgPSB1cGRhdGVTdG9yYWdlLmZpbmRUYXNrVG9VcGRhdGUocHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB1cGRhdGVTdG9yYWdlLnVwZGF0ZVRhc2socHJvamVjdElkLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogZXhpc3RpbmdUYXNrLml0ZW0sXG4gICAgICAgICAgICAgICAgdGFza0lkOiBleGlzdGluZ1Rhc2sudGFza0lkLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBleGlzdGluZ1Rhc2sucHJpb3JpdHksXG4gICAgICAgICAgICAgICAgZHVlRGF0ZTogZXhpc3RpbmdUYXNrLmR1ZURhdGUsXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogaXNDb21wbGV0ZVxuICAgICAgICAgICAgfSk7ICBcbiAgICB9XG5cbiAgICByZXR1cm4geyBvblByb2plY3RTZWxlY3QsIG9uUHJvamVjdEFkZCwgb25Qcm9qZWN0TmFtZUVkaXQsIG9uVGFza0FkZCwgb25UYXNrTmFtZUVkaXQsIG9uVGFza1ByaW9yaXR5RWRpdCwgb25UYXNrRHVlRGF0ZUVkaXQsIG9uVGFza0NvbXBsZXRlRWRpdCwgb25Ib21lVGFiU2VsZWN0LCBvblRvZGF5VGFiU2VsZWN0LCBvblRoaXNXZWVrVGFiU2VsZWN0IH1cbiAgICBcbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlcnMoKTsiLCJpbXBvcnQgaXNTYW1lRGF5IGZyb20gXCIuLi9pc1NhbWVEYXkvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGlzVG9kYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIGRhdGUgdG9kYXk/XG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSXMgdGhlIGdpdmVuIGRhdGUgdG9kYXk/XG4gKlxuICogPiDimqDvuI8gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBwcmVzZW50IGluIHRoZSBGUCBzdWJtb2R1bGUgYXNcbiAqID4gaXQgdXNlcyBgRGF0ZS5ub3coKWAgaW50ZXJuYWxseSBoZW5jZSBpbXB1cmUgYW5kIGNhbid0IGJlIHNhZmVseSBjdXJyaWVkLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGUgaXMgdG9kYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyA2IE9jdG9iZXIgMjAxNCwgaXMgNiBPY3RvYmVyIDE0OjAwOjAwIHRvZGF5P1xuICogdmFyIHJlc3VsdCA9IGlzVG9kYXkobmV3IERhdGUoMjAxNCwgOSwgNiwgMTQsIDApKVxuICogLy89PiB0cnVlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNUb2RheShkaXJ0eURhdGUpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBpc1NhbWVEYXkoZGlydHlEYXRlLCBEYXRlLm5vdygpKTtcbn0iLCJpbXBvcnQgaXNTYW1lV2VlayBmcm9tIFwiLi4vaXNTYW1lV2Vlay9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1RoaXNXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSBpbiB0aGUgc2FtZSB3ZWVrIGFzIHRoZSBjdXJyZW50IGRhdGU/XG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSXMgdGhlIGdpdmVuIGRhdGUgaW4gdGhlIHNhbWUgd2VlayBhcyB0aGUgY3VycmVudCBkYXRlP1xuICpcbiAqID4g4pqg77iPIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBub3QgcHJlc2VudCBpbiB0aGUgRlAgc3VibW9kdWxlIGFzXG4gKiA+IGl0IHVzZXMgYERhdGUubm93KClgIGludGVybmFsbHkgaGVuY2UgaW1wdXJlIGFuZCBjYW4ndCBiZSBzYWZlbHkgY3VycmllZC5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIHRoZSBvYmplY3Qgd2l0aCBvcHRpb25zXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEBwYXJhbSB7MHwxfDJ8M3w0fDV8Nn0gW29wdGlvbnMud2Vla1N0YXJ0c09uPTBdIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgKDAgLSBTdW5kYXkpXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGUgaXMgaW4gdGhpcyB3ZWVrXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLndlZWtTdGFydHNPbmAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDZcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgMjUgU2VwdGVtYmVyIDIwMTQsIGlzIDIxIFNlcHRlbWJlciAyMDE0IGluIHRoaXMgd2Vlaz9cbiAqIHZhciByZXN1bHQgPSBpc1RoaXNXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIxKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAyNSBTZXB0ZW1iZXIgMjAxNCBhbmQgd2VlayBzdGFydHMgd2l0aCBNb25kYXlcbiAqIC8vIGlzIDIxIFNlcHRlbWJlciAyMDE0IGluIHRoaXMgd2Vlaz9cbiAqIHZhciByZXN1bHQgPSBpc1RoaXNXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIxKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNUaGlzV2VlayhkaXJ0eURhdGUsIG9wdGlvbnMpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBpc1NhbWVXZWVrKGRpcnR5RGF0ZSwgRGF0ZS5ub3coKSwgb3B0aW9ucyk7XG59IiwiaW1wb3J0IGhhbmRsZXJzIGZyb20gXCIuL2hhbmRsZXJzXCJcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuLy8gRE9NIEVsZW1lbnRzIEZhY3RvcnkgRnVuY3Rpb25cbmNvbnN0IGNyZWF0ZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIFxuICAgIGNvbnN0IGNyZWF0ZUxpc3RFbGVtZW50ID0gKGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlU3BhbkVsZW1lbnQgPSAoaHRtbENsYXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVJbWFnZUVsZW1lbnQgPSAoc3JjLCBodG1sQ2xhc3MpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKGh0bWxDbGFzcyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICdmYWxzZScpO1xuICAgICAgICByZXR1cm4gaW1nO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjcmVhdGVGb3JtID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIHJldHVybiBpbnB1dEZvcm07XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlSW5wdXRGaWVsZCA9IChwbGFjZWhvbGRlclRleHQpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICAgIHVzZXJJbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgcGxhY2Vob2xkZXJUZXh0KTtcbiAgICAgICAgdXNlcklucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCAndXNlci1pbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiB1c2VySW5wdXQ7XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlRGl2ID0gKGh0bWxDbGFzcykgPT4ge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBodG1sQ2xhc3MpO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH1cblxuICAgIHJldHVybiB7Y3JlYXRlTGlzdEVsZW1lbnQsIGNyZWF0ZVNwYW5FbGVtZW50LCBjcmVhdGVJbWFnZUVsZW1lbnQsIGNyZWF0ZUlucHV0RmllbGQsIGNyZWF0ZUZvcm0sIGNyZWF0ZURpdn1cbn1cblxuY29uc3QgY3JlYXRlSWNvblNwYW4gPSAoKSA9PiB7XG4gICAgY29uc3QgdmlldyA9IGNyZWF0ZUVsZW1lbnRzKCk7XG5cbiAgICBjb25zdCBpY29uU3BhbiA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ2ljb25zJyk7XG4gICAgY29uc3QgZWRpdEljb24gPSB2aWV3LmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2VkaXQtaWNvbi5zdmcnLCAnZWRpdC1pY29uJyk7XG4gICAgY29uc3QgZGVsZXRlSWNvbiA9IHZpZXcuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvZGVsZXRlLWljb24uc3ZnJywgJ2RlbGV0ZS1pY29uJyk7XG4gICAgXG4gICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCgnZWRpdC1wcm9qZWN0Jyk7XG4gICAgZGVsZXRlSWNvbi5jbGFzc0xpc3QuYWRkKCdkZWxldGUtcHJvamVjdCcpO1xuICAgIFxuICAgIGljb25TcGFuLmFwcGVuZChlZGl0SWNvbiwgZGVsZXRlSWNvbik7XG4gICAgXG4gICAgcmV0dXJuIGljb25TcGFuO1xufVxuXG5jb25zdCBhZGRQcm9qZWN0VG9TaWRlYmFyID0gKCkgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuXG4gICAgY29uc3QgcHJvamVjdExpc3RFbGVtZW50ID0gIHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Byb2plY3QtaXRlbScpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3RJbnB1dEZvcm0gPSB2aWV3LmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZUlucHV0ID0gdmlldy5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBwcm9qZWN0SW5wdXRGb3JtLmFwcGVuZChwcm9qZWN0TmFtZUlucHV0KTtcblxuICAgIGNvbnN0IGljb25TcGFuID0gY3JlYXRlSWNvblNwYW4oKTtcbiAgICBwcm9qZWN0TGlzdEVsZW1lbnQuYXBwZW5kKHByb2plY3RJbnB1dEZvcm0sIGljb25TcGFuKTtcbiAgICBwcm9qZWN0c0NvbnRhaW5lci5pbnNlcnRCZWZvcmUocHJvamVjdExpc3RFbGVtZW50LCBwcm9qZWN0c0NvbnRhaW5lci5sYXN0RWxlbWVudENoaWxkKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBwcm9qZWN0TmFtZUlucHV0LmZvY3VzKCk7XG4gICAgfSwgMCk7XG59XG5cbmNvbnN0IGFkZFByb2plY3RUb05vdGVwYWQgPSAocHJvamVjdElkKSA9PiB7XG4gICAgY29uc3QgdmlldyA9IGNyZWF0ZUVsZW1lbnRzKCk7XG5cbiAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcbiAgICBjb25zdCBwcm9qZWN0VG9BZGQgPSBwcm9qZWN0cy5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PSBwcm9qZWN0SWQpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdFRvQWRkLnByb2plY3ROYW1lO1xuXG4gICAgY29uc3Qgbm90ZXBhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3cml0aW5nLWFyZWEnKTtcbiAgICBjb25zdCBwcm9qZWN0RGl2ID0gdmlldy5jcmVhdGVEaXYoJ3Byb2plY3QnKTtcbiAgICBwcm9qZWN0RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJywgcHJvamVjdElkKTtcbiAgICBjb25zdCBza2lwTGluZSA9IHZpZXcuY3JlYXRlRGl2KCdza2lwLWxpbmUnKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0SGVhZGluZyA9IHZpZXcuY3JlYXRlRGl2KCdwcm9qZWN0LWhlYWRpbmcnKTtcbiAgICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgaDIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlcGFkLXRleHQnKTtcbiAgICBoMi50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgIGNvbnN0IGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBoMy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ25vdGVwYWQtdGV4dCcpO1xuICAgIGgzLnRleHRDb250ZW50ID0gJ0R1ZSBEYXRlJztcbiAgICAgICAgXG4gICAgY29uc3QgdGFza3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRhc2tzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ25vdGVwYWQtdGV4dCcsICd0b2RvcycpO1xuXG4gICAgY29uc3QgYWRkVGFza0xpc3RFbGVtZW50ID0gdmlldy5jcmVhdGVMaXN0RWxlbWVudCgndGFzaycpO1xuICAgIGNvbnN0IGFkZFRhc2tTcGFuID0gdmlldy5jcmVhdGVTcGFuRWxlbWVudCgnYWRkLXRhc2snKTtcbiAgICBjb25zdCBhZGRJY29uID0gdmlldy5jcmVhdGVJbWFnZUVsZW1lbnQoJ2ltYWdlcy9hZGQtaWNvbi5zdmcnLCAnYWRkLWljb24nKTtcbiAgICBhZGRUYXNrU3Bhbi5hcHBlbmQoYWRkSWNvbiwgJ0FkZCBUYXNrJyk7XG5cbiAgICBhZGRUYXNrTGlzdEVsZW1lbnQuYXBwZW5kKGFkZFRhc2tTcGFuKTtcbiAgICB0YXNrc0NvbnRhaW5lci5hcHBlbmQoYWRkVGFza0xpc3RFbGVtZW50LCBza2lwTGluZSk7XG4gICAgcHJvamVjdEhlYWRpbmcuYXBwZW5kKGgyLCBoMyk7XG4gICAgcHJvamVjdERpdi5hcHBlbmQocHJvamVjdEhlYWRpbmcsIHRhc2tzQ29udGFpbmVyKTtcbiAgICBub3RlcGFkLmFwcGVuZChwcm9qZWN0RGl2KTtcbn1cblxuY29uc3QgYWRkRHVlRGF0ZVRvRE9NID0gKCkgPT4ge1xuICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgnZHVlLWRhdGUnKTtcblxuICAgIGNvbnN0IHByaW9yaXR5SWNvbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvcHJpb3JpdHktaWNvbi5zdmcnLCAncHJpb3JpdHktaWNvbicpXG4gICAgcHJpb3JpdHlJY29uLmNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LWxvdycpO1xuICAgIFxuICAgIGNvbnN0IGRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgZGF0ZUxhYmVsLmNsYXNzTGlzdC5hZGQoJ2RhdGUtbGFiZWwnKTtcbiAgICBcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZGF0ZScpO1xuICAgIGRhdGVJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICBjb25zdCBjYWxlbmRhckljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2NhbGVuZGFyLWljb24uc3ZnJywgJ2NhbGVuZGFyLWljb24nKTtcblxuICAgIGRhdGVMYWJlbC5hcHBlbmQoZGF0ZUlucHV0LCBjYWxlbmRhckljb24pO1xuICAgIGR1ZURhdGVTcGFuLmFwcGVuZChwcmlvcml0eUljb24sIGRhdGVMYWJlbCk7XG4gICAgXG4gICAgLy8gdXBkYXRlIGxvY2FsU3RvcmFnZSBvbiBkdWUgZGF0ZSBjaGFuZ2VcbiAgICBkYXRlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBkYXRlSW5wdXQuY2xvc2VzdCgnLnByb2plY3QnKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICAgICAgY29uc3QgdGFza0lkID0gZGF0ZUlucHV0LmNsb3Nlc3QoJ1tkYXRhLXRhc2staWRdJykuZGF0YXNldC50YXNrSWQ7XG4gICAgICAgIGNvbnN0IG5ld0R1ZURhdGUgPSBkYXRlSW5wdXQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzLm9uVGFza0R1ZURhdGVFZGl0KHByb2plY3RJZCwgdGFza0lkLCBuZXdEdWVEYXRlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBkdWVEYXRlU3Bhbjtcbn1cblxuLy8gY3JlYXRlcyBIVE1MIGZvciBwcm9qZWN0IGl0ZW1zIGluIHNpZGViYXIgZnJvbSBsb2NhbFN0b3JhZ2UgaXRlbVxuY29uc3QgX2NyZWF0ZVByb2plY3RJdGVtSFRNTCA9IChpZCwgbmFtZSkgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgY29uc3QgcHJvamVjdEl0ZW0gPSB2aWV3LmNyZWF0ZUxpc3RFbGVtZW50KCdwcm9qZWN0LWl0ZW0nKTtcbiAgICBwcm9qZWN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGlkKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHZpZXcuY3JlYXRlU3BhbkVsZW1lbnQoJ3Byb2plY3QtbmFtZScpO1xuICAgIHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZUljb25TcGFuKCk7XG5cbiAgICBwcm9qZWN0SXRlbS5hcHBlbmQocHJvamVjdE5hbWUsIGljb25TcGFuKTtcblxuICAgIHJldHVybiBwcm9qZWN0SXRlbTtcbn1cbi8vIFVwZGF0ZXMgcHJvamVjdCBsaXN0IGluIHRoZSBzaWRlYmFyIFxuY29uc3QgdXBkYXRlUHJvamVjdExpc3QgPSAocHJvamVjdHMpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0c0xpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wcm9qZWN0XScpO1xuICAgIFxuICAgIC8vIENsZWFyIGFsbCBlbGVtZW50cyBvZiBjbGFzcyAnLnByb2plY3QtaXRlbSdcbiAgICBjb25zdCBwcm9qZWN0c0FycmF5ID0gW10uc2xpY2UuY2FsbChwcm9qZWN0c0xpc3RDb250YWluZXIuY2hpbGRyZW4pO1xuICAgIHByb2plY3RzQXJyYXkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9qZWN0LWl0ZW0nKSkgaXRlbS5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0cykge1xuICAgICAgICBjb25zdCBodG1sID0gX2NyZWF0ZVByb2plY3RJdGVtSFRNTChwcm9qZWN0LmlkLCBwcm9qZWN0LnByb2plY3ROYW1lKTtcbiAgICAgICAgcHJvamVjdHNMaXN0Q29udGFpbmVyLmluc2VydEJlZm9yZShodG1sLCBhZGRQcm9qZWN0QnRuKTtcbiAgICB9XG5cbiAgICBwcm9qZWN0c0xpc3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QtaXRlbScpLmZvckVhY2gocHJvamVjdEl0ZW0gPT4ge1xuICAgICAgICBwcm9qZWN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0Lm5vZGVOYW1lID09PSAnSU1HJyB8fCB1c2VySW5wdXQpIHJldHVybjtcbiAgICAgICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdFNlbGVjdChwcm9qZWN0SXRlbS5kYXRhc2V0LnByb2plY3RJZCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5jb25zdCBsb2FkVGFzayA9ICAodGFza09iaikgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBjcmVhdGVFbGVtZW50cygpO1xuXG4gICAgY29uc3QgdGFzayA9IHZpZXcuY3JlYXRlTGlzdEVsZW1lbnQoJ3Rhc2snKTtcbiAgICB0YXNrLnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrLWlkJywgdGFza09iai50YXNrSWQpO1xuXG4gICAgY29uc3QgdGFza0l0ZW0gPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLWl0ZW0nKTtcbiAgICBcbiAgICBjb25zdCB0YXNrTmFtZVNwYW4gPSB2aWV3LmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLXRleHQnKTtcbiAgICB0YXNrTmFtZVNwYW4udGV4dENvbnRlbnQgPSB0YXNrT2JqLml0ZW07XG4gICAgXG4gICAgY29uc3QgaWNvblNwYW4gPSBjcmVhdGVJY29uU3BhbigpO1xuICAgIHRhc2tJdGVtLmFwcGVuZCh0YXNrTmFtZVNwYW4sIGljb25TcGFuKTtcbiAgIFxuICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gYWRkRHVlRGF0ZVRvRE9NKCk7XG5cbiAgICBjb25zdCBwcmlvcml0eUljb24gPSBkdWVEYXRlU3Bhbi5xdWVyeVNlbGVjdG9yKCcucHJpb3JpdHktaWNvbicpO1xuICAgIHByaW9yaXR5SWNvbi5jbGFzc0xpc3QuYWRkKGBwcmlvcml0eS0ke3Rhc2tPYmoucHJpb3JpdHl9YCk7XG4gICAgXG4gICAgY29uc3QgZGF0ZUlucHV0ID0gZHVlRGF0ZVNwYW4ucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBkYXRlSW5wdXQudmFsdWUgPSB0YXNrT2JqLmR1ZURhdGU7XG4gIFxuICAgIGlmICh0YXNrT2JqLmlzQ29tcGxldGUpIHRhc2suY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkJyk7XG5cbiAgICB0YXNrLmFwcGVuZCh0YXNrSXRlbSwgZHVlRGF0ZVNwYW4pO1xuXG4gICAgcmV0dXJuIHRhc2s7XG59XG5cbmNvbnN0IHVwZGF0ZUFjdGl2ZVRhYiA9ICh0YWIpID0+IHtcbiAgICBjb25zdCBjdXJyZW50QWN0aXZlVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpO1xuICAgIGlmIChjdXJyZW50QWN0aXZlVGFiKSBjdXJyZW50QWN0aXZlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZVNwYW4gPSB0YWIuY2hpbGRyZW4uaXRlbSgwKTtcbn1cblxuZXhwb3J0IHsgYWRkUHJvamVjdFRvU2lkZWJhciwgYWRkUHJvamVjdFRvTm90ZXBhZCwgYWRkRHVlRGF0ZVRvRE9NLCBjcmVhdGVFbGVtZW50cywgdXBkYXRlUHJvamVjdExpc3QsIHVwZGF0ZUFjdGl2ZVRhYiwgbG9hZFRhc2sgfTsiLCJpbXBvcnQgeyBhZGRQcm9qZWN0VG9TaWRlYmFyLCBhZGRQcm9qZWN0VG9Ob3RlcGFkLCBjcmVhdGVFbGVtZW50cyB9IGZyb20gXCIuL2NyZWF0ZURPTUVsZW1lbnRzXCI7XG5pbXBvcnQgaGFuZGxlcnMgZnJvbSBcIi4vaGFuZGxlcnNcIjtcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIlxuXG5jb25zdCBhd2FpdGluZ0lucHV0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgaWYgKHVzZXJJbnB1dCAhPSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuY29uc3QgaGFuZGxlVXNlcklucHV0ID0gKCkgPT4geyBcbiAgICAvLyBUaGlzIGlzIERPTSBTdHVmZlxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0JylcbiAgICBjb25zdCBpbnB1dEZvcm0gPSB1c2VySW5wdXQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGlucHV0Rm9ybS5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgncHJvamVjdC1uYW1lJyk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSB1c2VySW5wdXQudmFsdWUudHJpbSgpO1xuICAgIGlmICghcHJvamVjdE5hbWUpIHJldHVybjtcblxuICAgIHByb2plY3RTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdE5hbWU7XG4gICAgdXNlcklucHV0LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgcHJvamVjdEl0ZW0uaW5zZXJ0QmVmb3JlKHByb2plY3RTcGFuLCBwcm9qZWN0SXRlbS5jaGlsZE5vZGVzWzBdKTsgXG59XG5cbmNvbnN0IGFkZFByb2plY3QgPSAoKSA9PiB7XG4gICAgaWYgKGF3YWl0aW5nSW5wdXQoKSkgcmV0dXJuO1xuICAgIGFkZFByb2plY3RUb1NpZGViYXIoKTtcbiAgICBcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1pbnB1dCcpO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IHVzZXJJbnB1dC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHByb2plY3RJdGVtID0gaW5wdXRGb3JtLnBhcmVudEVsZW1lbnQ7XG5cbiAgICB1c2VySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHVzZXJJbnB1dC52YWx1ZS50cmltKCkgPT0gJycpIHtcbiAgICAgICAgICAgIHByb2plY3RJdGVtLnJlbW92ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZVVzZXJJbnB1dCgpO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdEFkZChwcm9qZWN0TmFtZSk7IFxuXG4gICAgICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbGlzdCcpO1xuICAgICAgICAvLyBTZWxlY3QgbGFzdCBwcm9qZWN0IGFkZGVkIGFuZCBnZXQgaWQgYXR0cmlidXRlXG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHByb2plY3RMaXN0LmNoaWxkcmVuW3Byb2plY3RMaXN0LmNoaWxkRWxlbWVudENvdW50IC0gMl0uZ2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnKTtcbiAgICAgICAgaWYgKCFhd2FpdGluZ0lucHV0KCkpIGFkZFByb2plY3RUb05vdGVwYWQocHJvamVjdElkKTtcbiAgICB9KTtcblxuICAgIGlucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGhhbmRsZVVzZXJJbnB1dCgpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3RJdGVtLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xuICAgICAgICBoYW5kbGVycy5vblByb2plY3RBZGQocHJvamVjdE5hbWUpOyBcbiAgICAgICAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHByb2plY3RMaXN0LmNoaWxkcmVuW3Byb2plY3RMaXN0LmNoaWxkRWxlbWVudENvdW50IC0gMl0uZ2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnKTtcbiAgICAgICAgaWYgKCFhd2FpdGluZ0lucHV0KCkpIGFkZFByb2plY3RUb05vdGVwYWQocHJvamVjdElkKTtcbiAgICB9KTtcbn1cblxuY29uc3QgZGVsZXRlUHJvamVjdCA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKTtcbiAgICBwcm9qZWN0TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZGVsZXRlLXByb2plY3QnKSkge1xuICAgICAgICAgICAgY29uc3QgZG9EZWxldGUgPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcHJvamVjdCBhbmQgYWxsIGl0cyB0YXNrcz8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS4nKTtcbiAgICAgICAgICAgIGlmICghZG9EZWxldGUpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb2plY3QtaWRdJykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1wcm9qZWN0LWlkPVwiJHtwcm9qZWN0SWR9XCJdYCk7XG4gICAgICAgICAgICBwcm9qZWN0RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IGVsZW1lbnQucmVtb3ZlKCkpO1xuICAgICAgICAgICAgdXBkYXRlU3RvcmFnZS5kZWxldGVQcm9qZWN0KHByb2plY3RJZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiBcbmNvbnN0IGVkaXRQcm9qZWN0ID0gKGUpID0+IHtcbiAgICBpZiAoYXdhaXRpbmdJbnB1dCgpKSByZXR1cm47XG4gICAgXG4gICAgLy8gVGhpcyBpcyBET00gU3R1ZmZcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUZvcm0oKTtcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVJbnB1dEZpZWxkKCdQcm9qZWN0IG5hbWUuLi4nKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcblxuICAgIGlucHV0RmllbGQudmFsdWUgPSBwcm9qZWN0TmFtZS50ZXh0Q29udGVudDtcbiAgICBwcm9qZWN0TmFtZS5yZW1vdmUoKTtcbiAgICBpbnB1dEZvcm0uYXBwZW5kKGlucHV0RmllbGQpO1xuICAgIFxuICAgIGNvbnN0IHByb2plY3RJdGVtID0gZS50YXJnZXQuY2xvc2VzdCgnLnByb2plY3QtaXRlbScpO1xuICAgIHByb2plY3RJdGVtLmluc2VydEJlZm9yZShpbnB1dEZvcm0sIHByb2plY3RJdGVtLmNoaWxkTm9kZXNbMF0pO1xuICAgIFxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgdXNlcklucHV0LmZvY3VzKCk7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdEl0ZW0uZGF0YXNldC5wcm9qZWN0SWQ7XG5cbiAgICB1c2VySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHVzZXJJbnB1dC52YWx1ZSAhPSAnJykgaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIHVwZGF0ZU5hbWVPbk5vdGVwYWQocHJvamVjdElkLCBwcm9qZWN0TmFtZSk7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdE5hbWVFZGl0KHByb2plY3RJZCwgcHJvamVjdE5hbWUpO1xuICAgIH0pO1xuXG4gICAgaW5wdXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaGFuZGxlVXNlcklucHV0KCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdEl0ZW0uZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgIHVwZGF0ZU5hbWVPbk5vdGVwYWQocHJvamVjdElkLCBwcm9qZWN0TmFtZSk7XG4gICAgICAgIGhhbmRsZXJzLm9uUHJvamVjdE5hbWVFZGl0KHByb2plY3RJZCwgcHJvamVjdE5hbWUpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdXBkYXRlTmFtZU9uTm90ZXBhZCA9IChwcm9qZWN0SWQsIHByb2plY3ROYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZXBhZCcpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VGFza3NDb250YWluZXIgPSBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke3Byb2plY3RJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb2plY3RUYXNrc0NvbnRhaW5lcikge1xuICAgICAgICAgICAgcHJvamVjdFRhc2tzQ29udGFpbmVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBcbiAgICBhZGRQcm9qZWN0LFxuICAgIGRlbGV0ZVByb2plY3QsXG4gICAgZWRpdFByb2plY3Rcbn0iLCJpbXBvcnQge2NyZWF0ZUVsZW1lbnRzLCBhZGREdWVEYXRlVG9ET019IGZyb20gXCIuL2NyZWF0ZURPTUVsZW1lbnRzXCI7XG5pbXBvcnQge2Zvcm1hdH0gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQgaGFuZGxlcnMgZnJvbSBcIi4vaGFuZGxlcnNcIjtcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuY29uc3QgdG9nZ2xlVGFzayA9ICh0YXNrRWxlbWVudCkgPT4ge1xuICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2NvbXBsZXRlZCcpO1xuICAgIGxldCBpc0NvbXBsZXRlID0gZmFsc2U7XG5cbiAgICBpZiAodGFza0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb21wbGV0ZWQnKSkge1xuICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgcHJvamVjdElkID0gdGFza0VsZW1lbnQuY2xvc2VzdCgnLnByb2plY3QnKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICBjb25zdCB0YXNrSWQgPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJZDtcblxuICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tDb21wbGV0ZUVkaXQocHJvamVjdElkLCB0YXNrSWQsIGlzQ29tcGxldGUpO1xufVxuXG5jb25zdCBhZGRUYXNrVG9ET00gPSAoYWRkVGFza0J0bikgPT4ge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlci1pbnB1dCcpKSByZXR1cm47XG4gICAgY29uc3QgdGFza0xpc3RFbGVtZW50ID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVMaXN0RWxlbWVudCgndGFzaycpO1xuICAgIGNvbnN0IHRhc2tTcGFuID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVTcGFuRWxlbWVudCgndGFzay1pdGVtJyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gY3JlYXRlRWxlbWVudHMoKS5jcmVhdGVGb3JtKCk7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW5wdXRGaWVsZCgnRW50ZXIgVGFzay4uLicpO1xuICAgIFxuICAgIGlucHV0Rm9ybS5hcHBlbmQoaW5wdXRGaWVsZCk7XG4gICAgdGFza1NwYW4uYXBwZW5kKGlucHV0Rm9ybSk7XG5cbiAgICBjb25zdCBpY29uU3BhbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlU3BhbkVsZW1lbnQoJ2ljb25zJyk7XG4gICAgY29uc3QgZWRpdEljb24gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUltYWdlRWxlbWVudCgnaW1hZ2VzL2VkaXQtaWNvbi5zdmcnLCAnZWRpdC1pY29uJyk7XG4gICAgY29uc3QgZGVsZXRlSWNvbiA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlSW1hZ2VFbGVtZW50KCdpbWFnZXMvZGVsZXRlLWljb24uc3ZnJywgJ2RlbGV0ZS1pY29uJyk7XG5cbiAgICBpY29uU3Bhbi5hcHBlbmQoZWRpdEljb24sIGRlbGV0ZUljb24pO1xuICAgIHRhc2tTcGFuLmFwcGVuZChpY29uU3Bhbik7XG4gICAgY29uc3QgZHVlRGF0ZSA9IGFkZER1ZURhdGVUb0RPTSgpO1xuICAgIHRhc2tMaXN0RWxlbWVudC5hcHBlbmQodGFza1NwYW4sIGR1ZURhdGUpO1xuICAgIFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFkZFRhc2tCdG4uY2xvc2VzdCgnLnRvZG9zJyk7XG4gICAgY29uc3QgbnVtYmVyT2ZUYXNrcyA9IGNvbnRhaW5lci5jaGlsZEVsZW1lbnRDb3VudCAtIDI7XG5cbiAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKHRhc2tMaXN0RWxlbWVudCwgY29udGFpbmVyLmNoaWxkcmVuW251bWJlck9mVGFza3NdKTtcbiAgICBcbiAgICBpbnB1dEZpZWxkLmZvY3VzKCk7XG5cbiAgICByZXR1cm4gdGFza1NwYW47XG59XG5cbmNvbnN0IGVkaXRUYXNrID0gKHRhc2spID0+IHtcbiAgICBpZiAodGFzay5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbXBsZXRlZCcpKSByZXR1cm47XG4gICAgY29uc3QgdGFza1RleHRTcGFuID0gdGFzay5xdWVyeVNlbGVjdG9yKCcudGFzay10ZXh0Jyk7XG4gICAgY29uc3QgdGFza05hbWUgPSB0YXNrVGV4dFNwYW4udGV4dENvbnRlbnQ7XG4gICAgdGFza1RleHRTcGFuLnJlbW92ZSgpO1xuICAgIFxuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGNyZWF0ZUVsZW1lbnRzKCkuY3JlYXRlRm9ybSgpO1xuICAgIGNvbnN0IGlucHV0RmllbGQgPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZUlucHV0RmllbGQoJ0VudGVyIFRhc2suLi4nKTtcbiAgICBcbiAgICBpbnB1dEZpZWxkLnZhbHVlID0gdGFza05hbWU7XG4gICAgaW5wdXRGb3JtLmFwcGVuZChpbnB1dEZpZWxkKTtcblxuICAgIGNvbnN0IHRhc2tTcGFuID0gdGFzay5xdWVyeVNlbGVjdG9yKCcudGFzay1pdGVtJyk7XG4gICAgY29uc3QgaWNvblNwYW4gPSB0YXNrLnF1ZXJ5U2VsZWN0b3IoJy5pY29ucycpO1xuXG4gICAgdGFza1NwYW4uaW5zZXJ0QmVmb3JlKGlucHV0Rm9ybSwgaWNvblNwYW4pO1xuXG4gICAgdGFzay5wcmVwZW5kKHRhc2tTcGFuKTtcbiAgICBpbnB1dEZpZWxkLmZvY3VzKCk7XG4gICAgYWRkVGFzaygpO1xufVxuXG5jb25zdCBkZWxldGVUYXNrID0gKHByb2plY3RJZCwgdGFza0lkKSA9PiB7XG4gICAgY29uc3QgdGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staWQ9XCIke3Rhc2tJZH1cIl1gKTtcbiAgICB0YXNrLnJlbW92ZSgpO1xuICAgIHVwZGF0ZVN0b3JhZ2UuZGVsZXRlVGFzayhwcm9qZWN0SWQsIHRhc2tJZCk7XG59XG5cbmNvbnN0IGFkZFRhc2sgPSAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gaW5wdXRGaWVsZC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBpbnB1dEZvcm0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIFxuICAgIGlucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gdGFza0NvbnRhaW5lci5jbG9zZXN0KCdbZGF0YS1wcm9qZWN0LWlkXScpLmRhdGFzZXQucHJvamVjdElkO1xuICAgICAgICBjb25zdCB0YXNrID0gaW5wdXRGaWVsZC52YWx1ZTtcbiAgICAgICAgdmFsaWRhdGVVc2VySW5wdXQoKTtcbiAgICAgICAgaWYgKHRhc2spIGNyZWF0ZVRhc2sodGFzaywgcHJvamVjdElkLCB0YXNrQ29udGFpbmVyKTtcbiAgICB9KTtcbiAgICBcbiAgICBpbnB1dEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSB0YXNrQ29udGFpbmVyLmNsb3Nlc3QoJ1tkYXRhLXByb2plY3QtaWRdJykuZGF0YXNldC5wcm9qZWN0SWQ7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBpbnB1dEZpZWxkLnZhbHVlO1xuICAgICAgICB2YWxpZGF0ZVVzZXJJbnB1dCgpO1xuICAgICAgICBpZiAodGFzaykgY3JlYXRlVGFzayh0YXNrLCBwcm9qZWN0SWQsIHRhc2tDb250YWluZXIpO1xuICAgIH0pO1xufVxuXG5jb25zdCBjcmVhdGVUYXNrID0gKHRhc2ssIHByb2plY3RJZCwgdGFza0NvbnRhaW5lcikgPT4ge1xuICAgIGlmICh0YXNrQ29udGFpbmVyLmRhdGFzZXQudGFza0lkKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tOYW1lRWRpdChwcm9qZWN0SWQsIHRhc2tDb250YWluZXIuZGF0YXNldC50YXNrSWQsIHRhc2spO1xuICAgIH1cbiAgICBjb25zdCB0YXNrT2JqID0gaGFuZGxlcnMub25UYXNrQWRkKHRhc2ssIHByb2plY3RJZCk7XG4gICAgdGFza0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzay1pZCcsIHRhc2tPYmoudGFza0lkKTtcbn1cblxuY29uc3QgdmFsaWRhdGVVc2VySW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWlucHV0Jyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gaW5wdXRGaWVsZC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IHRhc2tJdGVtID0gaW5wdXRGb3JtLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgdGFza0NvbnRhaW5lciA9IHRhc2tJdGVtLnBhcmVudEVsZW1lbnQ7XG5cbiAgICBjb25zdCB1c2VySW5wdXQgPSBpbnB1dEZpZWxkLnZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCB0YXNrVGV4dFNwYW4gPSBjcmVhdGVFbGVtZW50cygpLmNyZWF0ZVNwYW5FbGVtZW50KCd0YXNrLXRleHQnKTtcbiAgICB0YXNrVGV4dFNwYW4uYXBwZW5kKHVzZXJJbnB1dCk7XG5cbiAgICAvLyBSZW1vdmVzIHRhc2sgY29udGFpbmVyIGlmIHRhc2sgaXNuJ3QgeWV0IGluIGxvY2FsU3RvcmFnZSAoaGFzIGEgdGFza0lkIGRhdGEgYXR0cmlidXRlKVxuICAgIGlmICh1c2VySW5wdXQgPT0gJycgJiYgIXRhc2tDb250YWluZXIuZGF0YXNldC50YXNrSWQpIHtcbiAgICAgICAgdGFza0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0gXG4gICAgZWxzZSBpZiAodXNlcklucHV0ID09ICcnICYmIHRhc2tDb250YWluZXIuZGF0YXNldC50YXNrSWQpIHJldHVybjtcbiAgICBpbnB1dEZvcm0ucmVtb3ZlKCk7XG4gICAgdGFza0l0ZW0ucHJlcGVuZCh0YXNrVGV4dFNwYW4pO1xufVxuXG5jb25zdCB1cGRhdGVQcmlvcml0eSA9IChldmVudFRhcmdldCkgPT4ge1xuICAgIGNvbnN0IHRhc2tJdGVtQ2xhc3NMaXN0ID0gZXZlbnRUYXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdDtcbiAgICBpZiAodGFza0l0ZW1DbGFzc0xpc3QuY29udGFpbnMoJ2NvbXBsZXRlZCcpKSByZXR1cm47XG4gICAgY29uc3QgcHJvamVjdElkID0gZXZlbnRUYXJnZXQuY2xvc2VzdCgnLnByb2plY3QnKS5kYXRhc2V0LnByb2plY3RJZDtcbiAgICBjb25zdCB0YXNrSWQgPSBldmVudFRhcmdldC5jbG9zZXN0KCdbZGF0YS10YXNrLWlkXScpLmRhdGFzZXQudGFza0lkO1xuXG4gICAgY29uc3QgcHJpb3JpdHlDbGFzc0xpc3QgPSBldmVudFRhcmdldC5jbGFzc0xpc3Q7XG5cbiAgICBpZiAocHJpb3JpdHlDbGFzc0xpc3QuY29udGFpbnMoJ3ByaW9yaXR5LWxvdycpKSB7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktbG93Jyk7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LmFkZCgncHJpb3JpdHktbWVkaXVtJyk7XG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tQcmlvcml0eUVkaXQocHJvamVjdElkLCB0YXNrSWQsICdtZWRpdW0nKTsgXG4gICAgfVxuICAgIGlmIChwcmlvcml0eUNsYXNzTGlzdC5jb250YWlucygncHJpb3JpdHktbWVkaXVtJykpIHtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QucmVtb3ZlKCdwcmlvcml0eS1tZWRpdW0nKTtcbiAgICAgICAgcHJpb3JpdHlDbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1oaWdoJyk7XG4gICAgICAgIHJldHVybiBoYW5kbGVycy5vblRhc2tQcmlvcml0eUVkaXQocHJvamVjdElkLCB0YXNrSWQsICdoaWdoJyk7XG4gICAgfVxuICAgIGlmIChwcmlvcml0eUNsYXNzTGlzdC5jb250YWlucygncHJpb3JpdHktaGlnaCcpKSB7XG4gICAgICAgIHByaW9yaXR5Q2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktaGlnaCcpO1xuICAgICAgICBwcmlvcml0eUNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LWxvdycpO1xuICAgICAgICByZXR1cm4gaGFuZGxlcnMub25UYXNrUHJpb3JpdHlFZGl0KHByb2plY3RJZCwgdGFza0lkLCAnbG93Jyk7XG4gICAgfVxufVxuXG5leHBvcnQge1xuICAgIHRvZ2dsZVRhc2ssXG4gICAgYWRkVGFza1RvRE9NLFxuICAgIGFkZFRhc2ssXG4gICAgdXBkYXRlUHJpb3JpdHksXG4gICAgZGVsZXRlVGFzayxcbiAgICBlZGl0VGFza1xufSIsImltcG9ydCB7IGFkZFByb2plY3QsIGRlbGV0ZVByb2plY3QsIGVkaXRQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB1cGRhdGVTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IHVwZGF0ZVByb2plY3RMaXN0IH0gZnJvbSBcIi4vY3JlYXRlRE9NRWxlbWVudHNcIjtcbmltcG9ydCB7IHRvZ2dsZVRhc2ssIGFkZFRhc2tUb0RPTSwgYWRkVGFzaywgdXBkYXRlUHJpb3JpdHksIGRlbGV0ZVRhc2ssIGVkaXRUYXNrLCBhZGp1c3RFbGVtZW50SGVpZ2h0IH0gZnJvbSBcIi4vdGFza3NcIjtcbmltcG9ydCBoYW5kbGVycyBmcm9tIFwiLi9oYW5kbGVyc1wiO1xuXG4vLyBMb2FkIGxvY2FsU3RvcmFnZSBpdGVtcyBvbiBwYWdlIGxvYWRcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgY29uc3QgdGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGFiPVwiaG9tZVwiXScpO1xuICAgXG4gICAgdXBkYXRlUHJvamVjdExpc3QocHJvamVjdHMpO1xuICAgIGhhbmRsZXJzLm9uSG9tZVRhYlNlbGVjdChwcm9qZWN0cywgdGFiKTtcbn1cblxuLy8gU2lkZWJhciBNb2R1bGVcbmNvbnN0IHNpZGViYXJDb250cm9sbGVyID0gKCgpID0+IHtcblxuICAgIGNvbnN0IG1vYmlsZVRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJzLWljb24tbW9iaWxlJyk7XG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyJyk7XG5cbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gMTAyNCAmJiBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgIGlmIChzaWRlYmFyLmNsYXNzTGlzdC5jb250YWlucygndG9nZ2xlLXNpZGViYXInKSkgcmV0dXJuO1xuICAgICAgICAgXG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDI0ICYmIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgICAgICBtb2JpbGVUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHRvZ2dsZVNpZGViYXIgPSAoKSA9PiB7XG4gICAgICAgIHNpZGViYXIuY2xhc3NMaXN0LnRvZ2dsZSgndG9nZ2xlLXNpZGViYXInKTtcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjQpIG1vYmlsZVRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhcnMtaWNvbicpO1xuICAgIHRvZ2dsZUJ0bi5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVNpZGViYXIpO1xuICAgIH0pOyAgICAgICAgXG5cbiAgICBjb25zdCBob21lVGFiID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YWI9XCJob21lXCJdJyk7XG4gICAgY29uc3QgdG9kYXlUYWIgPSBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRhYj1cInRvZGF5XCJdJyk7XG4gICAgY29uc3QgdGhpc1dlZWtUYWIgPSBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRhYj1cInRoaXMtd2Vla1wiXScpO1xuXG4gICAgXG4gICAgaG9tZVRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGhhbmRsZXJzLm9uSG9tZVRhYlNlbGVjdChwcm9qZWN0cywgaG9tZVRhYik7XG4gICAgfSk7XG5cbiAgICB0b2RheVRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHMgPSB1cGRhdGVTdG9yYWdlLmdldFByb2plY3RzKCk7XG4gICAgICAgIGhhbmRsZXJzLm9uVG9kYXlUYWJTZWxlY3QocHJvamVjdHMsIHRvZGF5VGFiKTtcbiAgICB9KTtcblxuICAgIHRoaXNXZWVrVGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IHVwZGF0ZVN0b3JhZ2UuZ2V0UHJvamVjdHMoKTtcbiAgICAgICAgaGFuZGxlcnMub25UaGlzV2Vla1RhYlNlbGVjdChwcm9qZWN0cywgdGhpc1dlZWtUYWIpO1xuICAgIH0pO1xuXG59KSgpO1xuXG5jb25zdCBwcm9qZWN0Q29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgZGVsZXRlUHJvamVjdCgpO1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcHJvamVjdF0nKTtcbiAgICBhZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUHJvamVjdCk7XG4gICAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0Jyk7XG5cbiAgICBwcm9qZWN0TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQtcHJvamVjdCcpKSB7XG4gICAgICAgICAgICBlZGl0UHJvamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcblxuY29uc3QgdGFza0NvbnRyb2xsZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZXBhZCcpO1xuICAgIG5vdGVwYWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLXRleHQnKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBlLnRhcmdldC5jbG9zZXN0KCcudGFzaycpO1xuICAgICAgICAgICAgdG9nZ2xlVGFzayh0YXNrRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhZGQtdGFzaycpKSB7XG4gICAgICAgICAgICBhZGRUYXNrVG9ET00oZS50YXJnZXQpO1xuICAgICAgICAgICAgYWRkVGFzaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJpb3JpdHktaWNvbicpKSB7XG4gICAgICAgICAgICB1cGRhdGVQcmlvcml0eShlLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQtaWNvbicpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrID0gZS50YXJnZXQuY2xvc2VzdCgnLnRhc2snKTtcbiAgICAgICAgICAgIGVkaXRUYXNrKHRhc2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZWxldGUtaWNvbicpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9qZWN0LWlkXScpLmRhdGFzZXQucHJvamVjdElkO1xuICAgICAgICAgICAgY29uc3QgdGFza0lkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdGFzay1pZF0nKS5kYXRhc2V0LnRhc2tJZDtcbiAgICAgICAgICAgIGRlbGV0ZVRhc2socHJvamVjdElkLCB0YXNrSWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpOyJdLCJuYW1lcyI6WyJnZXRQcm9qZWN0cyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzYXZlUHJvamVjdCIsInByb2plY3RUb1NhdmUiLCJwcm9qZWN0cyIsImV4aXN0aW5nIiwiZmluZCIsInByb2plY3QiLCJpZCIsInByb2plY3ROYW1lIiwidGFza3MiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwdXNoIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImdldFRhc2tzIiwicHJvamVjdElkIiwiZGVsZXRlUHJvamVjdCIsInVwZGF0ZWRQcm9qZWN0TGlzdCIsImZpbHRlciIsImRlbGV0ZVRhc2siLCJ0YXNrSWQiLCJwcm9qZWN0V2l0aFRhc2siLCJ1cGRhdGVkVGFza09iaiIsInRhc2tPYmoiLCJmaW5kVGFza1RvVXBkYXRlIiwiZXhpc3RpbmdUYXNrSWQiLCJ0YXNrIiwidXBkYXRlVGFzayIsInVwZGF0ZWRUYXNrIiwicHJvamVjdFRvVXBkYXRlIiwidGFza3NBcnJheSIsImluZGV4T2ZVcGRhdGVkVGFzayIsImZpbmRJbmRleCIsInJlcXVpcmVkQXJncyIsInJlcXVpcmVkIiwiYXJncyIsImxlbmd0aCIsIlR5cGVFcnJvciIsInRvRGF0ZSIsImFyZ3VtZW50IiwiYXJndW1lbnRzIiwiYXJnU3RyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiRGF0ZSIsImdldFRpbWUiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwic3RhY2siLCJOYU4iLCJzdGFydE9mRGF5IiwiZGlydHlEYXRlIiwiZGF0ZSIsInNldEhvdXJzIiwiaXNTYW1lRGF5IiwiZGlydHlEYXRlTGVmdCIsImRpcnR5RGF0ZVJpZ2h0IiwiZGF0ZUxlZnRTdGFydE9mRGF5IiwiZGF0ZVJpZ2h0U3RhcnRPZkRheSIsInRvSW50ZWdlciIsImRpcnR5TnVtYmVyIiwibnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJjZWlsIiwiTUlMTElTRUNPTkRTX0lOX0hPVVIiLCJwYXR0ZXJucyIsImRhdGVUaW1lRGVsaW1pdGVyIiwidGltZVpvbmVEZWxpbWl0ZXIiLCJ0aW1lem9uZSIsImRhdGVSZWdleCIsInRpbWVSZWdleCIsInRpbWV6b25lUmVnZXgiLCJwYXJzZUlTTyIsImRpcnR5T3B0aW9ucyIsIm9wdGlvbnMiLCJhZGRpdGlvbmFsRGlnaXRzIiwiUmFuZ2VFcnJvciIsImRhdGVTdHJpbmdzIiwic3BsaXREYXRlU3RyaW5nIiwicGFyc2VZZWFyUmVzdWx0IiwicGFyc2VZZWFyIiwicGFyc2VEYXRlIiwicmVzdERhdGVTdHJpbmciLCJ5ZWFyIiwib2Zmc2V0IiwidGltZXN0YW1wIiwidGltZSIsInBhcnNlVGltZSIsInJlc3VsdCIsInNldEZ1bGxZZWFyIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJnZXRVVENIb3VycyIsImdldFVUQ01pbnV0ZXMiLCJnZXRVVENTZWNvbmRzIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwicGFyc2VUaW1lem9uZSIsImRhdGVTdHJpbmciLCJ0aW1lU3RyaW5nIiwiYXJyYXkiLCJzcGxpdCIsInRlc3QiLCJzdWJzdHIiLCJ0b2tlbiIsImV4ZWMiLCJyZXBsYWNlIiwicmVnZXgiLCJSZWdFeHAiLCJjYXB0dXJlcyIsIm1hdGNoIiwicGFyc2VJbnQiLCJjZW50dXJ5Iiwic2xpY2UiLCJpc1dlZWtEYXRlIiwiZGF5T2ZZZWFyIiwicGFyc2VEYXRlVW5pdCIsIm1vbnRoIiwiZGF5Iiwid2VlayIsImRheU9mV2VlayIsIl95ZWFyIiwidmFsaWRhdGVXZWVrRGF0ZSIsImlzb1dlZWtZZWFyIiwic2V0VVRDRnVsbFllYXIiLCJkaWZmIiwiZ2V0VVRDRGF5Iiwic2V0VVRDRGF0ZSIsImRheU9mSVNPV2Vla1llYXIiLCJkYXlzSW5Nb250aHMiLCJpc0xlYXBZZWFySW5kZXgiLCJ2YWxpZGF0ZURhdGUiLCJ2YWxpZGF0ZURheU9mWWVhckRhdGUiLCJtYXgiLCJ2YWx1ZSIsImhvdXJzIiwicGFyc2VUaW1lVW5pdCIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwidmFsaWRhdGVUaW1lIiwicGFyc2VGbG9hdCIsInRpbWV6b25lU3RyaW5nIiwic2lnbiIsIl9ob3VycyIsInZhbGlkYXRlVGltZXpvbmUiLCJzdGFydE9mV2VlayIsImxvY2FsZSIsImxvY2FsZVdlZWtTdGFydHNPbiIsIndlZWtTdGFydHNPbiIsImRlZmF1bHRXZWVrU3RhcnRzT24iLCJnZXREYXkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImlzU2FtZVdlZWsiLCJkYXRlTGVmdFN0YXJ0T2ZXZWVrIiwiZGF0ZVJpZ2h0U3RhcnRPZldlZWsiLCJfcmVmcmVzaFByb2plY3RMaXN0IiwidXBkYXRlUHJvamVjdExpc3QiLCJkdWVUb2RheSIsIm5vdyIsImlzVG9kYXkiLCJkdWVEYXRlIiwiZHVlVGhpc1dlZWsiLCJpc1RoaXNXZWVrIiwibG9hZEFsbFByb2plY3RzIiwiY2xlYXJQcm9qZWN0c0Zyb21ET00iLCJub3RlcGFkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWFjaCIsImFkZFByb2plY3RUb05vdGVwYWQiLCJwcm9qZWN0VGFza3MiLCJwcm9qZWN0Q29udGFpbmVyIiwidGFza3NMaXN0IiwiYWRkVGFza0J0biIsInRhc2tUb0FkZCIsImxvYWRUYXNrIiwiaW5zZXJ0QmVmb3JlIiwicGFyZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmUiLCJvblByb2plY3RTZWxlY3QiLCJwcm9qZWN0T2JqZWN0Iiwic2VsZWN0ZWRQcm9qZWN0IiwiZGF0YXNldCIsInVwZGF0ZUFjdGl2ZVRhYiIsIm9uUHJvamVjdEFkZCIsIm5ld1Byb2plY3QiLCJvblByb2plY3ROYW1lRWRpdCIsIm9uVGFza0FkZCIsIm5ld1Rhc2siLCJpdGVtIiwicHJpb3JpdHkiLCJpc0NvbXBsZXRlIiwib25UYXNrTmFtZUVkaXQiLCJuZXdUYXNrTmFtZSIsImV4aXN0aW5nVGFzayIsIm9uVGFza1ByaW9yaXR5RWRpdCIsIm5ld1ByaW9yaXR5Iiwib25UYXNrRHVlRGF0ZUVkaXQiLCJuZXdEdWVEYXRlIiwib25UYXNrQ29tcGxldGVFZGl0Iiwib25Ib21lVGFiU2VsZWN0IiwidGFiIiwib25Ub2RheVRhYlNlbGVjdCIsInRhc2tDb250YWluZXIiLCJvblRoaXNXZWVrVGFiU2VsZWN0IiwiY3JlYXRlRWxlbWVudHMiLCJjcmVhdGVMaXN0RWxlbWVudCIsImh0bWxDbGFzcyIsImxpIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZVNwYW5FbGVtZW50Iiwic3BhbiIsImNsYXNzTGlzdCIsImFkZCIsImNyZWF0ZUltYWdlRWxlbWVudCIsInNyYyIsImltZyIsImNyZWF0ZUlucHV0RmllbGQiLCJwbGFjZWhvbGRlclRleHQiLCJ1c2VySW5wdXQiLCJjcmVhdGVGb3JtIiwiY3JlYXRlRGl2IiwiZGl2IiwiY3JlYXRlSWNvblNwYW4iLCJ2aWV3IiwiaWNvblNwYW4iLCJlZGl0SWNvbiIsImRlbGV0ZUljb24iLCJhcHBlbmQiLCJwcm9qZWN0RGl2Iiwic2tpcExpbmUiLCJwcm9qZWN0SGVhZGluZyIsImgyIiwidGV4dENvbnRlbnQiLCJoMyIsInRhc2tzQ29udGFpbmVyIiwiYWRkVGFza0xpc3RFbGVtZW50IiwiYWRkVGFza1NwYW4iLCJhZGRJY29uIiwiYWRkRHVlRGF0ZVRvRE9NIiwiZHVlRGF0ZVNwYW4iLCJwcmlvcml0eUljb24iLCJkYXRlTGFiZWwiLCJkYXRlSW5wdXQiLCJjYWxlbmRhckljb24iLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2VzdCIsIl9jcmVhdGVQcm9qZWN0SXRlbUhUTUwiLCJuYW1lIiwicHJvamVjdEl0ZW0iLCJwcm9qZWN0c0xpc3RDb250YWluZXIiLCJhZGRQcm9qZWN0QnRuIiwiY2hpbGRyZW4iLCJjb250YWlucyIsImh0bWwiLCJlIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJ0YXNrSXRlbSIsInRhc2tOYW1lU3BhbiIsImN1cnJlbnRBY3RpdmVUYWIiLCJhd2FpdGluZ0lucHV0IiwiaGFuZGxlVXNlcklucHV0IiwicHJvamVjdFNwYW4iLCJ0cmltIiwiY2hpbGROb2RlcyIsImFkZFByb2plY3QiLCJwcm9qZWN0c0NvbnRhaW5lciIsInByb2plY3RMaXN0RWxlbWVudCIsInByb2plY3RJbnB1dEZvcm0iLCJwcm9qZWN0TmFtZUlucHV0IiwibGFzdEVsZW1lbnRDaGlsZCIsInNldFRpbWVvdXQiLCJmb2N1cyIsImFkZFByb2plY3RUb1NpZGViYXIiLCJpbnB1dEZvcm0iLCJmaXJzdEVsZW1lbnRDaGlsZCIsInByb2plY3RMaXN0IiwiY2hpbGRFbGVtZW50Q291bnQiLCJnZXRBdHRyaWJ1dGUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZFRhc2siLCJpbnB1dEZpZWxkIiwidmFsaWRhdGVVc2VySW5wdXQiLCJjcmVhdGVUYXNrIiwidGFza1RleHRTcGFuIiwicHJlcGVuZCIsIndpbmRvdyIsIm9ubG9hZCIsIm1vYmlsZVRvZ2dsZUJ0biIsImdldEVsZW1lbnRCeUlkIiwic2lkZWJhciIsImlubmVyV2lkdGgiLCJ0b2dnbGUiLCJ0b2dnbGVTaWRlYmFyIiwiYnV0dG9uIiwiaG9tZVRhYiIsInRvZGF5VGFiIiwidGhpc1dlZWtUYWIiLCJjb25maXJtIiwiZWxlbWVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJ1cGRhdGVOYW1lT25Ob3RlcGFkIiwicHJvamVjdFRhc2tzQ29udGFpbmVyIiwiZWRpdFByb2plY3QiLCJ0YXNrRWxlbWVudCIsInRvZ2dsZVRhc2siLCJ0YXNrTGlzdEVsZW1lbnQiLCJ0YXNrU3BhbiIsImNvbnRhaW5lciIsIm51bWJlck9mVGFza3MiLCJhZGRUYXNrVG9ET00iLCJldmVudFRhcmdldCIsInByaW9yaXR5Q2xhc3NMaXN0IiwidXBkYXRlUHJpb3JpdHkiLCJ0YXNrTmFtZSIsImVkaXRUYXNrIl0sInNvdXJjZVJvb3QiOiIifQ==